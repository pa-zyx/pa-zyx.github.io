<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Microwave. Five minutes.</title>
  
  <subtitle>ä»–å¤§æ¦‚ä¼šè¯´ä½ æƒ³å¾—å¤ªå¤š</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.pazyx.xyz/"/>
  <updated>2018-11-05T16:11:06.899Z</updated>
  <id>https://blog.pazyx.xyz/</id>
  
  <author>
    <name>pazyx.xyz</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åƒè‰ - æ‰“é“</title>
    <link href="https://blog.pazyx.xyz/2018/11/06/2018_icpc_qingdao_regional/"/>
    <id>https://blog.pazyx.xyz/2018/11/06/2018_icpc_qingdao_regional/</id>
    <published>2018-11-05T16:00:24.000Z</published>
    <updated>2018-11-05T16:11:06.899Z</updated>
    
    <content type="html"><![CDATA[<h1 id="The-2018-ACM-ICPC-Asia-Qingdao-Regional-Contest"><a href="#The-2018-ACM-ICPC-Asia-Qingdao-Regional-Contest" class="headerlink" title="The 2018 ACM-ICPC Asia Qingdao Regional Contest"></a><center>The 2018 ACM-ICPC Asia Qingdao Regional Contest</center></h1><center><a href="http://acm.zju.edu.cn/contest-materials/qd2018/qd2018_problems.pdf" target="_blank" rel="noopener">è¯•é¢˜</a> | <a href="http://acm.upc.edu.cn/rank/" target="_blank" rel="noopener">ç»ˆæ¦œ</a></center><p><br></p><p><img src="/2018/11/06/2018_icpc_qingdao_regional/IMG_1515.JPG" alt=""></p><p><br></p><h1 id="ä¸‰é¢˜æ®‹é…·æ‰“é“"><a href="#ä¸‰é¢˜æ®‹é…·æ‰“é“" class="headerlink" title="ä¸‰é¢˜æ®‹é…·æ‰“é“"></a><center>ä¸‰é¢˜æ®‹é…·æ‰“é“</center></h1><h2 id="Problem-C-Flippy-Sequence"><a href="#Problem-C-Flippy-Sequence" class="headerlink" title="Problem C. Flippy Sequence"></a>Problem C. Flippy Sequence</h2><p><img src="/2018/11/06/2018_icpc_qingdao_regional/Problem C. Flippy Sequence_0.png" alt=""></p><p><img src="/2018/11/06/2018_icpc_qingdao_regional/Problem C. Flippy Sequence_1.png" alt=""></p><h2 id="Problem-J-Books"><a href="#Problem-J-Books" class="headerlink" title="Problem J. Books"></a>Problem J. Books</h2><p><img src="/2018/11/06/2018_icpc_qingdao_regional/Problem J. Books.png" alt=""></p><h2 id="Problem-M-Function-and-Function"><a href="#Problem-M-Function-and-Function" class="headerlink" title="Problem M. Function and Function"></a>Problem M. Function and Function</h2><p><img src="/2018/11/06/2018_icpc_qingdao_regional/Problem M. Function and Function.png" alt=""></p><p><br></p><h1 id="é“ç‰ŒåŒºçš„å‹è°Š"><a href="#é“ç‰ŒåŒºçš„å‹è°Š" class="headerlink" title="é“ç‰ŒåŒºçš„å‹è°Š"></a><center>é“ç‰ŒåŒºçš„å‹è°Š</center></h1><p><img src="/2018/11/06/2018_icpc_qingdao_regional/IMG_1542.png" alt=""></p><center>ç‡ƒçƒ§æˆ‘çš„åˆ¤é¢˜æœº(BURN MY OJ) ğŸ¤ çŒ›åƒè‰(VnEpCxmR)</center><p><br></p><h1 id="ã€Šæ‰“é“å½’æ¥ã€‹"><a href="#ã€Šæ‰“é“å½’æ¥ã€‹" class="headerlink" title=" ã€Šæ‰“é“å½’æ¥ã€‹ "></a><center> ã€Šæ‰“é“å½’æ¥ã€‹ </center></h1><p>ç”±è‘—åæ³¢æ™®è‰ºæœ¯å®¶èµµç šæ½‡æ‹æ‘„çš„å¤§ç”µå½±ã€Šæ‰“é“å½’æ¥ã€‹å°†åœ¨è¿‘æ—¥ç™»é™† YouTubeï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><p><br><br><br></p><p><center><font size="20">â€œè¾“å…¥ç†æƒ³ç¨‹åºï¼Œè¾“å‡ºå¿«ä¹äººç”Ÿã€‚â€</font></center><br><br></p><p><center><font size="20">è°¢è°¢å¤§å®¶ï¼</font></center><br><br><br><br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;The-2018-ACM-ICPC-Asia-Qingdao-Regional-Contest&quot;&gt;&lt;a href=&quot;#The-2018-ACM-ICPC-Asia-Qingdao-Regional-Contest&quot; class=&quot;headerlink&quot; title
      
    
    </summary>
    
      <category term="æ³› - çºªå¿µ" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E7%BA%AA%E5%BF%B5/"/>
    
    
      <category term="ACM" scheme="https://blog.pazyx.xyz/tags/ACM/"/>
    
      <category term="çºªå¿µ" scheme="https://blog.pazyx.xyz/tags/%E7%BA%AA%E5%BF%B5/"/>
    
      <category term="ICPC" scheme="https://blog.pazyx.xyz/tags/ICPC/"/>
    
      <category term="é’å²›" scheme="https://blog.pazyx.xyz/tags/%E9%9D%92%E5%B2%9B/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œè®°ã€0x04 300æ¯«å‡å°ç“¶å¯ä¹ä¸ç½è£…å¯ä¹</title>
    <link href="https://blog.pazyx.xyz/2018/11/01/weekly_4/"/>
    <id>https://blog.pazyx.xyz/2018/11/01/weekly_4/</id>
    <published>2018-11-01T15:42:47.000Z</published>
    <updated>2018-11-01T15:47:22.512Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ç›´ä»¥æ¥æˆ‘æ˜¯ä¸å–ç“¶è£…å¯ä¹çš„ï¼Œä½†æœ€è¿‘å–äº†ä¸¤ç“¶å°å¯ä¹ï½æ„Ÿè§‰å¾ˆå¥½ï½</p><p>ç“¶è£…å¯ä¹åœ¨å–åˆ°æœ€åæ—¶æ²¡æœ‰ç½è£…æœ€åçš„é‡‘å±æ„Ÿï¼Œä½†åœ¨å–è¿‡ä¸€æ®µæ—¶é—´åä¼šæœ‰å¡‘æ–™æ„Ÿã€‚</p><p>å¯¹äºç½è£…å¯ä¹æœ€åçš„é‡‘å±æ„Ÿæˆ‘æ„Ÿåˆ°wun</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸€ç›´ä»¥æ¥æˆ‘æ˜¯ä¸å–ç“¶è£…å¯ä¹çš„ï¼Œä½†æœ€è¿‘å–äº†ä¸¤ç“¶å°å¯ä¹ï½æ„Ÿè§‰å¾ˆå¥½ï½&lt;/p&gt;
&lt;p&gt;ç“¶è£…å¯ä¹åœ¨å–åˆ°æœ€åæ—¶æ²¡æœ‰ç½è£…æœ€åçš„é‡‘å±æ„Ÿï¼Œä½†åœ¨å–è¿‡ä¸€æ®µæ—¶é—´åä¼šæœ‰å¡‘æ–™æ„Ÿã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç½è£…å¯ä¹æœ€åçš„é‡‘å±æ„Ÿæˆ‘æ„Ÿåˆ°wun&lt;/p&gt;

      
    
    </summary>
    
      <category term="æ³› - è®°" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%B0/"/>
    
    
      <category term="å¯ä¹" scheme="https://blog.pazyx.xyz/tags/%E5%8F%AF%E4%B9%90/"/>
    
      <category term="è®°" scheme="https://blog.pazyx.xyz/tags/%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œè®°ã€0x03 äºŒé›¶ä¸€å…«å¹´åæœˆäºŒåä¹æ—¥å‡Œæ™¨äººæ°‘å–ä¸åˆ°å†°é•‡å¯ä¹</title>
    <link href="https://blog.pazyx.xyz/2018/10/29/weekly_3/"/>
    <id>https://blog.pazyx.xyz/2018/10/29/weekly_3/</id>
    <published>2018-10-28T16:13:47.000Z</published>
    <updated>2018-10-28T16:20:48.817Z</updated>
    
    <content type="html"><![CDATA[<p>äºŒé›¶ä¸€å…«å¹´åæœˆæˆ‘å› ä¸ºåŠå¤œå‡ºå»ä¹°å¯ä¹å·²ç»åˆ·äº†å››æ¬¡æ™šå½’ï¼Œç„¶è€Œäº”æ¬¡å°±è¦è®°è¿‡â€¦</p><p>æˆ‘ä»¬æ²¡æœ‰åŠæ³•ï¼Œåªèƒ½ç—›è‹¦çš„å…¥ç¡â€¦</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;äºŒé›¶ä¸€å…«å¹´åæœˆæˆ‘å› ä¸ºåŠå¤œå‡ºå»ä¹°å¯ä¹å·²ç»åˆ·äº†å››æ¬¡æ™šå½’ï¼Œç„¶è€Œäº”æ¬¡å°±è¦è®°è¿‡â€¦&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ²¡æœ‰åŠæ³•ï¼Œåªèƒ½ç—›è‹¦çš„å…¥ç¡â€¦&lt;/p&gt;

      
    
    </summary>
    
      <category term="æ³› - è®°" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%B0/"/>
    
    
      <category term="å¯ä¹" scheme="https://blog.pazyx.xyz/tags/%E5%8F%AF%E4%B9%90/"/>
    
      <category term="è‡ªç”±" scheme="https://blog.pazyx.xyz/tags/%E8%87%AA%E7%94%B1/"/>
    
      <category term="è®°" scheme="https://blog.pazyx.xyz/tags/%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒè¥è§£é¢˜æ€»ç»“ï¼ˆç¬¬äºŒå‘¨ï¼‰//ToDo</title>
    <link href="https://blog.pazyx.xyz/2018/08/12/algor_club_code_2/"/>
    <id>https://blog.pazyx.xyz/2018/08/12/algor_club_code_2/</id>
    <published>2018-08-11T16:30:49.000Z</published>
    <updated>2018-08-11T16:27:52.833Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°"><a href="#é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°" class="headerlink" title="é¢˜ç›®å¤§æ„ &amp; ä»£ç å®ç°"></a>é¢˜ç›®å¤§æ„ &amp; ä»£ç å®ç°</h1><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>ç»™å‡ºnä¸ªæ•´æ•°ï¼Œå°†å®ƒä»¬ä»å°åˆ°å¤§æ’åºåè¾“å‡ºã€‚</p><ul><li>å¯¹äºå‰30%çš„æ•°æ®ï¼Œn â‰¤ 100ï¼Œç»™å‡ºçš„nä¸ªæ•´æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10ï¼›</li><li>å¯¹äºå‰60%çš„æ•°æ®ï¼Œn â‰¤ 5000ï¼Œç»™å‡ºçš„nä¸ªæ•´æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10^9ï¼›</li><li>å¯¹äºå¦20%çš„æ•°æ®ï¼Œn â‰¤ 500000ï¼Œç»™å‡ºçš„nä¸ªæ•´æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10^5ï¼›</li><li>å¯¹äº100%çš„æ•°æ®ï¼Œn â‰¤ 500000ï¼Œç»™å‡ºçš„nä¸ªæ•´æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10^9ã€‚</li></ul><p>æ—¶é—´ï¼š2 sec<br>ç©ºé—´ï¼š256 MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">        a.push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a.begin(),a.end());</span><br><span class="line">    <span class="comment">//a = getAnswer(n, a);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, a[i], <span class="string">" \n"</span>[i == n - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h2><p>æœ‰nä¸ªæ­£æ•´æ•°æ’æˆä¸€æ’ï¼Œä½ è¦å°†è¿™äº›æ•°åˆ†æˆmä»½ï¼ˆåŒä¸€ä»½ä¸­çš„æ•°å­—éƒ½æ˜¯è¿ç»­çš„ï¼Œä¸èƒ½éš”å¼€ï¼‰ï¼ŒåŒæ—¶æ•°å­—ä¹‹å’Œæœ€å¤§çš„é‚£ä¸€ä»½çš„æ•°å­—ä¹‹å’Œå°½é‡å°ã€‚</p><ul><li>å¯¹äº50%çš„æ•°æ®ï¼Œn â‰¤ 100ï¼Œç»™å‡ºçš„nä¸ªæ­£æ•´æ•°ä¸è¶…è¿‡10ï¼›</li><li>å¯¹äº100%çš„æ•°æ®ï¼Œm â‰¤ n â‰¤ 300000ï¼Œç»™å‡ºçš„nä¸ªæ­£æ•´æ•°ä¸è¶…è¿‡1000000ã€‚</li></ul><p>æ—¶é—´ï¼š4 sec<br>ç©ºé—´ï¼š512 MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">( <span class="keyword">long</span> <span class="keyword">long</span> d, <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;a )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span>( a[i] &gt; d )</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        sum += a[i];</span><br><span class="line">        <span class="keyword">if</span>( sum &gt; d ) &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            i--;</span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt &gt; m)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ‰€ç»™æ•°ç»„åˆ†æˆè¿ç»­çš„mä»½ï¼Œä½¿å¾—æ•°å­—ä¹‹å’Œæœ€å¤§çš„é‚£ä¸€ä»½çš„æ•°å­—ä¹‹å’Œæœ€å°</span></span><br><span class="line"><span class="comment">// nï¼šæ•°ç»„å¤§å°</span></span><br><span class="line"><span class="comment">// mï¼šé¢˜ä¸­çš„m</span></span><br><span class="line"><span class="comment">// aï¼šæ‰€ç»™æ•°ç»„ï¼Œå¤§å°ä¸ºn</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šæœ€ä¼˜æ–¹æ¡ˆä¸­ï¼Œæ•°å­—ä¹‹å’Œæœ€å¤§çš„é‚£ä¸€ä»½çš„æ•°å­—ä¹‹å’Œ</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> l = <span class="number">1</span>, r = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        r += a[i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>( l &lt;= r ) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(check(mid, n, m, a))</span><br><span class="line">            r = mid - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> r + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line">    a.resize(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, getAnswer(n, m, a));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤§è½¬ç›˜"><a href="#å¤§è½¬ç›˜" class="headerlink" title="å¤§è½¬ç›˜"></a>å¤§è½¬ç›˜</h2><p>é‚“è€å¸ˆæœ‰ä¸€ä¸ªå¤§è½¬ç›˜ï¼Œè¢«å¹³åˆ†æˆäº† 2^n ä»½ã€‚<br>é‚“è€å¸ˆè¿˜æœ‰ä¸€ä¸ªé•¿åº¦ä¸º 2^n çš„æ•°ç»„ aï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ 0 æˆ– 1ã€‚äºæ˜¯é‚“è€å¸ˆå°±å¯ä»¥é€‰æ‹©å¤§è½¬ç›˜ä¸Šçš„ä¸€ä¸ªä½ç½®ï¼Œå°† a[0] å¡«å…¥å…¶ä¸­ï¼Œç„¶åæŒ‰é¡ºæ—¶é’ˆé¡ºåºä¾æ¬¡å°† a[1],a[2],â€¦,a[2^n-1] å¡«å…¥ã€‚<br>å¯¹äºå¤§è½¬ç›˜ä¸Šçš„ä¸€ä¸ªæŒ‡å®šä½ç½®ï¼Œé‚“è€å¸ˆå¯ä»¥ä»å®ƒå¼€å§‹ï¼Œå–å‡ºé¡ºæ—¶é’ˆæ–¹å‘çš„ n ä¸ªä½ç½®ï¼Œå¹¶å°†å®ƒä»¬æŒ‰åŸé¡ºåºæ‹¼æ¥èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªé•¿åº¦ä¸º n çš„ 01 ä¸²ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ª n ä½äºŒè¿›åˆ¶æ•°ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ•°ç§°ä½œä»è¿™ä¸ªä½ç½®å¼€å§‹çš„å¹¸è¿æ•°ã€‚<br>æ˜¾ç„¶åœ°ï¼Œå¤§è½¬ç›˜ä¸Šå…±æœ‰ 2^n ä¸ªä½ç½®å¯ä»¥è·å¾—å¹¸è¿æ•°ï¼Œè€Œå·§åˆçš„æ˜¯ n ä½äºŒè¿›åˆ¶æ•°æ°å¥½ä¹Ÿæœ‰ 2^n ä¸ªï¼Œæ‰€ä»¥é‚“è€å¸ˆå¸Œæœ›è¿™äº›æ‰€æœ‰çš„å¹¸è¿æ•°åŒ…å«äº†æ‰€æœ‰çš„ n ä½äºŒè¿›åˆ¶æ•°ã€‚<br>è¯·è¾“å‡ºä¸€ä¸ªæ•°ç»„ aï¼Œä½¿å…¶æ»¡è¶³é‚“è€å¸ˆçš„è¦æ±‚ã€‚ï¼ˆå¦‚æœæœ‰å¤šè§£ï¼Œè¾“å‡ºä»»ä¸€å³å¯ï¼‰</p><p>æœ¬é¢˜åŒ…å« 16 ä¸ªæµ‹è¯•ç‚¹ã€‚å¯¹äºç¬¬ i ä¸ªæµ‹è¯•ç‚¹ï¼ˆ1&lt;=i&lt;=16ï¼‰ï¼Œæ»¡è¶³ n=iã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> allOne;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; vis[<span class="number">2</span>];</span><br><span class="line"><span class="built_in">string</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">twoPow</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> &lt;&lt; x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; ++i )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[i][u])&#123;</span><br><span class="line">            <span class="keyword">int</span> v = ((u &lt;&lt; <span class="number">1</span>) | i) &amp; allOne;</span><br><span class="line">            vis[i][u] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            dfs(v);</span><br><span class="line">            ans.push_back(<span class="string">'0'</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¬å‡½æ•°æ±‚è§£å¤§è½¬ç›˜ä¸Šçš„æ•°ï¼Œä½ éœ€è¦æŠŠå¤§è½¬ç›˜ä¸Šçš„æ•°æŒ‰é¡ºæ—¶é’ˆé¡ºåºè¿”å›</span></span><br><span class="line"><span class="comment">// nï¼šå¯¹åº”è½¬ç›˜å¤§å°ï¼Œæ„ä¹‰ä¸é¢˜ç›®æè¿°ä¸€è‡´ï¼Œå…·ä½“è§é¢˜ç›®æè¿°ã€‚</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šå°†å¤§è½¬ç›˜ä¸Šçš„æ•°æŒ‰é¡ºæ—¶é’ˆé¡ºåºæ”¾åˆ°ä¸€ä¸ªstringä¸­å¹¶è¿”å›</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    allOne = twoPow(n - <span class="number">1</span>) - <span class="number">1</span>;</span><br><span class="line">    ans = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; ++i )</span><br><span class="line">        vis[i].resize(twoPow(n - <span class="number">1</span>), <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    dfs(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; getAnswer(n) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è±¡æ£‹"><a href="#è±¡æ£‹" class="headerlink" title="è±¡æ£‹"></a>è±¡æ£‹</h2><p>ä½ æœ‰è¶³å¤Ÿå¤šçš„è±¡æ£‹â€œè½¦â€ï¼Œåœ¨ä¸€ä¸ªnÃ—nçš„æ£‹ç›˜ä¸Šä½ èƒ½æ”¾å¤šå°‘ä¸ªâ€œè½¦â€å‘¢ï¼Ÿæ³¨æ„ï¼Œæ‰€ç»™æ£‹ç›˜ä¸Šæœ‰äº›ä½ç½®ä¸èƒ½æ”¾ä»»ä½•ä¸œè¥¿ã€‚åŒæ—¶ï¼ŒæŸä¸€è¡Œï¼ˆåˆ—ï¼‰æœ€å¤šåªèƒ½å­˜åœ¨ä¸€ä¸ªâ€œè½¦â€ã€‚</p><ul><li>å¯¹äº30%çš„æ•°æ®ï¼Œn â‰¤ 5ï¼›</li><li>å¯¹äº60%çš„æ•°æ®ï¼Œn â‰¤ 20ï¼›</li><li>å¯¹äº100%çš„æ•°æ®ï¼Œn â‰¤ 500ã€‚</li></ul><p>æ—¶é—´ï¼š2 sec<br>ç©ºé—´ï¼š256 MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">505</span> * <span class="number">2</span>, M = N * N;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> next, to;</span><br><span class="line">&#125; e[M];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnt, ihead[N], mc[N];</span><br><span class="line"><span class="keyword">bool</span> vis[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ++cnt;</span><br><span class="line">    e[cnt].next = ihead[x];</span><br><span class="line">    e[cnt].to = y;</span><br><span class="line">    ihead[x] = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = ihead[x]; i; i = e[i].next )&#123;</span><br><span class="line">        <span class="keyword">int</span> y = e[i].to;</span><br><span class="line">        <span class="keyword">if</span>(!vis[y])&#123;</span><br><span class="line">            vis[y] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(mc[y] == <span class="number">0</span> || dfs(mc[y]))&#123;</span><br><span class="line">                <span class="comment">//3</span></span><br><span class="line">                mc[x] = y;</span><br><span class="line">                mc[y] = x;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚è§£æ£‹ç›˜ä¸Šæœ€å¤šèƒ½æ”¾å¤šå°‘ä¸ªâ€œè½¦â€</span></span><br><span class="line"><span class="comment">// nï¼šæ£‹ç›˜çš„å¤§å°ä¸ºnÃ—nçš„</span></span><br><span class="line"><span class="comment">// boardï¼šæ‰€ç»™æ£‹ç›˜ï¼Œå¯¹äºæŸä¸ªä½ç½®ä¸Šçš„æ•°ï¼šè‹¥å€¼ä¸º1è¡¨ç¤ºå¯ä»¥æ”¾â€œè½¦â€ï¼›è‹¥å€¼ä¸º0è¡¨ç¤ºä¸èƒ½æ”¾â€œè½¦â€</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šèƒ½æ”¾â€œè½¦â€çš„æœ€å¤§ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n * <span class="number">2</span>; i++)&#123;</span><br><span class="line">        ihead[i] = <span class="number">0</span>;</span><br><span class="line">        mc[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)&#123;</span><br><span class="line">            <span class="comment">//1</span></span><br><span class="line">            <span class="keyword">if</span>(board[i<span class="number">-1</span>][j<span class="number">-1</span>] == <span class="number">1</span>)</span><br><span class="line">                add(i,j+n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!mc[i])&#123;</span><br><span class="line">            <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(<span class="keyword">bool</span>) * (n * <span class="number">2</span> + <span class="number">1</span>));</span><br><span class="line">            <span class="keyword">if</span>(dfs(i))&#123;</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; e;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; t;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="keyword">int</span> x;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">            t.push_back(x);</span><br><span class="line">        &#125;</span><br><span class="line">        e.push_back(t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, getAnswer(n, e));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åºåˆ—è®¡æ•°"><a href="#åºåˆ—è®¡æ•°" class="headerlink" title="åºåˆ—è®¡æ•°"></a>åºåˆ—è®¡æ•°</h2><p>ç»™å®šä¸€ä¸ªnä¸ªæ•´æ•°çš„åºåˆ—ä»¥åŠä¸€ä¸ªéè´Ÿæ•´æ•°dï¼Œè¯·ä½ è¾“å‡ºè¿™ä¸ªåºåˆ—ä¸­æœ‰å¤šå°‘ä¸ªè¿ç»­å­åºåˆ—ï¼ˆé•¿åº¦å¤§äº1ï¼‰ï¼Œæ»¡è¶³è¯¥å­åºåˆ—çš„æœ€å¤§å€¼æœ€å°å€¼ä¹‹å·®ä¸å¤§äºdã€‚</p><ul><li>å¯¹äº60%çš„æ•°æ®ï¼Œn â‰¤ 5000ï¼›</li><li>å¯¹äº100%çš„æ•°æ®ï¼Œn â‰¤ 300000ã€‚</li><li>ä¿è¯æ‰€æœ‰æ•´æ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10^9ï¼Œdä¸è¶…è¿‡2Ã—10^9ã€‚</li></ul><p>æ—¶é—´ï¼š10 sec<br>ç©ºé—´ï¼š512 MB</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;cmath&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">300005</span>;</span><br><span class="line"><span class="keyword">int</span> n,d,max_value[N],min_value[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;<span class="comment">//ä¸­ç‚¹</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = solve(l,mid)+solve(mid+<span class="number">1</span>,r);<span class="comment">//åˆ†æ²»æ±‚å‡ºå·¦å³ä¸¤åŠçš„å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = mid + <span class="number">1</span>; i &lt;= r; i++)&#123;</span><br><span class="line">        min_value[i] = (i == mid + <span class="number">1</span>) ? a[i] : min(min_value[i - <span class="number">1</span>], a[i]);</span><br><span class="line">        max_value[i] = (i == mid + <span class="number">1</span>) ? a[i] : max(max_value[i - <span class="number">1</span>], a[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mn = <span class="number">0</span>, mx = <span class="number">0</span>, pos = r;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = mid; i &gt;= l &amp;&amp; pos &gt; mid; i--)&#123;</span><br><span class="line">        <span class="comment">//3</span></span><br><span class="line">        mn = (i==mid)?a[i]:min(mn,a[i]);</span><br><span class="line">        mx = (i==mid)?a[i]:max(mx,a[i]);</span><br><span class="line">        <span class="keyword">for</span>(; pos &gt; mid &amp;&amp; max(mx,max_value[pos]) - min(mn,min_value[pos]) &gt; d; pos--);</span><br><span class="line">        ans += pos - mid;<span class="comment">//æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ±‚å‡ºæœ‰å¤šå°‘ä¸ªaæ•°ç»„ä¸­çš„è¿ç»­å­åºåˆ—ï¼ˆé•¿åº¦å¤§äº1ï¼‰ï¼Œæ»¡è¶³è¯¥å­åºåˆ—çš„æœ€å¤§å€¼æœ€å°å€¼ä¹‹å·®ä¸å¤§äºd</span></span><br><span class="line"><span class="comment">// nï¼šaæ•°ç»„çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">// dï¼šæ‰€ç»™d</span></span><br><span class="line"><span class="comment">// aï¼šæ•°ç»„aï¼Œé•¿åº¦ä¸ºn</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šæ»¡è¶³æ¡ä»¶çš„è¿ç»­å­åºåˆ—çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> d, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    ::n = n;</span><br><span class="line">    ::d = d;</span><br><span class="line">    ::a = a;</span><br><span class="line">    <span class="keyword">return</span> solve(<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, d;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;d);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line">    a.resize(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, getAnswer(n, d, a));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€å°äº¤æ¢"><a href="#æœ€å°äº¤æ¢" class="headerlink" title="æœ€å°äº¤æ¢"></a>æœ€å°äº¤æ¢</h2><p>ç»™å®šä¸€ä¸ª 1 åˆ° n çš„æ’åˆ—ï¼ˆå³ä¸€ä¸ªåºåˆ—ï¼Œå…¶ä¸­ [1,n] ä¹‹é—´çš„æ­£æ•´æ•°æ¯ä¸ªéƒ½å‡ºç°äº†æ°å¥½ 1 æ¬¡ï¼‰ã€‚<br>ä½ å¯ä»¥èŠ± 1 å…ƒé’±äº¤æ¢ä¸¤ä¸ªç›¸é‚»çš„æ•°ã€‚<br>ç°åœ¨ï¼Œä½ å¸Œæœ›æŠŠå®ƒä»¬å‡åºæ’åºã€‚æ±‚ä½ å®Œæˆè¿™ä¸ªç›®æ ‡æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘å…ƒé’±ã€‚</p><ul><li>å¯¹äº 20% çš„æ•°æ®ï¼Œä¿è¯ n&lt;=7ã€‚</li><li>å¯¹äº 60% çš„æ•°æ®ï¼Œä¿è¯ n&lt;=1,000ã€‚</li><li>å¯¹äº 100% çš„æ•°æ®ï¼Œä¿è¯ n&lt;=200,000ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; seq, seqTemp;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    mergeSort(l, mid);</span><br><span class="line">    mergeSort(mid+<span class="number">1</span>,r);</span><br><span class="line">    <span class="keyword">int</span> p = l, q = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = l; i &lt;= r; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(q &gt; r || p &lt;= mid &amp;&amp; seq[p] &lt;= seq[q])</span><br><span class="line">            seqTemp[i] = seq[p++];</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            seqTemp[i] = seq[q++];</span><br><span class="line">            cnt += (mid - p + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = l; i &lt;= r; i++)</span><br><span class="line">        seq[i] = seqTemp[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯è®¡ç®—ç­”æ¡ˆï¼ˆå³æœ€å°‘èŠ±è´¹çš„é‡‘é’±ï¼‰</span></span><br><span class="line"><span class="comment">// nï¼šè¡¨ç¤ºåºåˆ—é•¿åº¦</span></span><br><span class="line"><span class="comment">// aï¼šå­˜å‚¨æ•´ä¸ªåºåˆ— a</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šæœ€å°‘èŠ±è´¹çš„é‡‘é’±ï¼ˆéœ€è¦æ³¨æ„ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸º 64 ä½æœ‰ç¬¦å·æ•´æ•°ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    seq = a;</span><br><span class="line">    seqTemp.resize(n);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    mergeSort(<span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, tmp;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line">    a.clear();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tmp);</span><br><span class="line">        a.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans = getAnswer(n, a);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ¥¼å°”é‚¦å¾·"><a href="#æ¥¼å°”é‚¦å¾·" class="headerlink" title="æ¥¼å°”é‚¦å¾·"></a>æ¥¼å°”é‚¦å¾·</h2><p>ç»™å®šåŒ…å« n ä¸ªæ•°çš„åºåˆ— Aã€‚<br>å†ç»™å‡º Q ä¸ªè¯¢é—®ï¼Œæ¯ä¸ªè¯¢é—®åŒ…å«ä¸€ä¸ªæ•° xï¼Œè¯¢é—®çš„æ˜¯åºåˆ— A ä¸­ä¸å°äº x çš„æœ€å°æ•´æ•°æ˜¯å¤šå°‘ï¼ˆæ— è§£è¾“å‡º-1ï¼‰ã€‚</p><ul><li>å¯¹äº 50% çš„æ•°æ®ï¼Œä¿è¯ n&lt;=2000ã€‚</li><li>å¯¹äº 100% çš„æ•°æ®ï¼Œä¿è¯ n&lt;=300,000ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">// #include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">// #include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">// #include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">// #include &lt;iostream&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¬å‡½æ•°ä¼ å…¥æ•°ç»„ a åŠæ‰€æœ‰è¯¢é—®ï¼Œä½ éœ€è¦æ±‚è§£æ‰€æœ‰è¯¢é—®å¹¶ä¸€å¹¶è¿”å›</span></span><br><span class="line"><span class="comment">// nï¼šåºåˆ— a çš„é•¿åº¦</span></span><br><span class="line"><span class="comment">// aï¼šå­˜å‚¨äº†åºåˆ— a</span></span><br><span class="line"><span class="comment">// Qï¼šè¯¢é—®ä¸ªæ•°</span></span><br><span class="line"><span class="comment">// queryï¼šä¾æ¬¡å­˜å‚¨äº†æ‰€æœ‰è¯¢é—®çš„å‚æ•° x</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šä¸€ä¸ª vector&lt;int&gt;ï¼Œä¾æ¬¡å­˜æ”¾å„è¯¢é—®çš„ç­”æ¡ˆ</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getAnswer(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, <span class="keyword">int</span> Q, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; query) &#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">    ans.clear();</span><br><span class="line">    sort(a.begin(), a.end());</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Q; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> key = query[i];</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">-1</span>,r = n,mid;</span><br><span class="line">        <span class="keyword">while</span>(l+<span class="number">1</span> &lt; r)&#123;</span><br><span class="line">            mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(a[mid] &lt; key)</span><br><span class="line">                l = mid;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> pos = r;</span><br><span class="line">        <span class="keyword">if</span>(pos &gt;= n)</span><br><span class="line">            ans.push_back(<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ans.push_back(a[pos]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, Q, tmp;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, query;</span><br><span class="line">    a.clear();</span><br><span class="line">    query.clear();</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tmp);</span><br><span class="line">        a.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Q);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Q; ++i) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tmp);</span><br><span class="line">        query.push_back(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans = getAnswer(n, a, Q, query);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Q; ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ€çŸ­è·¯"><a href="#æœ€çŸ­è·¯" class="headerlink" title="æœ€çŸ­è·¯"></a>æœ€çŸ­è·¯</h2><p>ç»™å®šä¸€å¼  n ä¸ªç‚¹çš„æ— å‘å¸¦æƒå›¾ï¼ŒèŠ‚ç‚¹çš„ç¼–å·ä» 1 è‡³ nï¼Œæ±‚ä» S åˆ° T çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p><p>æœ¬é¢˜å…±è®¾ç½® 12 ä¸ªæµ‹è¯•ç‚¹ã€‚</p><ul><li>å¯¹äºå‰ 10 ä¸ªæµ‹è¯•ç‚¹ï¼Œä¿è¯ n&lt;=2500ï¼Œm&lt;=6200ï¼Œå¯¹äºæ¯æ¡è¾¹æœ‰ w&lt;=1000ã€‚è¿™éƒ¨åˆ†æ•°æ®æœ‰æ¢¯åº¦ã€‚</li><li>å¯¹äºæ‰€æœ‰çš„ 12 ä¸ªæµ‹è¯•ç‚¹ï¼Œä¿è¯ n&lt;=100,000ï¼Œm&lt;=250,000ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;set&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100050</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> next, weight;</span><br><span class="line">    edge(<span class="keyword">int</span> ne,<span class="keyword">int</span> we):next(ne),weight(we)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span> ,<span class="keyword">int</span>&gt; P;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt;G[MAX_N];   <span class="comment">//é‚»æ¥è¡¨è¡¨ç¤ºçš„å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dist[MAX_N];</span><br><span class="line"><span class="comment">//int path[MAX_N];</span></span><br><span class="line"><span class="keyword">bool</span> collected[MAX_N];  <span class="comment">//æ ‡è®°æ¯ä¸ªé¡¶ç‚¹æ˜¯å¦è¢«æ”¶å½•</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> start)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,<span class="number">0x3f</span>,<span class="keyword">sizeof</span>(dist));</span><br><span class="line">    <span class="built_in">memset</span>(collected,<span class="number">0</span>,<span class="keyword">sizeof</span>(collected));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">set</span>&lt;P, less&lt;P&gt; &gt; min_heap;  </span><br><span class="line">    <span class="comment">//ç”¨ set æ¥ä¼ªå®ç°ä¸€ä¸ªå°æ ¹å †ï¼Œå¹¶å…·æœ‰æ˜ å°„äºŒå‰å †çš„åŠŸèƒ½ã€‚</span></span><br><span class="line">    dist[start] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    min_heap.insert(make_pair(<span class="number">0</span>, start));</span><br><span class="line">    collected[start] = <span class="literal">true</span>;   </span><br><span class="line">    <span class="keyword">while</span>(min_heap.size())&#123;    </span><br><span class="line">    <span class="comment">//å¦‚æœå †ä¸ºç©ºï¼Œè¯´æ˜æ‰€æœ‰ç‚¹éƒ½å·²è¢«æ”¶å½•ï¼Œç»“æŸè¯¥ç®—æ³•</span></span><br><span class="line">        <span class="keyword">auto</span> iter = min_heap.begin();</span><br><span class="line">        <span class="keyword">int</span> v = iter-&gt;second;</span><br><span class="line">        min_heap.erase(*iter);</span><br><span class="line">        collected[v] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G[v].size(); i++)&#123;</span><br><span class="line">            edge e = G[v][i];</span><br><span class="line">            <span class="keyword">if</span>(!collected[e.next] </span><br><span class="line">            &amp;&amp; dist[e.next] &gt; dist[v] + e.weight)</span><br><span class="line">            &#123;</span><br><span class="line">                min_heap.erase(make_pair(dist[e.next], e.next));    </span><br><span class="line">                dist[e.next] = dist[v] + e.weight;</span><br><span class="line">                <span class="comment">//path[e.next] = v;</span></span><br><span class="line">                min_heap.insert(make_pair(dist[e.next], e.next));   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªå‡½æ•°ç”¨äºè®¡ç®—ç­”æ¡ˆï¼ˆæœ€çŸ­è·¯ï¼‰</span></span><br><span class="line"><span class="comment">// nï¼šèŠ‚ç‚¹æ•°ç›®</span></span><br><span class="line"><span class="comment">// mï¼šåŒå‘è¾¹æ•°ç›®</span></span><br><span class="line"><span class="comment">// U,V,Wï¼šåˆ†åˆ«å­˜æ”¾å„è¾¹çš„ä¸¤ç«¯ç‚¹ã€è¾¹æƒ</span></span><br><span class="line"><span class="comment">// s,tï¼šåˆ†åˆ«è¡¨ç¤ºèµ·ç‚¹ã€é‡ç‚¹</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šç­”æ¡ˆï¼ˆå³ä» s åˆ° t çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shortestPath</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; U, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; V, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; W, <span class="keyword">int</span> s, <span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">        G[U[i]].push_back(edge(V[i],W[i]));</span><br><span class="line">        G[V[i]].push_back(edge(U[i],W[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    Dijkstra(s);</span><br><span class="line">    <span class="keyword">return</span> dist[t];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, s, t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;n, &amp;m, &amp;s, &amp;t);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; U, V, W;</span><br><span class="line">    U.clear();</span><br><span class="line">    V.clear();</span><br><span class="line">    W.clear();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> u, v, w;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">        U.push_back(u);</span><br><span class="line">        V.push_back(v);</span><br><span class="line">        W.push_back(w);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, shortestPath(n, m, U, V, W, s, t));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h1><h2 id="äºŒåˆ†æ€æƒ³"><a href="#äºŒåˆ†æ€æƒ³" class="headerlink" title="äºŒåˆ†æ€æƒ³"></a>äºŒåˆ†æ€æƒ³</h2><p>æ¶‰åŠé¢˜ç›®ï¼š</p><ul><li>åˆ†ç»„</li><li>åºåˆ—è®¡æ•°</li><li>æ¥¼å°”é‚¦å¾·</li></ul><h2 id="Dijkstra-çš„å±€é™"><a href="#Dijkstra-çš„å±€é™" class="headerlink" title="Dijkstra çš„å±€é™"></a>Dijkstra çš„å±€é™</h2><p>ä¹‹å‰åªè®¤ä¸ºï¼ŒDijkstra ç®—æ³•ä¸å¯ä»¥å¤„ç†å¸¦æœ‰è´Ÿå€¼åœˆçš„å›¾ã€‚å®é™…ä¸Š Dijkstra åœ¨å¤„ç†æœ‰å¤å€¼è¾¹æƒçš„å›¾æ—¶å¾ˆå¯èƒ½ä¸æ­£ç¡®ã€‚</p><p>ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 -&gt; 2 w = 1</span><br><span class="line">1 -&gt; 3 w = 2</span><br><span class="line">2 -&gt; 4 w = 1</span><br><span class="line">3 -&gt; 2 w = -2</span><br></pre></td></tr></table></figure></p><p>æ­£ç¡®ç­”æ¡ˆä¸º 0ï¼ŒDijkstra ç»™å‡ºçš„ç­”æ¡ˆä¸º 1 ã€‚</p><h2 id="ä¸€äº›ç®—æ³•"><a href="#ä¸€äº›ç®—æ³•" class="headerlink" title="ä¸€äº›ç®—æ³•"></a>ä¸€äº›ç®—æ³•</h2><ul><li>äºŒåˆ†å›¾æœ€å¤§åŒ¹é…</li><li>æ±‚æ¬§æ‹‰å›è·¯</li><li>å½’å¹¶æ’åºæ±‚é€†åºå¯¹</li></ul><h1 id="ToDo"><a href="#ToDo" class="headerlink" title="ToDo"></a>ToDo</h1><h2 id="æ’åº-1"><a href="#æ’åº-1" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>æ‰‹åŠ¨å®ç°</p><ul><li>å†’æ³¡æ’åº</li><li>æ’å…¥æ’åº</li><li>é€‰æ‹©æ’åº</li><li>å¿«é€Ÿæ’åº</li></ul><h2 id="æœ€å°äº¤æ¢-1"><a href="#æœ€å°äº¤æ¢-1" class="headerlink" title="æœ€å°äº¤æ¢"></a>æœ€å°äº¤æ¢</h2><p>ä½¿ç”¨æ ‘çŠ¶æ•°ç»„ä¼˜åŒ–æ±‚é€†åºå¯¹çš„æš´åŠ›ç®—æ³•ï¼Œè¾¾åˆ°ä¸å½’å¹¶æ’åºç›¸åŒçš„å¤æ‚åº¦ã€‚</p><h2 id="æ€»ç»“æ¬§æ‹‰å›è·¯ç®—æ³•"><a href="#æ€»ç»“æ¬§æ‹‰å›è·¯ç®—æ³•" class="headerlink" title="æ€»ç»“æ¬§æ‹‰å›è·¯ç®—æ³•"></a>æ€»ç»“æ¬§æ‹‰å›è·¯ç®—æ³•</h2><ul><li><a href="https://www.jisuanke.com/minicourse/740/37823" target="_blank" rel="noopener">æ¬§æ‹‰å›è·¯ è®¡è’œå®¢</a></li></ul><h2 id="æ€»ç»“åŒˆç‰™åˆ©ç®—æ³•"><a href="#æ€»ç»“åŒˆç‰™åˆ©ç®—æ³•" class="headerlink" title="æ€»ç»“åŒˆç‰™åˆ©ç®—æ³•"></a>æ€»ç»“åŒˆç‰™åˆ©ç®—æ³•</h2><ul><li><a href="https://www.jisuanke.com/minicourse/741/37831" target="_blank" rel="noopener">åŒˆç‰™åˆ©ç®—æ³• è®¡è’œå®¢</a></li></ul><h2 id="äºŒåˆ†"><a href="#äºŒåˆ†" class="headerlink" title="äºŒåˆ†"></a>äºŒåˆ†</h2><p>å­¦ä¹ ä½¿ç”¨ <code>std::lower_bound</code> ï¼Œæ³¨æ„è¾¹ç•Œã€‚</p><h2 id="å®ç°-Bellman-Ford-ç®—æ³•"><a href="#å®ç°-Bellman-Ford-ç®—æ³•" class="headerlink" title="å®ç° Bellman-Ford ç®—æ³•"></a>å®ç° Bellman-Ford ç®—æ³•</h2><p>ä¼ªä»£ç <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ– mind æ•°ç»„</span><br><span class="line">mind[0] : 0</span><br><span class="line">for round 1 to n</span><br><span class="line">æšä¸¾æ‰€æœ‰è¾¹ (u,v,len)</span><br><span class="line">mind[v] : min(min[v],mind[u]+len)</span><br><span class="line">if æœ¬è½®ä¸­æ²¡æœ‰ç‚¹è¢«æ›´æ–°</span><br><span class="line">break;</span><br><span class="line">if round == n+1</span><br><span class="line">æ— è§£</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°&quot;&gt;&lt;a href=&quot;#é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®å¤§æ„ &amp;amp; ä»£ç å®ç°&quot;&gt;&lt;/a&gt;é¢˜ç›®å¤§æ„ &amp;amp; ä»£ç å®ç°&lt;/h1&gt;&lt;h2 id=&quot;æ’åº&quot;&gt;&lt;a href=&quot;#æ’åº&quot;
      
    
    </summary>
    
      <category term="æ³› - è®¡ç®—æœº" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Dijkstra" scheme="https://blog.pazyx.xyz/tags/Dijkstra/"/>
    
      <category term="ToDo" scheme="https://blog.pazyx.xyz/tags/ToDo/"/>
    
      <category term="äºŒåˆ†" scheme="https://blog.pazyx.xyz/tags/%E4%BA%8C%E5%88%86/"/>
    
      <category term="åŒˆç‰™åˆ©ç®—æ³•" scheme="https://blog.pazyx.xyz/tags/%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95/"/>
    
      <category term="æ’åº" scheme="https://blog.pazyx.xyz/tags/%E6%8E%92%E5%BA%8F/"/>
    
      <category term="å½’å¹¶æ’åº" scheme="https://blog.pazyx.xyz/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"/>
    
      <category term="æ¬§æ‹‰å›è·¯" scheme="https://blog.pazyx.xyz/tags/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/"/>
    
      <category term="Bellman-Ford" scheme="https://blog.pazyx.xyz/tags/Bellman-Ford/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒè¥è§£é¢˜æ€»ç»“ï¼ˆç¬¬ä¸€å‘¨ï¼‰//ToDo</title>
    <link href="https://blog.pazyx.xyz/2018/08/04/algor_club_code_1/"/>
    <id>https://blog.pazyx.xyz/2018/08/04/algor_club_code_1/</id>
    <published>2018-08-03T18:30:49.000Z</published>
    <updated>2018-08-03T18:31:58.213Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°"><a href="#é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°" class="headerlink" title="é¢˜ç›®å¤§æ„ &amp; ä»£ç å®ç°"></a>é¢˜ç›®å¤§æ„ &amp; ä»£ç å®ç°</h1><h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><p>ç®€å•çš„æ ˆå®ç°ï¼Œæˆ‘ä½¿ç”¨æ•°ç»„å®ç°ï¼Œå¯ä»¥ä½¿ç”¨ <code>vector</code> ä»£æ›¿æ•°ç»„ã€‚æ—¥å¸¸å¯ä»¥ç›´æ¥ä½¿ç”¨ STL åº“ä¸­çš„ <code>stack</code> ç±»ï¼Œä½†å…¶æ— æ³•è¿›è¡Œ â€œcall by rankâ€ çš„è®¿é—®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;string&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">int</span> mtop = <span class="number">-1</span>;</span><br><span class="line"><span class="built_in">string</span> mstack[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‹å…¥æ ˆé¡¶</span></span><br><span class="line"><span class="comment">// nameï¼šè¢«å‹å…¥çš„äººçš„å§“å</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="built_in">string</span> name)</span> </span>&#123;</span><br><span class="line">    mtop++;</span><br><span class="line">    mstack[mtop] = name;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼¹å‡ºæ ˆé¡¶</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šè¢«å¼¹å‡ºäººçš„å§“å</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mtop &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">        mtop--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mstack[mtop+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¢é—®æ ˆä¸­æŸä¸ªä½ç½®ä¸Šçš„äººçš„å§“åï¼ˆæ ˆåº•ä½ç½®ä¸º1ï¼Œå‘æ ˆé¡¶æ–¹å‘çš„ä½ç½®ä¾æ¬¡é€’å¢ï¼‰</span></span><br><span class="line"><span class="comment">// posï¼šè¯¢é—®çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šposä½ç½®ä¸Šäººçš„å§“å</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="keyword">return</span> mstack[pos<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">for</span> (; n--; ) &#123;</span><br><span class="line">        <span class="keyword">int</span> op;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;op);</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">            push(name);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, pop().c_str());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> pos;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pos);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, query(pos).c_str());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><p>ç®€å•çš„é˜Ÿåˆ—å®ç°ï¼Œè¿™ä¸ªé˜Ÿåˆ—é—®é¢˜å¾ˆå¤§ï¼Œå°±æ˜¯å…ƒç´ å‡ºé˜Ÿåçš„ç©ºé—´æ— æ³•å›æ”¶ï¼Œé€ æˆæ— æ³•æŒç»­ä½¿ç”¨ï¼Œå ç”¨ç©ºé—´å¤§çš„é—®é¢˜ã€‚é¢˜ç›®è¦æ±‚è¾ƒä½ã€‚åº”è¯¥ä½¿ç”¨é“¾è¡¨æˆ–å¾ªç¯æ•°ç»„å®ç°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;string&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"><span class="keyword">int</span> q = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> h = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">string</span> mque[<span class="number">100005</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜Ÿå°¾å…¥é˜Ÿ</span></span><br><span class="line"><span class="comment">// nameï¼šå…¥é˜Ÿäººçš„å§“å</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(<span class="built_in">string</span> name)</span> </span>&#123;</span><br><span class="line">    mque[h] = name;</span><br><span class="line">    h++;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜Ÿé¦–å‡ºé˜Ÿ</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šé˜Ÿé¦–çš„å§“å</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">dequeue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    q++;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="keyword">return</span> mque[q<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¢é—®é˜Ÿåˆ—ä¸­æŸä¸ªä½ç½®ä¸Šçš„äººçš„å§“åï¼ˆé˜Ÿé¦–ä½ç½®ä¸º1ï¼Œå¾€åä½ç½®ä¾æ¬¡é€’å¢ï¼‰</span></span><br><span class="line"><span class="comment">// posï¼šè¯¢é—®çš„ä½ç½®</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šposä½ç½®ä¸Šäººçš„å§“å</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> mque[q+pos<span class="number">-1</span>];</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">for</span> (; n--; ) &#123;</span><br><span class="line">        <span class="keyword">int</span> op;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;op);</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, name);</span><br><span class="line">            enqueue(name);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, dequeue().c_str());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> pos;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;pos);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, query(pos).c_str());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><p>å®ç°å¹¶ç»´æŠ¤äºŒå‰æœç´¢æ ‘ï¼Œå¹¶è¾“å‡ºå…¶å‰åºå’Œååºéå†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;string.h&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100005</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    node* l;</span><br><span class="line">    node* r;</span><br><span class="line">    node():val(<span class="number">0</span>),l(<span class="literal">nullptr</span>),r(<span class="literal">nullptr</span>)&#123;&#125;    </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">node* root = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> v, node*&amp; x)</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">if</span>(x == <span class="number">0</span>)&#123;</span><br><span class="line">        x = <span class="keyword">new</span> node();</span><br><span class="line">        <span class="comment">//cout &lt;&lt; x &lt;&lt; endl;</span></span><br><span class="line">        x-&gt;l = <span class="literal">nullptr</span>;</span><br><span class="line">        x-&gt;r = <span class="literal">nullptr</span>;</span><br><span class="line">        x-&gt;val = v;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (v &lt;= x-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        insert(v,x-&gt;l);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (v &gt; x-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        insert(v,x-&gt;r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dlr</span><span class="params">( node* x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ans)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x)&#123;</span><br><span class="line">        ans.push_back(x-&gt;val);</span><br><span class="line">        dlr(x-&gt;l,ans);</span><br><span class="line">        dlr(x-&gt;r,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lrd</span><span class="params">( node* x, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;ans)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x)&#123;</span><br><span class="line">        lrd(x-&gt;l,ans);</span><br><span class="line">        lrd(x-&gt;r,ans);</span><br><span class="line">        ans.push_back(x-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getAnswer(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sequence) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">int</span>(sequence.size()); ++i)</span><br><span class="line">        insert(sequence[i],root);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line"></span><br><span class="line">    dlr(root,ans);</span><br><span class="line">    lrd(root,ans);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sequence;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">        sequence.push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans = getAnswer(n, sequence);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//cout &lt;&lt; ans.size() &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ans[i], <span class="string">" \n"</span>[i == n - <span class="number">1</span>]);</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d%c"</span>, ans[n + i], <span class="string">" \n"</span>[i == n - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­—ç›’å­"><a href="#æ•°å­—ç›’å­" class="headerlink" title="æ•°å­—ç›’å­"></a>æ•°å­—ç›’å­</h2><p>Hash Map å®ç°ï¼Œç”±äºæˆ‘çš„é—®é¢˜ï¼Œæ²¡æœ‰å»å®ç°ï¼Œä½¿ç”¨äº†STLåº“ä¸­çš„ <code>map</code> ç±»ï¼Œå‘¨æœ«ä¼šè¡¥å…… Hash Map çš„å®ç°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;map&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œæ“ä½œæ—¶ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="comment">// opï¼šå¯¹åº”è¯¥æ¬¡æ“ä½œçš„ opï¼ˆå…·ä½“è¯·è§é¢˜ç›®æè¿°ï¼‰</span></span><br><span class="line"><span class="comment">// xï¼šå¯¹åº”è¯¥æ¬¡æ“ä½œçš„ xï¼ˆå…·ä½“è¯·è§é¢˜ç›®æè¿°ï¼‰</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šå¦‚æœè¾“å‡ºä¸º"Succeeded"ï¼Œåˆ™è¿™ä¸ªå‡½æ•°è¿”å› 1ï¼Œå¦åˆ™è¿”å› 0</span></span><br><span class="line"><span class="built_in">map</span>&lt;ll,<span class="keyword">bool</span>&gt; Map;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> op, ll x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(op == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(Map[x])&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Map[x] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(Map[x])&#123;</span><br><span class="line">            Map[x] = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Map[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Q, op;</span><br><span class="line">    ll x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Q);</span><br><span class="line">    <span class="keyword">while</span> (Q--) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%lld"</span>, &amp;op, &amp;x);</span><br><span class="line">        <span class="built_in">puts</span>(check(op, x) ? <span class="string">"Succeeded"</span> : <span class="string">"Failed"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é‡ç¼–ç "><a href="#é‡ç¼–ç " class="headerlink" title="é‡ç¼–ç "></a>é‡ç¼–ç </h2><p>å“ˆå¤«æ›¼ç¼–ç é—®é¢˜ï¼Œåˆå¹¶æ£®æ—ã€‚<br>ä¸ <a href="/2018/01/24/poj-3253-fence-repair/">POJ 3253 Fence Repair</a> ç›¸ä¼¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;queue&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ˜¯æ±‚è§£æ•´ä¸ªé—®é¢˜çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// wï¼šé¢˜ç›®æè¿°ä¸­çš„ wï¼ˆæ‰€æœ‰ï¼‰</span></span><br><span class="line"><span class="comment">// nï¼šé¢˜ç›®æè¿°ä¸­çš„ n</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šç­”æ¡ˆ</span></span><br><span class="line"></span><br><span class="line">priority_queue&lt;ll, <span class="built_in">vector</span>&lt;ll&gt;, greater&lt;ll&gt; &gt; q; </span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;ll&gt; w)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;    <span class="comment">//æŠŠnå—æœ¨æ¿çš„é•¿åº¦å…¥é˜Ÿ</span></span><br><span class="line">        q.push(w[i]); </span><br><span class="line">    &#125;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q.size() &gt; <span class="number">1</span>)&#123;            <span class="comment">//å¦‚æœè¿˜æ²¡æœ‰åˆæˆä¸€å—æœ¨æ¿å°±ç»§ç»­åˆå¹¶</span></span><br><span class="line">        ll minOne,minTwo;</span><br><span class="line">        minOne = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        minTwo = q.top();</span><br><span class="line">        q.pop();                        <span class="comment">//ä»é˜Ÿå¤´æ‹¿å‡ºä¸¤ä¸ªæœ€çŸ­çš„æœ¨æ¿</span></span><br><span class="line">        sum += (minOne + minTwo);       <span class="comment">//åŠ ä¸Šè¿™æ¬¡åˆå¹¶çš„å¼€é”€</span></span><br><span class="line">        q.push(minOne+minTwo);   <span class="comment">//å°†åˆå¹¶åçš„æœ¨æ¿å…¥é˜Ÿ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;x);</span><br><span class="line">        w.push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, getAnswer(n, w));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æˆç»©æ’åº"><a href="#æˆç»©æ’åº" class="headerlink" title="æˆç»©æ’åº"></a>æˆç»©æ’åº</h2><p>æ’åºå¹¶è¾“å‡ºé€†åºå¯¹æ•°ç›®ï¼Œä½¿ç”¨å†’æ³¡æ’åºåœ¨æ¯æ¬¡äº¤æ¢è®°æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ˜¯è¿›è¡Œæ’åºçš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// nï¼šé¢˜ç›®æè¿°ä¸­çš„ n</span></span><br><span class="line"><span class="comment">// Aï¼šå„åŒå­¦çš„ç®—æ³•è®­ç»ƒè¥æˆç»©</span></span><br><span class="line"><span class="comment">// DSï¼šå„åŒå­¦çš„æ•°æ®ç»“æ„è®­ç»ƒè¥æˆç»©</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šå°†è¦è¾“å‡ºçš„æ•°å­—ä¾æ¬¡åŠ å…¥åˆ°è¿”å›å€¼çš„æ•°ç»„ä¸­</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> algorithm,dataStruct;</span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">    student()&#123;&#125;</span><br><span class="line">    student(<span class="keyword">int</span> i,<span class="keyword">int</span> a,<span class="keyword">int</span> d):id(i),algorithm(a),dataStruct(d),score(a+d)&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (student a,student b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.score &lt; b.score)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(a.score == b.score)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.algorithm &lt; b.algorithm)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BubbleSort</span><span class="params">(<span class="built_in">vector</span>&lt;student&gt; &amp;a,<span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = size<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;          <span class="comment">//è®°å½•åœ¨ä¸€è¶Ÿæ’åºä¸­æ˜¯å¦æœ‰äº¤æ¢</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a[j] &lt; a[j+<span class="number">1</span>])&#123;</span><br><span class="line">                student temp = a[j];</span><br><span class="line">                a[j] = a[j+<span class="number">1</span>];</span><br><span class="line">                a[j+<span class="number">1</span>] = temp;</span><br><span class="line">                <span class="comment">//swap(a[j],a[j+1]);</span></span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getAnswer(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; DS) &#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">    <span class="built_in">vector</span>&lt;student&gt; temp;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        temp.push_back(student(i+<span class="number">1</span>,A[i],DS[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt = BubbleSort(temp,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        ans.push_back(temp[i].id);</span><br><span class="line">        ans.push_back(temp[i].score);</span><br><span class="line">        ans.push_back(temp[i].algorithm);</span><br><span class="line">        ans.push_back(temp[i].dataStruct);</span><br><span class="line">    &#125;</span><br><span class="line">    ans.push_back(cnt);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A, DS;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> a, ds;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;ds);</span><br><span class="line">        A.push_back(a);</span><br><span class="line">        DS.push_back(ds);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans = getAnswer(n, A, DS);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d %d %d\n"</span>, ans[cnt], ans[cnt + <span class="number">1</span>], ans[cnt + <span class="number">2</span>], ans[cnt + <span class="number">3</span>]);</span><br><span class="line">        cnt += <span class="number">4</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans[cnt]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç­‰å¼"><a href="#ç­‰å¼" class="headerlink" title="ç­‰å¼"></a>ç­‰å¼</h2><p>æ¥æºï¼š<em>NOI 2015 day1 T1 ç¨‹åºè‡ªåŠ¨åˆ†æ</em><br>ç®€å•å¹¶æŸ¥é›†é¢˜ç›®ï¼Œä¸»æ„ä¸€ä¸‹æ£€æŸ¥åº”è¯¥ç•™åˆ°æœ€åæ£€æŸ¥å³å¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°å¼€å§‹ =================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯·åœ¨è¿™é‡Œå®šä¹‰ä½ éœ€è¦çš„å…¨å±€å˜é‡ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™å®šnä¸ªå˜é‡ä»¥åŠmä¸ªçº¦æŸï¼Œåˆ¤å®šæ˜¯å¦èƒ½æ‰¾å‡ºä¸€ç§èµ‹å€¼æ–¹æ¡ˆæ»¡è¶³è¿™mä¸ªçº¦æŸæ¡ä»¶</span></span><br><span class="line"><span class="comment">// nï¼šå¦‚é¢˜æ„</span></span><br><span class="line"><span class="comment">// mï¼šå¦‚é¢˜æ„</span></span><br><span class="line"><span class="comment">// Aï¼šå¤§å°ä¸ºmçš„æ•°ç»„ï¼Œè¡¨ç¤ºmæ¡çº¦æŸä¸­çš„a</span></span><br><span class="line"><span class="comment">// Bï¼šå¤§å°ä¸ºmçš„æ•°ç»„ï¼Œè¡¨ç¤ºmæ¡çº¦æŸä¸­çš„b</span></span><br><span class="line"><span class="comment">// Eï¼šå¤§å°ä¸ºmçš„æ•°ç»„ï¼Œè¡¨ç¤ºmæ¡çº¦æŸä¸­çš„e</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ï¼šè‹¥èƒ½æ‰¾å‡ºä¸€ç§æ–¹æ¡ˆï¼Œè¿”å›"Yes"ï¼›å¦åˆ™è¿”å›"No"ï¼ˆä¸åŒ…æ‹¬å¼•å·ï¼‰ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> pre[<span class="number">500005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">500004</span>; i++)&#123;</span><br><span class="line">        pre[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[x] == x)&#123;</span><br><span class="line">    <span class="comment">//x èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre[x] = get(pre[x]);</span><br><span class="line">    <span class="comment">//è¿”å›çˆ¶èŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶å¦å½“å‰èŠ‚ç‚¹çˆ¶èŠ‚ç‚¹ç›´æ¥ä¸ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x = get(x);</span><br><span class="line">    y = get(y);</span><br><span class="line">    <span class="keyword">if</span>(x != y)&#123;<span class="comment">// ä¸ä½åŒä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        pre[y] = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">getAnswer</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; E)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* è¯·åœ¨è¿™é‡Œè®¾è®¡ä½ çš„ç®—æ³• */</span></span><br><span class="line">    </span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; zero;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(E[i])&#123;</span><br><span class="line">            merge(A[i],B[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            zero.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; zero.size(); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(get(A[zero[i]]) == get(B[zero[i]]))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"No"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Yes"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T); T--; ) &#123;</span><br><span class="line">        <span class="keyword">int</span> n, m;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; A, B, E;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> a, b, e;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;a, &amp;b, &amp;e);</span><br><span class="line">            A.push_back(a);</span><br><span class="line">            B.push_back(b);</span><br><span class="line">            E.push_back(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, getAnswer(n, m, A, B, E).c_str());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“è·¯å‡çº§"><a href="#é“è·¯å‡çº§" class="headerlink" title="é“è·¯å‡çº§"></a>é“è·¯å‡çº§</h2><p>æœ€å¤§ç”Ÿæˆæ ‘é—®é¢˜ï¼Œä¸æœ€å°ç”Ÿæˆæ ‘ä¸€æ ·ã€‚<br>ä½¿ç”¨ Kruskal ç®—æ³•è§£å†³ï¼Œéœ€è¦ç®€å•å®ç°ä¸€ä¸‹å¹¶æŸ¥é›†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">//#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">200050</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_M = <span class="number">400050</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> u, v, w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge &amp;a)</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> w &gt; a.w; </span><br><span class="line">    &#125;</span><br><span class="line">&#125; e[MAX_M];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> fa[MAX_N], n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x] == x)&#123;</span><br><span class="line">        <span class="keyword">return</span> fa[x];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[x] = get(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getAnswer(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; U, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; V) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; re;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        e[i].u = U[i];</span><br><span class="line">        e[i].v = V[i];</span><br><span class="line">        e[i].w = i+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(e,e+m);</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        fa[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> x = get(e[i].u), y = get(e[i].v);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(x != y)&#123;</span><br><span class="line">            fa[x] = y;</span><br><span class="line">            re.push_back(e[i].w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(re.begin(), re.end());</span><br><span class="line">    <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ================= ä»£ç å®ç°ç»“æŸ =================</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; U, V;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> u, v;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">        U.push_back(u);</span><br><span class="line">        V.push_back(v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans = getAnswer(n, m, U, V);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, <span class="keyword">int</span>(ans.size()));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">int</span>(ans.size()); ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h1><h2 id="è¾“å…¥è¾“å‡ºæŒ‚"><a href="#è¾“å…¥è¾“å‡ºæŒ‚" class="headerlink" title="è¾“å…¥è¾“å‡ºæŒ‚"></a>è¾“å…¥è¾“å‡ºæŒ‚</h2><p>è¾“å…¥è¾“å‡ºæŒ‚æ˜¯çœŸçš„å¿«ï¼</p><p>ç®€å•çš„æ•°å­—è¾“å…¥è¾“å‡ºæŒ‚ï¼Œå®Œæ•´çš„è§ -&gt; <a href="https://blog.csdn.net/f_zyj/article/details/51473493" target="_blank" rel="noopener">è¿™é‡Œ</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Scan</span><span class="params">()</span> </span>&#123;    <span class="comment">//è¾“å…¥å¤–æŒ‚</span></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>, flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">if</span>((ch = getchar()) == <span class="string">'-'</span>) flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ch &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>) res = ch - <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">while</span>((ch = getchar()) &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>)</span><br><span class="line">        res = res * <span class="number">10</span> + (ch - <span class="string">'0'</span>);</span><br><span class="line">    <span class="keyword">return</span> flag ? -res : res;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Out</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;    <span class="comment">//è¾“å‡ºå¤–æŒ‚</span></span><br><span class="line">    <span class="keyword">if</span>(a &lt; <span class="number">0</span>) &#123; <span class="built_in">putchar</span>(<span class="string">'-'</span>); a = -a; &#125;</span><br><span class="line">    <span class="keyword">if</span>(a &gt;= <span class="number">10</span>) Out(a / <span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(a % <span class="number">10</span> + <span class="string">'0'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="è¾“å…¥è¾“å‡ºåˆ†ç¦»"><a href="#è¾“å…¥è¾“å‡ºåˆ†ç¦»" class="headerlink" title="è¾“å…¥è¾“å‡ºåˆ†ç¦»"></a>è¾“å…¥è¾“å‡ºåˆ†ç¦»</h2><p>åŠ©æ•™ç»™çš„è§£é¢˜æ¨¡æ¿çœŸèˆ’æœï¼Œå¯ä»¥ä¸ç”¨è€ƒè™‘è¾“å‡ºé—®é¢˜ï¼Œä¸“å¿ƒå®ç°ç®—æ³•ï½ï½ï½<br>ä»£ç å¯è¯»æ€§ä¹Ÿæé«˜ä¸å°‘ï¼Œä½†ç«èµ›ä¸­æ‰“çš„æ—¶é—´ä¹Ÿè®¸ä¼šå¢åŠ ä¸€äº›ï¼Œå¤æ‚åº¦ä¹Ÿä¼šå¢åŠ ä¸€äº›ã€‚</p><h2 id="å“ˆå¤«æ›¼ç¼–ç -amp-POJ-3253"><a href="#å“ˆå¤«æ›¼ç¼–ç -amp-POJ-3253" class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç  &amp; POJ 3253"></a>å“ˆå¤«æ›¼ç¼–ç  &amp; POJ 3253</h2><p>å“ˆå¤«æ›¼ç¼–ç å°±æ˜¯è´ªå¿ƒï½<br>åœ¨ã€ŠæŒ‘æˆ˜ç¨‹åºè®¾è®¡ç«èµ›(ç¬¬2ç‰ˆ) ã€‹ä¸­è®²è§£çš„ POJ 3253 ç°åœ¨ä¸€çœ‹çœŸæ˜¯é†é†çŒé¡¶ï½ï½ï½</p><h2 id="å­¦åˆ°ä¸€äº›ç®—æ³•å®ç°"><a href="#å­¦åˆ°ä¸€äº›ç®—æ³•å®ç°" class="headerlink" title="å­¦åˆ°ä¸€äº›ç®—æ³•å®ç°"></a>å­¦åˆ°ä¸€äº›ç®—æ³•å®ç°</h2><ul><li>äºŒå‰æ ‘</li><li>Kruskal ç®—æ³•</li><li>å“ˆå¤«æ›¼ç¼–ç çš„ \(O(n)\) å®ç°</li></ul><h2 id="é¢˜ç›®ä¸­æ•°æ®èŒƒå›´åˆ†ææŠ€å·§"><a href="#é¢˜ç›®ä¸­æ•°æ®èŒƒå›´åˆ†ææŠ€å·§" class="headerlink" title="é¢˜ç›®ä¸­æ•°æ®èŒƒå›´åˆ†ææŠ€å·§"></a>é¢˜ç›®ä¸­æ•°æ®èŒƒå›´åˆ†ææŠ€å·§</h2><p>è®¡ç®—æœºæ¯ç§’è¿ç®— \(10^8\)</p><ul><li>\(n = 10^6\) -&gt; \(O(n)\)</li><li>\(n = 5  \times 10^5\) -&gt; \(O(n log n)\)</li><li>\(n = 10^4\) -&gt; \(O(n^2)\)</li></ul><hr><h1 id="ToDo"><a href="#ToDo" class="headerlink" title="ToDo"></a>ToDo</h1><h2 id="Hash-Map-çš„å®ç°"><a href="#Hash-Map-çš„å®ç°" class="headerlink" title="Hash Map çš„å®ç°"></a>Hash Map çš„å®ç°</h2><p>â€¦</p><h2 id="å“ˆå¤«æ›¼ç¼–ç çš„-O-n-å®ç°"><a href="#å“ˆå¤«æ›¼ç¼–ç çš„-O-n-å®ç°" class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç çš„ \(O(n)\) å®ç°"></a>å“ˆå¤«æ›¼ç¼–ç çš„ \(O(n)\) å®ç°</h2><p>ä½¿ç”¨æ ˆå’Œé˜Ÿåˆ—ä¼˜åŒ–</p><h2 id="æˆç»©æ’åº-ä¼˜åŒ–"><a href="#æˆç»©æ’åº-ä¼˜åŒ–" class="headerlink" title="æˆç»©æ’åº ä¼˜åŒ–"></a>æˆç»©æ’åº ä¼˜åŒ–</h2><p>\(O(n^2)\) -&gt; \(O(n log n)\)</p><p>æ’åº -&gt; å¿«æ’æ’åºã€å½’å¹¶æ’åº<br>æ±‚é€†åºå¯¹ -&gt; å½’å¹¶æ’åºã€æ ‘çŠ¶æ•°ç»„è¾…åŠ©ç»Ÿè®¡</p><h2 id="é‡ç¼–ç -gt-ã€NOI2015ã€‘è·é©¬å²è¯—"><a href="#é‡ç¼–ç -gt-ã€NOI2015ã€‘è·é©¬å²è¯—" class="headerlink" title="é‡ç¼–ç  -&gt;ã€NOI2015ã€‘è·é©¬å²è¯—"></a>é‡ç¼–ç  -&gt;ã€NOI2015ã€‘è·é©¬å²è¯—</h2><p>ä¸åŒè¿›åˆ¶ä¸‹çš„å“ˆå¤«æ›¼ç¼–ç ã€‚<br><a href="http://uoj.ac/problem/130" target="_blank" rel="noopener">ã€NOI2015ã€‘è·é©¬å²è¯—</a></p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://blog.csdn.net/sdfgdbvc/article/details/51490791" target="_blank" rel="noopener">è¾“å…¥è¾“å‡ºå¤–æŒ‚</a></li><li><a href="https://blog.csdn.net/f_zyj/article/details/51473493" target="_blank" rel="noopener">è¾“å…¥è¾“å‡ºå¤–æŒ‚æ€»ç»“</a></li><li><a href="https://blog.csdn.net/yang_teng_/article/details/53493125" target="_blank" rel="noopener">äºŒå‰æ ‘çš„C++ç®€å•å®ç°</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°&quot;&gt;&lt;a href=&quot;#é¢˜ç›®å¤§æ„-amp-ä»£ç å®ç°&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®å¤§æ„ &amp;amp; ä»£ç å®ç°&quot;&gt;&lt;/a&gt;é¢˜ç›®å¤§æ„ &amp;amp; ä»£ç å®ç°&lt;/h1&gt;&lt;h2 id=&quot;æ ˆ&quot;&gt;&lt;a href=&quot;#æ ˆ&quot; c
      
    
    </summary>
    
      <category term="æ³› - è®¡ç®—æœº" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="æ ˆ" scheme="https://blog.pazyx.xyz/tags/%E6%A0%88/"/>
    
      <category term="é˜Ÿåˆ—" scheme="https://blog.pazyx.xyz/tags/%E9%98%9F%E5%88%97/"/>
    
      <category term="å¹¶æŸ¥é›†" scheme="https://blog.pazyx.xyz/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
      <category term="äºŒå‰æ ‘" scheme="https://blog.pazyx.xyz/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
      <category term="å“ˆå¤«æ›¼ç¼–ç " scheme="https://blog.pazyx.xyz/tags/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81/"/>
    
      <category term="Kruskal" scheme="https://blog.pazyx.xyz/tags/Kruskal/"/>
    
      <category term="Hash Map" scheme="https://blog.pazyx.xyz/tags/Hash-Map/"/>
    
      <category term="è¾“å…¥è¾“å‡ºæŒ‚" scheme="https://blog.pazyx.xyz/tags/%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%8C%82/"/>
    
      <category term="ToDo" scheme="https://blog.pazyx.xyz/tags/ToDo/"/>
    
  </entry>
  
  <entry>
    <title>æ±‚è´¨æ•°è¡¨3â€”â€”é«˜çº§ç­›æ³•</title>
    <link href="https://blog.pazyx.xyz/2018/07/26/isprimes-3/"/>
    <id>https://blog.pazyx.xyz/2018/07/26/isprimes-3/</id>
    <published>2018-07-26T11:36:26.000Z</published>
    <updated>2018-07-26T11:37:44.858Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¢é‡å¼ç­›æ³•"><a href="#å¢é‡å¼ç­›æ³•" class="headerlink" title="å¢é‡å¼ç­›æ³•"></a>å¢é‡å¼ç­›æ³•</h1><p>ä¹‹å‰çš„ç­›æ³•éƒ½éœ€è¦äº‹å…ˆæŒ‡å®šä¸€ä¸ªNï¼Œç„¶åæ±‚Nä»¥å†…çš„è´¨æ•°ï¼Œä½†æ²¡åŠæ³•æ±‚Nä»¥ä¸Šçš„è´¨æ•°ã€‚æˆ‘ä»¬æƒ³è¦ä¸€ç§ç®—æ³•ä¸ç”¨äº‹å…ˆæŒ‡å®šNä¸€ç›´æ±‚ä¸‹å»ï¼Œå¦‚è¯•é™¤æ³•å°±æ˜¯å¢é‡å¼è¿è¡Œçš„ã€‚ å¢é‡å¼ç®—æ³•å¯ä»¥åœ¨ç®€æ˜“æ¬§æ‹‰ç­›è¿›è¡Œæ”¹è¿›çš„ã€‚<br><img src="/2018/07/26/isprimes-3/1.jpg" alt=""><br>ç®€æ˜“æ¬§æ‹‰ç­›é™åˆ¶å®ƒä¸èƒ½å¢é‡å¼è¿è¡Œçš„é—®é¢˜æ˜¯åœ¨äºå®ƒçš„ç©ºé—´ã€‚æ¯”å¦‚å¢é‡å¼è¿è¡Œç­›é€‰åˆ° 11 æ—¶ä½ éœ€è¦åˆ’æ‰ 121 ï¼Œè¿™æ ·ä½ å°±éœ€è¦ç»´æŒ N^2 çš„ç©ºé—´ï¼Œè¿™æ ·å°±å¾ˆæˆé—®é¢˜ï¼Œæƒ³è±¡å¦‚æœ N åˆ°1äº¿æ—¶ï¼Œé‚£ç©ºé—´å°†æ˜¯ä¸å¯æ¥å—çš„ã€‚<br><img src="/2018/07/26/isprimes-3/2.jpg" alt=""><br>æˆ‘ä»¬å°†ä¸å†æšä¸¾på’Œfï¼Œè€Œæ˜¯ä¾æ¬¡æ£€æŸ¥æ¯ä¸ªæ•°ï¼Œæ£€æŸ¥åˆ°ä¸€ä¸ªæ•°æ—¶åˆ’å»ä¸‹ä¸€ä¸ªæ•°ï¼Œå¹¶å†ä¸‹ä¸€ä¸ªæ•°å¤„åšæ ‡è®°ã€‚æ¯”å¦‚æˆ‘ä»¬æ£€æŸ¥åˆ° 10 ï¼Œæˆ‘ä»¬é€šè¿‡æŸç§æ–¹å¼è®¡ç®—å‡ºå®ƒçš„ä¸‹ä¸€ä¸ªè¦è¢«åˆ’æ‰çš„æ•°ä¸º 15 ï¼Œæˆ‘ä»¬åˆ’æ‰ 15 å¹¶åœ¨ 15 å¤„åšæ ‡è®°ï¼Œä¿è¯æ£€æŸ¥åˆ° 15 æ—¶æˆ‘ä»¬å¯ä»¥è½»æ¾çš„ç®—å‡º 25 ã€‚ç”± <a href="https://en.wikipedia.org/wiki/Bertrand%27s_postulate" target="_blank" rel="noopener">Bertrandâ€™s postulate</a> è¿™ä¸ªæ•°å­¦ç»“è®ºå¾—å‡ºç›¸é‚»ä¸¤ä¸ªè´¨æ•°ç›¸å·®ä¸ä¼šè¶…è¿‡ä¸¤å€ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€å°†æ•°ç»„ç»´æŒåœ¨å½“å‰æ£€æŸ¥çš„æ•°çš„ä¸¤å€å³å¯ã€‚è¿™æ ·ç©ºé—´å¤æ‚åº¦å°±å°†ä¸ºäº† O(N) ã€‚ è¿™ä¸ªæ ‡è®°éœ€è¦å¹²ä»€ä¹ˆï¼Œå®ƒéœ€è¦å¸®åŠ©æˆ‘ä»¬åœ¨æ‹¿åˆ°ä¸€ä¸ªæ•°æ—¶è¿…é€Ÿæ‰¾å‡ºå®ƒçš„på’Œfã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜å½“å‰è¢«æ£€æŸ¥çš„æ•°çš„æœ€å°è´¨å› å­åœ¨è´¨æ•°è¡¨çš„ä½ç½®å³å¯ã€‚è¿™æ ·æ¯”å¦‚æˆ‘ä»¬åœ¨æ‹¿åˆ° 15 æ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°å®ƒçš„æœ€å°è´¨å› å­pä¸º 3 ï¼Œ15/3 ç®—å‡º f ä¸º 5ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ f ä¹˜ä¸‹ä¸€ä¸ªè´¨æ•°å»æ‰¾åˆ° 25 åˆ’æ‰å®ƒå¹¶ç»§ç»­ä¼ é€’æ ‡è®°äº†ã€‚æ ‡è®°ä»æ¯ä¸ªå¶æ•°å¤„ï¼ˆå› ä¸ºç¬¬ä¸€ä¸ªç´ æ•°ä¸º 2 ï¼‰äº§ç”Ÿçš„ï¼Œåˆ°åˆ—æœ«å°¾æ¶ˆå¤±ï¼ˆp æœ€å¤§å¢é•¿åˆ° f çš„æœ€å°è´¨å› å­ï¼‰ã€‚ </p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>Ubuntu Pastebin : <a href="https://paste.ubuntu.com/p/DtN2WPpppf/" target="_blank" rel="noopener">https://paste.ubuntu.com/p/DtN2WPpppf/</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bengalloun</span><span class="params">(<span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> nPrimes = <span class="number">0</span>;</span><br><span class="line">    flag[<span class="number">2</span>] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i++)&#123;</span><br><span class="line">        flag[i * <span class="number">2</span> - <span class="number">1</span>] = <span class="literal">true</span>; <span class="comment">//å‡è®¾å®ƒä¸ºè´¨æ•°</span></span><br><span class="line">        flag[i * <span class="number">2</span>] = <span class="literal">false</span>;    <span class="comment">//å¶æ•°ä¸€å®šä¸ºåˆæ•°</span></span><br><span class="line">        lpfindex[i * <span class="number">2</span>] = <span class="number">0</span>;    <span class="comment">//å»ºç«‹åˆ—é¦–æ ‡è®°</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag[i])&#123;</span><br><span class="line">            primes[nPrimes++] = i;  <span class="comment">//å¦‚æœè¿˜æ²¡è¢«ç­›æ‰åŠ å…¥è´¨æ•°è¡¨</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;      <span class="comment">//å¦‚æœæ˜¯åˆæ•°</span></span><br><span class="line">            <span class="keyword">int</span> u = lpfindex[i];</span><br><span class="line">            <span class="keyword">int</span> p = primes[u];  </span><br><span class="line">            <span class="keyword">int</span> f = i / p;      <span class="comment">//è®¡ç®—på’Œf</span></span><br><span class="line">            <span class="keyword">if</span>(f % p != <span class="number">0</span>)&#123;     <span class="comment">//å¦‚æœæ²¡æœ‰åˆ°åˆ—å°¾å°±ä¼ é€’æ ‡è®°</span></span><br><span class="line">                <span class="keyword">int</span> j = primes[u + <span class="number">1</span>] * f;</span><br><span class="line">                flag[j] = <span class="literal">false</span>;</span><br><span class="line">                lpfindex[j] = u + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> nPrimes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ä¸æ€æƒ³ä¸ç®€æ˜“æ¬§æ‹‰ç­›ç›¸åŒï¼Œä¾ç„¶ä¸ºO(N)ã€‚å› ä¸ºè¦ä¸ºå¢é‡å¼è¿è¡Œåšå‡†å¤‡å®é™…è¦æ¯”ç®€æ˜“æ¬§æ‹‰ç­›å¤šèŠ±ä¸€å€çš„æ—¶é—´ã€‚ </p><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><p>flagå’Œlpfindexæ•°ç»„éƒ½ä¸ºO(N)çš„å¤æ‚åº¦ã€‚æ€»ä½“ç©ºé—´å¤æ‚åº¦ä¸ºO(N)ã€‚</p><hr><h1 id="åˆ†æ®µå¼ç­›æ³•"><a href="#åˆ†æ®µå¼ç­›æ³•" class="headerlink" title="åˆ†æ®µå¼ç­›æ³•"></a>åˆ†æ®µå¼ç­›æ³•</h1><p>å¯¹äºç°ä»£è®¡ç®—æœºè¿ç®—é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œæ—¶é—´å¤æ‚åº¦å¯èƒ½é—®é¢˜ä¸å¤§ï¼Œä½†ç©ºé—´å¤æ‚åº¦æ˜¯ä¸ªé—®é¢˜ã€‚åˆ†æ®µå¼ç­›æ³•å°±æ˜¯è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br>åˆ†æ®µå¼ç­›æ³•æ˜¯åœ¨åŸƒå¼ç­›æ³•çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ï¼Œ</p><h2 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>Ubuntu Pastebin : <a href="https://paste.ubuntu.com/p/HzTG6HrbV2/" target="_blank" rel="noopener">https://paste.ubuntu.com/p/HzTG6HrbV2/</a><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">segmented_eratosthenes</span><span class="params">(<span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sqrtN = (<span class="keyword">int</span>) <span class="built_in">sqrt</span>(N);</span><br><span class="line">    <span class="keyword">int</span> n = eratosthenes(sqrtN);</span><br><span class="line">    <span class="keyword">int</span> nPrimes = n;</span><br><span class="line"><span class="comment">// ä½¿ç”¨åŸƒå¼ç­›æ³•æ±‚å‡ºå‰ âˆšN å†…çš„è´¨æ•°ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> L = sqrtN;<span class="comment">// åˆ†æ®µæ±‚ï¼ŒL ä¸ºæ¯æ®µé•¿åº¦ï¼Œå– âˆšN</span></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> start = sqrtN + <span class="number">1</span>; start &lt;= N; start += L)&#123;</span><br><span class="line">        <span class="keyword">if</span>(start + L &gt; N) L = N - start + <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">memset</span>(flag, <span class="literal">true</span>, L * <span class="keyword">sizeof</span>(<span class="keyword">bool</span>));</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> u = <span class="number">0</span>; u &lt; n; u++)&#123;</span><br><span class="line">            <span class="keyword">int</span> p = primes[u];</span><br><span class="line">            <span class="keyword">if</span>(p * p &gt;= start + L) <span class="keyword">break</span>; <span class="comment">// æšä¸¾æœ¬æ®µä¸Šé™ä»¥å†…çš„è´¨æ•°</span></span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">int</span> i = (p - start % p) % p; i &lt; L; i += p)&#123;</span><br><span class="line">                flag[i] = <span class="literal">false</span>;<span class="comment">// åˆ’æ‰æœ¬æ®µä¸­èƒ½è¢« p æ•´é™¤çš„æ•°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(flag[i]) primes[nPrimes++] = start + i; </span><br><span class="line">            <span class="comment">// æ‰¾åˆ°æœ¬æ®µä¸­æ²¡æœ‰è¢«åˆ’æ‰çš„æ•°å¹¶å°†å…¶æ”¶é›†åˆ°è´¨æ•°è¡¨ä¸­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nPrimes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="L-çš„å–æ³•"><a href="#L-çš„å–æ³•" class="headerlink" title="L çš„å–æ³•"></a>L çš„å–æ³•</h2><h3 id="ç©ºé—´"><a href="#ç©ºé—´" class="headerlink" title="ç©ºé—´"></a>ç©ºé—´</h3><p>\(\sqrt{N}\) ä»¥å†…è´¨æ•°è¡¨å ç”¨äº† \(O(\sqrt{N})\) çš„ç©ºé—´ã€‚<br>flag æ•°ç»„å ç”¨ \(O(L)\) çš„ç©ºé—´ã€‚<br>è‹¥ \(L &gt; \sqrt{N}\) ç©ºé—´å¤æ‚åº¦å°†æé«˜ã€‚</p><h3 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h3><p>è‹¥ \(L &lt; \sqrt{N}\)ï¼Œå½“ p æ¥è¿‘ \(\sqrt{N}\) æ—¶ï¼Œåˆ é™¤ p çš„å€æ•°å°±å®¹æ˜“â€œæ‰‘ç©ºâ€ã€‚</p><p>æ‰€ä»¥ \(L = \sqrt{N}\) æ—¶åˆšå¥½ã€‚</p><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><h3 id="æ—¶é—´å¤æ‚åº¦-1"><a href="#æ—¶é—´å¤æ‚åº¦-1" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>æœ¬è´¨ä¸Šæ˜¯åŸƒå¼ç­›æ³•ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º \(O(NloglogN)\)ã€‚<br>å†…å­˜å ç”¨å°ï¼Œé¿å…äº†ç¼“å­˜ä¸å‘½ä¸­ï¼Œå®é™…ä¸Šæ¯”åŸƒå¼ç­›æ³•è¦å¿«ã€‚</p><h3 id="ç©ºé—´å¤æ‚åº¦-1"><a href="#ç©ºé—´å¤æ‚åº¦-1" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h3><p>\(O(\sqrt{N})\)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¢é‡å¼ç­›æ³•&quot;&gt;&lt;a href=&quot;#å¢é‡å¼ç­›æ³•&quot; class=&quot;headerlink&quot; title=&quot;å¢é‡å¼ç­›æ³•&quot;&gt;&lt;/a&gt;å¢é‡å¼ç­›æ³•&lt;/h1&gt;&lt;p&gt;ä¹‹å‰çš„ç­›æ³•éƒ½éœ€è¦äº‹å…ˆæŒ‡å®šä¸€ä¸ªNï¼Œç„¶åæ±‚Nä»¥å†…çš„è´¨æ•°ï¼Œä½†æ²¡åŠæ³•æ±‚Nä»¥ä¸Šçš„è´¨æ•°ã€‚æˆ‘ä»¬æƒ³è¦ä¸€ç§ç®—æ³•ä¸ç”¨äº‹å…ˆæŒ‡å®šNä¸€ç›´æ±‚ä¸‹å»
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="https://blog.pazyx.xyz/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="https://blog.pazyx.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="è´¨æ•°" scheme="https://blog.pazyx.xyz/tags/%E8%B4%A8%E6%95%B0/"/>
    
      <category term="æ±‚è´¨æ•°è¡¨" scheme="https://blog.pazyx.xyz/tags/%E6%B1%82%E8%B4%A8%E6%95%B0%E8%A1%A8/"/>
    
      <category term="ä¼˜åŒ–" scheme="https://blog.pazyx.xyz/tags/%E4%BC%98%E5%8C%96/"/>
    
      <category term="å¢é‡å¼ç­›æ³•" scheme="https://blog.pazyx.xyz/tags/%E5%A2%9E%E9%87%8F%E5%BC%8F%E7%AD%9B%E6%B3%95/"/>
    
      <category term="åˆ†æ®µå¼ç­›æ³•" scheme="https://blog.pazyx.xyz/tags/%E5%88%86%E6%AE%B5%E5%BC%8F%E7%AD%9B%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œè®°ã€0x02 å¹»è§‰</title>
    <link href="https://blog.pazyx.xyz/2018/07/24/weekly_2/"/>
    <id>https://blog.pazyx.xyz/2018/07/24/weekly_2/</id>
    <published>2018-07-24T08:39:47.000Z</published>
    <updated>2018-10-28T16:07:30.240Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æœ‰äº›å°å‡‰ï½ç”µè„‘ç³»ç»Ÿå‡ºäº†é—®é¢˜ï¼Œåšå®¢æ•°æ®æ²¡åšå¥½å¤‡ä»½å·®ç‚¹ä¸¢å¤±ï¼Œæ—©ä¸Šåˆšåˆšå¾—åˆ°æ¶ˆæ¯æˆ‘çš„å¤§å­¦è‹±è¯­äºŒæŒ‚äº†ï½55åˆ†å¾ˆæ˜¯éš¾è¿‡ï½å¥½åœ¨å…¶ä»–éƒ½è¿˜ä¸é”™ï¼Œå¥–å­¦é‡‘å†å»ä¸æˆ‘æ— ç¼˜ï½</p><p>å…¶å®æˆ‘åˆšä¸Šå¤§å­¦æ—¶è§‰å¾—æŒ‚ç§‘ä¹Ÿæ²¡ä»€ä¹ˆï¼Œå› ä¸ºæˆ‘ä»æ¥ä¸æ˜¯å¥½å­¦ç”Ÿï¼Œåç§‘ä¹Ÿåå‡ å¹´äº†ã€‚ä½†æˆ‘ä¸èƒ½å®¹å¿çš„æ˜¯è®©ä¸€å †åªä¼šè€ƒè¯•çš„äººæ‹¿äº†é’±ï¼Œæˆ‘è§‰å¾—è¿™å¯¹æˆ‘æ˜¯ä¸€ç§ä¾®è¾±ï¼Œæˆ‘ä¸‹å­¦æœŸå¿…å°†æ‹¿ä¸€æ¬¡ä¸€ç­‰å¥–å­¦é‡‘ï¼Œä¹‹åéšæ„ï½</p><p>æˆ‘è¦å­¦è‹±è¯­äº†ï¼Œæˆ‘è§‰å¾—è¿™å¯¹æˆ‘å¾ˆé‡è¦ï¼Œå¦‚æœè‹±è¯­æå®šé‚£åé¢çš„äº‹æƒ…çœŸæ˜¯æ— æ³•æƒ³è±¡ï½ äº‹å®ä¸Šæˆ‘é«˜ä¸‰å°±è¿™ä¹ˆæƒ³äº†ï¼Œç»“æœé«˜è€ƒè‹±è¯­è€ƒäº† 44 åˆ†ï¼Œå¾ˆé†‰ã€‚ã€‚ã€‚</p><p>é«˜ä¸­å•Šï¼Œæˆ‘ä¸å­¦è‹±è¯­æ˜¯æœ‰åŸå› çš„ï¼Œå› ä¸ºæˆ‘è§‰å¾—å…¶ä»–çš„è¿˜èƒ½æé«˜ï¼Œè€Œä¸”æ›´ä¸ºé«˜æ•ˆï½æˆ‘å¹²æ‰äº†æœ€éš¾çš„ç‰©ç†ï¼Œä¹‹åä¸€è·¯è¿˜ç®—é¡ºé£é¡ºæ°´ï¼Œæ²¡åƒä»€ä¹ˆè‹¦ä¹Ÿä¸Šäº†å­¦ã€‚é—æ†¾çš„æ˜¯ç°åœ¨ä¸–é“ä¸ä¸€æ ·äº†ï¼Œæˆ‘æ€¥éœ€è‹±è¯­ï¼Œæˆ‘éœ€è¦çœ‹è‹±æ–‡çš„æŠ€æœ¯ä¹¦ç±ï¼Œæˆ‘éœ€è¦çœ‹ACMé¢˜ï¼Œä½†è¿™äº›ä¸æ˜¯æœ€é‡è¦çš„ï¼Œæœ€é‡è¦çš„æ˜¯æˆ‘ç°åœ¨å­¦è‹±è¯­å¦‚æœæˆäº†ï¼Œæˆ‘å°†æ— æ‰€ä¸èƒ½ï½æ²¡æœ‰ä»€ä¹ˆæ¯”è¿™ä¸ªé‡è¦çš„äº†ï¼Œå¦‚æœæˆäº†æˆ‘ç›¸ä¿¡å¤§å­¦åé¢å‡ å¹´ä¸€å®šé¡ºé£é¡ºæ°´ã€‚ã€‚ã€‚</p><p>æˆ‘ç°åœ¨æœ‰å¾ˆå¤§çš„å¹»è§‰ï¼Œæˆ‘æ„Ÿè§‰æˆ‘åªéœ€è¦åŠå¹´ï¼Œæˆ‘çœ‹äº†ä¸€äº›çŸ¥ä¹ä¸Šçš„ç»éªŒé€šå¸¸æ—¶é—´è·¨åº¦éƒ½æŒºé•¿çš„ï¼Œé‚£äº›éƒ½æ˜¯ç¬¨è›‹æˆ‘åªéœ€è¦åŠå¹´ï¼</p><p>åé¢çš„äº‹æƒ…è¿˜å¤šå•Šï¼Œæ—¶é—´å¤ªå°‘ã€‚æ•°å­¦å»ºæ¨¡çš„å¥½ä¸œè¥¿éƒ½æ²¡æå®šï¼Œç‰¹åˆ«æ˜¯å†™è®ºæ–‡ç”¨çš„æ’ç‰ˆè¯­è¨€ï¼Œæš‘å‡è¿˜è¦å­¦ã€‚ACMè¿˜è¦åˆ·å¾ˆå¤šé¢˜ï¼Œæš‘å‡è¿˜è¦çœ‹é‚“è€å¸ˆçš„ç®—æ³•è¯¾ã€‚æˆ‘è¿˜è®¡åˆ’æ€»ç»“ä¸€ä¸‹C++çš„åŸºç¡€é—®é¢˜ï¼Œå¼€å­¦å½“åŠ©æ•™ä¸èƒ½è¯¯äººå­å¼Ÿå•Šã€‚å¼€å­¦è¿˜æœ‰æ•°å­¦å»ºæ¨¡ç«èµ›å’ŒACMçš„ç½‘ç»œèµ›ï½å†å‚åŠ ä¸€ä¸‹è“æ¡¥æ¯ã€‚å¤§äºŒçš„è¯¾ç¨‹è¿˜æ˜¯æœ‰äº›éš¾åº¦çš„ï¼ŒJavaè™½ç„¶æˆ‘ä¹‹å‰å­¦è¿‡ä½†è¿˜æ˜¯éœ€è¦å†™å¾ˆå¤šä»£ç å»ç†Ÿç»ƒï¼Œå­¦Javaå°±ä¼´éšç€è¿˜è¦çœ‹è®¾è®¡æ¨¡å¼ï¼Œæ±‡ç¼–è¯­è¨€è™½ç„¶è‡ªå·±ä¹Ÿå†™è¿‡ï¼Œä½†è¿˜æ˜¯å¥½éš¾å•Šã€‚ã€‚ã€‚è¿˜æœ‰é‚£ä¸ªé˜´å·®é˜³é”™é€‰ä¸Šçš„å•ç‰‡æœºï¼ŒçœŸæ˜¯æ— åŠ›åæ§½ï¼Œè¿˜æ˜¯è™½ç„¶ï¼Œè™½ç„¶æˆ‘æ˜¯å†™è¿‡å•ç‰‡æœºçš„ç¨‹åºï¼Œä½†è¿˜æ˜¯å¥½éš¾å•Šã€‚ã€‚ã€‚</p><p>æœ€åæ‰¯ä¸ªæ·¡ï¼Œæœ€è¿‘æˆ‘æƒ³æ‹ä¸ªå¤§ç”µå½±ï¼ŒçœŸçš„ï½å“ªå¤©æˆ‘é—²äº†å°±å»æ‹ï¼Œä¸Šä¼ åˆ°YouTubeä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘æœ‰äº›å°å‡‰ï½ç”µè„‘ç³»ç»Ÿå‡ºäº†é—®é¢˜ï¼Œåšå®¢æ•°æ®æ²¡åšå¥½å¤‡ä»½å·®ç‚¹ä¸¢å¤±ï¼Œæ—©ä¸Šåˆšåˆšå¾—åˆ°æ¶ˆæ¯æˆ‘çš„å¤§å­¦è‹±è¯­äºŒæŒ‚äº†ï½55åˆ†å¾ˆæ˜¯éš¾è¿‡ï½å¥½åœ¨å…¶ä»–éƒ½è¿˜ä¸é”™ï¼Œå¥–å­¦é‡‘å†å»ä¸æˆ‘æ— ç¼˜ï½&lt;/p&gt;
&lt;p&gt;å…¶å®æˆ‘åˆšä¸Šå¤§å­¦æ—¶è§‰å¾—æŒ‚ç§‘ä¹Ÿæ²¡ä»€ä¹ˆï¼Œå› ä¸ºæˆ‘ä»æ¥ä¸æ˜¯å¥½å­¦ç”Ÿï¼Œåç§‘ä¹Ÿåå‡ å¹´äº†ã€‚ä½†æˆ‘ä¸èƒ½å®¹å¿çš„æ˜¯è®©ä¸€å †åªä¼šè€ƒè¯•çš„äººæ‹¿
      
    
    </summary>
    
      <category term="æ³› - è®°" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%B0/"/>
    
    
      <category term="è‹±è¯­" scheme="https://blog.pazyx.xyz/tags/%E8%8B%B1%E8%AF%AD/"/>
    
      <category term="å¤§ç”µå½±" scheme="https://blog.pazyx.xyz/tags/%E5%A4%A7%E7%94%B5%E5%BD%B1/"/>
    
      <category term="è®°" scheme="https://blog.pazyx.xyz/tags/%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œä¹¦æ‘˜ã€æ·±åº¦æ¢ç´¢ C++ å¯¹è±¡æ¨¡å‹ï¼ˆäºŒï¼‰</title>
    <link href="https://blog.pazyx.xyz/2018/07/23/inside_cpp_obj_model_2/"/>
    <id>https://blog.pazyx.xyz/2018/07/23/inside_cpp_obj_model_2/</id>
    <published>2018-07-23T05:08:42.000Z</published>
    <updated>2018-07-23T05:42:53.231Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ„é€ å‡½æ•°è¯­ä¹‰å­¦"><a href="#æ„é€ å‡½æ•°è¯­ä¹‰å­¦" class="headerlink" title="æ„é€ å‡½æ•°è¯­ä¹‰å­¦"></a>æ„é€ å‡½æ•°è¯­ä¹‰å­¦</h1><p><strong>è‹±æ–‡æœ¯è¯­è¡¨</strong></p><table><thead><tr><th>è‹±æ–‡</th><th>ä¸­æ–‡</th></tr></thead><tbody><tr><td>implicit</td><td>æš—ä¸­çš„ã€éšå¼çš„ï¼ˆé€šå¸¸æ„æŒ‡å¹¶éåœ¨ç¨‹åºæºä»£ç ä¸­å‡ºç°çš„ï¼‰</td></tr><tr><td>explicit</td><td>æ˜¾å¼çš„ï¼ˆé€šå¸¸æ„æŒ‡ç¨‹åºæºä»£ç ä¸­æ‰€å‡ºç°çš„ï¼‰</td></tr><tr><td>trivial</td><td>æ²¡ç”¨çš„</td></tr><tr><td>nontrivial</td><td>æœ‰ç”¨çš„</td></tr><tr><td>memberwise</td><td>å¯¹æ¯ä¸ª member æ–½ä»¥â€¦â€¦</td></tr><tr><td>bitwise</td><td>å¯¹æ¯ä¸ª bit æ–½ä»¥â€¦â€¦</td></tr><tr><td>semantics</td><td>è¯­æ„</td></tr></tbody></table><p>å…³äº C++ ï¼Œæœ€å¸¸å¬åˆ°çš„ä¸€ä¸ªæŠ±æ€¨å°±æ˜¯ï¼Œç¼–è¯‘å™¨èƒŒç€ç¨‹åºå‘˜åšäº†å¤ªå¤šäº‹æƒ…ã€‚</p><p>å…³é”®è¯ <strong>explicit</strong> ä¹‹æ‰€ä»¥è¢«å¯¼å…¥è¿™ä¸ªè¯­è¨€ï¼Œå°±æ˜¯ä¸ºäº†ç»™ç¨‹åºå‘˜æä¾›ä¸€ç§æ–¹æ³•ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿåˆ¶æ­¢ â€œå•ä¸€å‚æ•°çš„ constructorâ€œ è¢«å½“ä½œä¸€ä¸ª conversion è¿ç®—ç¬¦ã€‚</p><p>â€œSchwarz Errorâ€ -&gt; <a href="/2018/06/29/cin-return/">basic_ios å¦‚ä½•ç©¿ä¸Šå®ƒçš„ bool</a></p><p>Conversion è¿ç®—ç¬¦çš„å¼•å…¥åº”è¯¥æ˜¯æ˜æ™ºçš„ï¼Œè€Œå…¶æµ‹è¯•åº”è¯¥æ˜¯ä¸¥é…·çš„ï¼Œå¹¶ä¸”ä¸­ç¨‹åºä¸€å‡ºç°ä¸å¯»å¸¸æ´»åŠ¨çš„ç¬¬ä¸€ä¸ªç—‡å€™æ—¶ï¼Œå°±å‘å‡ºç–‘é—®ã€‚</p><h2 id="Default-Constructor-çš„æ„é€ æ“ä½œ"><a href="#Default-Constructor-çš„æ„é€ æ“ä½œ" class="headerlink" title="Default Constructor çš„æ„é€ æ“ä½œ"></a>Default Constructor çš„æ„é€ æ“ä½œ</h2><p>ç¨‹åºçš„éœ€è¦ã€ç¼–è¯‘å™¨çš„éœ€è¦ã€‚ç¨‹åºå¦‚æœæœ‰éœ€è¦ï¼Œé‚£æ˜¯ç¨‹åºå‘˜çš„è´£ä»»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> &#123;</span> <span class="keyword">public</span>: <span class="keyword">int</span> val; Foo *pnext; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo_bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Foo bar;</span><br><span class="line">    <span class="keyword">if</span> ( bar.val || bar.pnext )</span><br><span class="line">    <span class="comment">// ... do something</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>C++ Standard [ISO-C++95] Section 12.1 :<br>å¯¹äº class Xï¼Œå¦‚æœæ²¡ç”¨ä»»ä½• user-declared constructorï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€ä¸ª default constructor è¢«éšå¼çš„ï¼ˆ implicitly ï¼‰å£°æ˜å‡ºæ¥â€¦â€¦ä¸€ä¸ªè¢«éšå¼å£°æ˜å‡ºæ¥çš„ default constructor å°†æ˜¯ä¸€ä¸ª trivial constructorâ€¦â€¦</p></blockquote><h3 id="â€œå¸¦æœ‰-Default-Constructorâ€-çš„-Member-Class-Object"><a href="#â€œå¸¦æœ‰-Default-Constructorâ€-çš„-Member-Class-Object" class="headerlink" title="â€œå¸¦æœ‰ Default Constructorâ€ çš„ Member Class Object"></a>â€œå¸¦æœ‰ Default Constructorâ€ çš„ Member Class Object</h3><p>å¦‚æœä¸€ä¸ª class æ²¡æœ‰ä»»ä½• constructorï¼Œä½†å®ƒå†…å«ä¸€ä¸ª member objectï¼Œè€Œåè€…æœ‰ default constructorï¼Œé‚£ä¹ˆè¿™ä¸ª class çš„ implicit default constructor å°±æ˜¯ â€œnontrivialâ€ ï¼Œç¼–è¯‘å™¨éœ€è¦ä¸ºæ”¹ class åˆæˆå‡ºä¸€ä¸ª default constructorã€‚<strong>ä¸è¿‡è¿™ä¸ªåˆæˆæ“ä½œåªæœ‰ä¸­ constructor çœŸæ­£éœ€è¦è¢«è°ƒç”¨æ—¶æ‰ä¼šå‘ç”Ÿã€‚</strong></p><p>ç¼–è¯‘å™¨å¦‚ä½•é¿å…åˆæˆå‡ºå¤šä¸ª default constructor ï¼Ÿ<strong>æŠŠåˆæˆçš„ default constructorã€copy constructorã€destructorã€assignment copy operator éƒ½ä»¥ inline çš„æ–¹å¼å®Œæˆã€‚</strong>å¦‚æœå‡½æ•°å¤ªå¤æ‚ï¼Œä¸é€‚åˆåšæˆ inlineï¼Œå°±ä¼šåˆæˆå‡ºä¸€ä¸ª explicit non-inline static å®ä¾‹ï¼ˆ4.5èŠ‚æœ‰è¯¦ç»†è¯´æ˜ï¼‰</p><p>ç¼–è¯‘å™¨ä¼šæ‰©å¼ å·²å­˜åœ¨çš„ constructorsï¼Œåœ¨å…¶ä¸­å®‰æ’ä¸€äº›ä»£ç ï¼Œä½¿å¾— user code è¢«æ‰§è¡Œä¹‹å‰ï¼Œå…ˆè°ƒç”¨å¿…è¦çš„ default constructorsã€‚</p><p>C++ è¯­è¨€è¦æ±‚ä»¥ â€œmember objects åœ¨ class ä¸­çš„å£°æ˜é¡ºåºâ€ æ¥è°ƒç”¨å„ä¸ª constructorsã€‚</p><h3 id="â€œå¸¦æœ‰-Default-Constructorâ€-çš„-Base-Class"><a href="#â€œå¸¦æœ‰-Default-Constructorâ€-çš„-Base-Class" class="headerlink" title="â€œå¸¦æœ‰ Default Constructorâ€ çš„ Base Class"></a>â€œå¸¦æœ‰ Default Constructorâ€ çš„ Base Class</h3><p>å¦‚æœä¸€ä¸ªæ²¡æœ‰ä»»ä½• constructor çš„ class æ´¾ç”Ÿè‡ªä¸€ä¸ª â€œå¸¦æœ‰ Default Constructorâ€ çš„ base classï¼Œé‚£ä¹ˆè¿™ä¸ª derived class çš„ default constructor ä¼šè¢«è§†ä¸º nontrivialï¼Œå¹¶å› æ­¤éœ€è¦è¢«åˆæˆå‡ºæ¥ã€‚<strong>å®ƒå°†è°ƒç”¨ä¸Šä¸€å±‚ base classes çš„ default constructorï¼ˆæ ¹æ®å®ƒä»¬çš„å£°æ˜é¡ºåºï¼‰ã€‚å¯¹ä¸€ä¸ªåç»§æ´¾ç”Ÿçš„ class è€Œè¨€ï¼Œè¿™ä¸ªåˆæˆçš„ constructor å’Œä¸€ä¸ª â€œè¢«æ˜¾å¼æä¾›çš„ default constructorâ€ æ²¡æœ‰ä»€ä¹ˆå·®å¼‚ã€‚</strong></p><h3 id="â€œå¸¦æœ‰-Virtual-Functionâ€-çš„-Class"><a href="#â€œå¸¦æœ‰-Virtual-Functionâ€-çš„-Class" class="headerlink" title="â€œå¸¦æœ‰ Virtual Functionâ€ çš„ Class"></a>â€œå¸¦æœ‰ Virtual Functionâ€ çš„ Class</h3><p>å½“ class å£°æ˜ï¼ˆæˆ–ç»§æ‰¿ï¼‰ä¸€ä¸ª virtual function ï¼Œéœ€è¦åˆæˆ nontrivial çš„ default constructorã€‚</p><p>â€œå¸¦æœ‰ Virtual Functionâ€ çš„ class çš„ default constructor ä¼šæœ‰ä¸¤ä¸ªæ‰©å¼ è¡ŒåŠ¨åœ¨ç¼–è¯‘æœŸé—´å‘ç”Ÿï¼š</p><ul><li>ä¸€ä¸ª virtual function tableï¼ˆåœ¨ cfront ä¸­è¢«ç§°ä¸º vtbl ï¼‰ä¼šè¢«ç¼–è¯‘å™¨äº§ç”Ÿå‡ºæ¥ï¼Œå†…æ”¾ class çš„  virtual functions åœ°å€ã€‚</li><li>åœ¨æ¯ä¸€ä¸ª class object ä¸­ï¼Œä¸€ä¸ªé¢å¤–çš„ pointer memberï¼ˆä¹Ÿå°±æ˜¯ vptr ï¼‰ä¼šè¢«ç¼–è¯‘å™¨åˆæˆå‡ºæ¥ï¼Œå†…å«ç›¸å…³ä¹‹ class vtbl çš„åœ°å€ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// widget.flip() çš„è½¬å˜</span></span><br><span class="line">( *widget.vptr[<span class="number">1</span>] )( &amp;widget )</span><br><span class="line"><span class="comment">// *1 è¡¨ç¤º filp() åœ¨ virtual table ä¸­çš„å›ºå®šç´¢å¼•</span></span><br><span class="line"><span class="comment">// * &amp;widget ä»£è¡¨è¦äº¤ç»™â€œè¢«è°ƒç”¨çš„æŸä¸ª flip() å‡½æ•°å®ä¾‹â€çš„thisæŒ‡é’ˆ</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨å¿…é¡»ä¸ºæ¯ä¸€ä¸ª â€œå¸¦æœ‰ Virtual Functionâ€ çš„ class çš„ object çš„ vptr è®¾å®šåˆå€¼ï¼Œæ”¾çºµé€‚å½“çš„ virual table åœ°å€ã€‚å¯¹äºè¿™ä¸ª class æ‰€å®šä¹‰çš„æ¯ä¸€ä¸ª constructorï¼Œç¼–è¯‘å™¨ä¼šå®‰æ’ä¸€äº›ä»£ç æ¥åšè¿™æ ·çš„äº‹æƒ…ã€‚ </p><h3 id="â€œå¸¦æœ‰-Virtual-Base-Classâ€-çš„-Class"><a href="#â€œå¸¦æœ‰-Virtual-Base-Classâ€-çš„-Class" class="headerlink" title="â€œå¸¦æœ‰ Virtual Base Classâ€ çš„ Class"></a>â€œå¸¦æœ‰ Virtual Base Classâ€ çš„ Class</h3><p>class æ´¾ç”Ÿè‡ªä¸€ä¸ªç»§æ‰¿ä¸²é“¾ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæˆ–æ›´å¤šçš„ virtual base classesï¼Œéœ€è¦åˆæˆ nontrivial çš„ default constructorã€‚</p><p>Virtual base class çš„å®ç°æ³•åœ¨ä¸åŒçš„ç¼–è¯‘å™¨ä¹‹é—´æœ‰æå¤§çš„å·®å¼‚ã€‚ç„¶è€Œï¼Œæ¯ä¸€ç§å®ç°æ³•çš„å…±åŒç‚¹åœ¨äºå¿…é¡»ä½¿ virtual base class åœ¨å…¶æ¯ä¸€ä¸ª derived class object ä¸­çš„ä½ç½®ï¼Œèƒ½å¤Ÿäºæ‰§è¡ŒæœŸå‡†å¤‡å¦¥å½“ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">X</span> &#123;</span> <span class="keyword">public</span>: <span class="keyword">int</span> i; &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> :</span> pubilc virual X &#123; <span class="keyword">public</span>: <span class="keyword">int</span> j; &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> pubilc virual X &#123; <span class="keyword">public</span>: <span class="keyword">double</span> d; &#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> :</span> <span class="keyword">public</span> A, <span class="keyword">public</span> B &#123; <span class="keyword">public</span>: <span class="keyword">int</span> k &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ— æ³•åœ¨ç¼–è¯‘æ—¶æœŸå†³å®šï¼ˆresolveï¼‰å‡º pa-&gt;X::i çš„ä½ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">( <span class="keyword">const</span> A* pa)</span> </span>&#123; pa-&gt;i = <span class="number">1024</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    foo( <span class="keyword">new</span> A );</span><br><span class="line">    foo( <span class="keyword">new</span> C );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºä¸‹é¢çš„ä»£ç <br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">( <span class="keyword">const</span> A* pa)</span> </span>&#123; pa-&gt;__vbcX-&gt;i = <span class="number">1024</span>; &#125;</span><br><span class="line"><span class="comment">// __vbcX è¡¨ç¤ºç¼–è¯‘å™¨äº§ç”Ÿçš„æŒ‡é’ˆï¼ŒæŒ‡å‘ virtual base class Xã€‚</span></span><br></pre></td></tr></table></figure></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ‰ 4 ç§æƒ…å†µï¼Œä¼šé€ æˆâ€œç¼–è¯‘å™¨å¿…é¡»ä¸ºæœªå£°æ˜ constructor çš„ classes åˆæˆä¸€ä¸ª default constructorâ€ã€‚</p><ul><li>æ²¡æœ‰ä»»ä½• constructor çš„ class å†…å«ä¸€ä¸ªæœ‰ default constructor çš„ member object</li><li>æ²¡æœ‰ä»»ä½• constructor çš„ class æ´¾ç”Ÿè‡ªä¸€ä¸ª â€œå¸¦æœ‰ Default Constructorâ€ çš„ base class</li><li>å½“ class å£°æ˜ï¼ˆæˆ–ç»§æ‰¿ï¼‰ä¸€ä¸ª virtual function</li><li>class æ´¾ç”Ÿè‡ªä¸€ä¸ªç»§æ‰¿ä¸²é“¾ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæˆ–æ›´å¤šçš„ virtual base classes</li></ul><p><strong>C++ Standard æŠŠé‚£äº›åˆæˆç‰©ç§°ä¸º implicit nontrivial default constructorsã€‚</strong></p><p>C++ æ–°æ‰‹ä¸¤ä¸ªå¸¸è§è¯¯è§£ï¼š</p><ol><li>ä»»ä½• class å¦‚æœæ²¡æœ‰å®šä¹‰ default constructorï¼Œå°±ä¼šè¢«åˆæˆå‡ºä¸€ä¸ªæ¥ã€‚</li><li>ç¼–è¯‘å™¨åˆæˆå‡ºæ¥çš„ default constructor ä¼šæ˜¾å¼è®¾å®š â€œclass å†…æ¯ä¸€ä¸ª data member çš„é»˜è®¤å€¼â€ã€‚</li></ol><h2 id="Copy-Constructor-çš„æ„é€ æ“ä½œ"><a href="#Copy-Constructor-çš„æ„é€ æ“ä½œ" class="headerlink" title="Copy Constructor çš„æ„é€ æ“ä½œ"></a>Copy Constructor çš„æ„é€ æ“ä½œ</h2><p>æœ‰ä¸‰ç§æƒ…å†µï¼Œä¼šä»¥ä¸€ä¸ª object çš„å†…å®¹ä½œä¸ºå¦ä¸€ä¸ª class object çš„åˆå€¼ã€‚<br><code>class X { ... };</code></p><ul><li><code>X xx = x</code></li><li>ä½œä¸ºå‚æ•°äº¤ç»™æŸä¸ªå‡½æ•° <code>foo( xx );</code></li><li>ä½œä¸ºå‡½æ•°è¿”å›å€¼ <code>return xx;</code></li></ul><h3 id="Default-Memberwise-Initialization"><a href="#Default-Memberwise-Initialization" class="headerlink" title="Default Memberwise Initialization"></a>Default Memberwise Initialization</h3><p>Default constructors å’Œ copy constructors åœ¨<strong>å¿…è¦</strong>çš„æ—¶å€™<strong>æ‰</strong>ç”±ç¼–è¯‘å™¨äº§ç”Ÿå‡ºæ¥ã€‚<br>å¯¹äº copy constructors å¿…è¦çš„æ—¶å€™æ˜¯æŒ‡è¯¥ class ä¸å±•ç° bitwise copy semantics æ—¶ã€‚</p><p>C++ Standard æŠŠ copy constructors åŒºåˆ†ä¸º trivial å’Œ nontrivial ä¸¤ç§ã€‚åªæœ‰ nontrivial çš„å®ä¾‹è¢«åˆæˆäºç¨‹åºä¹‹ä¸­ã€‚</p><h3 id="Bitwise-Copy-Semanticsï¼ˆä½é€æ¬¡æ‹·è´ï¼‰"><a href="#Bitwise-Copy-Semanticsï¼ˆä½é€æ¬¡æ‹·è´ï¼‰" class="headerlink" title="Bitwise Copy Semanticsï¼ˆä½é€æ¬¡æ‹·è´ï¼‰"></a>Bitwise Copy Semanticsï¼ˆä½é€æ¬¡æ‹·è´ï¼‰</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹å£°æ˜å±•ç°äº† bitwise copy semantics</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bitwise</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Bitwise(<span class="keyword">int</span> a);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹å£°æ˜æœªå±•ç°å‡º bitwise copy semantics</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NonBitwise</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="built_in">string</span> b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NonBitwise(v);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯¹äºåè€…ï¼Œç¼–è¯‘å™¨å¿…é¡»åˆæˆå‡ºä¸€ä¸ª copy constructorï¼Œ<strong>ä»¥ä¾¿è°ƒç”¨ member class string object çš„ copy constructor</strong>ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ ä¼ªç </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="title">NonBitwise</span><span class="params">(<span class="keyword">const</span> NonBitwise&amp; nb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    b.<span class="built_in">string</span>::<span class="built_in">string</span>(nb.b);</span><br><span class="line">    a = nb.a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ä¸è¦-Bitwise-Copy-Semantics-ï¼"><a href="#ä¸è¦-Bitwise-Copy-Semantics-ï¼" class="headerlink" title="ä¸è¦ Bitwise Copy Semantics ï¼"></a>ä¸è¦ Bitwise Copy Semantics ï¼</h3><p>class ä¸å±•ç°å‡º â€bitwise copy semanticsâ€œ çš„ 4 ç§æƒ…å†µï¼š</p><ul><li>å½“ class å†…å«ä¸€ä¸ª member object è€Œåè€…çš„ class å£°æ˜æœ‰ä¸€ä¸ª copy constructos æ—¶ï¼ˆä¸è®ºæ—¶è¢«æ˜¾å¼å£°æ˜æˆ–æ˜¯è¢«åˆæˆè€Œå¾—ï¼‰ã€‚</li><li>å½“ class ç»§æ‰¿è‡ªä¸€ä¸ª base class è€Œåè€…å­˜åœ¨ä¸€ä¸ª copy constructor æ—¶ï¼ˆä¸è®ºæ—¶è¢«æ˜¾å¼å£°æ˜æˆ–æ˜¯è¢«åˆæˆè€Œå¾—ï¼‰ã€‚</li><li>å½“ class å£°æ˜äº†ä¸€ä¸ªæˆ–å¤šä¸ª virtual functions æ—¶ã€‚</li><li>å½“ class æ´¾ç”Ÿè‡ªä¸€ä¸ªç»§æ‰¿ä¸²é“¾ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª virtual base classes æ—¶ã€‚</li></ul><h3 id="é‡æ–°è®¾å®š-Virtual-Table-çš„æŒ‡é’ˆ"><a href="#é‡æ–°è®¾å®š-Virtual-Table-çš„æŒ‡é’ˆ" class="headerlink" title="é‡æ–°è®¾å®š Virtual Table çš„æŒ‡é’ˆ"></a>é‡æ–°è®¾å®š Virtual Table çš„æŒ‡é’ˆ</h3><p>å½“ class å£°æ˜äº†ä¸€ä¸ªæˆ–å¤šä¸ª virtual functions æ—¶ï¼Œç¼–è¯‘æœŸé—´ä¼šæœ‰ä¸¤ä¸ªç¨‹åºæ‰©å¼ æ“ä½œï¼š</p><ul><li>å¢åŠ ä¸€ä¸ª virtual function table( vtbl )ï¼Œå†…å«æ¯ä¸€ä¸ªæœ‰ä½œç”¨çš„ virtual function çš„åœ°å€ã€‚</li><li>ä¸€ä¸ªæŒ‡å‘ virtual function table çš„æŒ‡é’ˆï¼ˆ vptr ï¼‰ï¼Œå®‰æ’åœ¨æ¯ä¸€ä¸ª class object å†…ã€‚</li></ul><h3 id="å¤„ç†-Virtual-Base-Class-Subobject"><a href="#å¤„ç†-Virtual-Base-Class-Subobject" class="headerlink" title="å¤„ç† Virtual Base Class Subobject"></a>å¤„ç† Virtual Base Class Subobject</h3><p>å¦‚æœä¸€ä¸ª class ä»¥å¦ä¸€ä¸ª object ä½œä¸ºåˆå€¼ï¼Œè€Œåè€…æœ‰ä¸€ä¸ª virtual base class subobjectï¼Œé‚£ä¹ˆä¹Ÿä¼šä½¿ â€œbitwise copy semanticsâ€ å¤±æ•ˆã€‚</p><p>æ¯ä¸€ä¸ªç¼–è¯‘å™¨å¯¹äºè™šæ‹Ÿç»§æ‰¿çš„æ”¯æŒæ‰¿è¯ºï¼Œéƒ½ä»£è¡¨å¿…é¡»è®©â€œderived class object ä¸­ virtual base class subobject ä½ç½®â€ åœ¨æ‰§è¡ŒæœŸå°±å‡†å¤‡å¦¥å½“ã€‚ç»´æŠ¤â€œä½ç½®çš„å®Œæ•´æ€§â€æ˜¯ç¼–è¯‘å™¨çš„è´£ä»»ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line">...</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> <span class="keyword">virtual</span> A&#123;</span><br><span class="line">...</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> :</span> <span class="keyword">public</span> B&#123;</span><br><span class="line">...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">B ba;</span><br><span class="line">B bb = ba;</span><br><span class="line"><span class="comment">// è¿™ç§æƒ…å†µä½¿ç”¨ bitwise å°±å¤Ÿäº†</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C ca;</span><br><span class="line">B bb = ca;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç¼–è¯‘å™¨éœ€è¦åˆæˆä¸€ä¸ª copy constructorï¼Œå®‰æ’ä¸€äº›ä»£ç ä»¥è®¾å®š virtual base class pointer/offser çš„åˆå€¼ï¼ˆæˆ–åªæ˜¯ç®€å•åœ°ç¡®å®šå®ƒæ²¡æœ‰è¢«æŠ¹æ¶ˆï¼‰ï¼Œå¯¹æ¯ä¸€ä¸ª memberwise æ‰§è¡Œå¿…è¦çš„åˆå§‹åŒ–æ“ä½œï¼Œä»¥åŠæ‰§è¡Œå…¶ä»–çš„å†…å­˜ç›¸å…³å·¥ä½œã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="ç¨‹åºè½¬åŒ–è¯­æ„å­¦ï¼ˆProgram-Transformation-Semanticsï¼‰"><a href="#ç¨‹åºè½¬åŒ–è¯­æ„å­¦ï¼ˆProgram-Transformation-Semanticsï¼‰" class="headerlink" title="ç¨‹åºè½¬åŒ–è¯­æ„å­¦ï¼ˆProgram Transformation Semanticsï¼‰"></a>ç¨‹åºè½¬åŒ–è¯­æ„å­¦ï¼ˆProgram Transformation Semanticsï¼‰</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"X.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">X <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    X xx;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> xx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªå‡è®¾ï¼š</p><ul><li>æ¯æ¬¡ <code>foo()</code> è¢«è°ƒç”¨ï¼Œå°±ä¼ å› <code>xx</code> çš„å€¼ã€‚</li><li>å¦‚æœ <code>class X</code> å®šä¹‰äº†ä¸€ä¸ª copy constructorï¼Œé‚£ä¹ˆå½“ <code>foo()</code> è¢«è°ƒç”¨æ—¶ï¼Œä¿è¯è¯¥ copy constructor ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚</li></ul><ul><li>ç¬¬ä¸€ä¸ªå‡è®¾çš„çœŸå®æ€§ï¼Œå¿…é¡»è§† <code>class X</code> å¦‚ä½•å®šä¹‰è€Œå®šã€‚</li><li>ç¬¬äºŒä¸ªå‡è®¾çš„çœŸå®æ€§ï¼Œè™½ç„¶ä¹Ÿéƒ¨åˆ†åœ°å¿…é¡»è§† <code>class X</code> å¦‚ä½•å®šä¹‰è€Œå®šï¼Œä½†æœ€ä¸»è¦çš„è¿˜æ˜¯è§†ä½ çš„ C++ ç¼–è¯‘å™¨æ‰€æä¾›çš„è¿›å–æ€§ä¼˜åŒ–å±‚çº§ï¼ˆdegree of aggressive optimizationï¼‰è€Œå®šã€‚</li></ul><h3 id="æ˜¾å¼çš„åˆå§‹åŒ–æ“ä½œï¼ˆExplicit-Initializationï¼‰"><a href="#æ˜¾å¼çš„åˆå§‹åŒ–æ“ä½œï¼ˆExplicit-Initializationï¼‰" class="headerlink" title="æ˜¾å¼çš„åˆå§‹åŒ–æ“ä½œï¼ˆExplicit Initializationï¼‰"></a>æ˜¾å¼çš„åˆå§‹åŒ–æ“ä½œï¼ˆExplicit Initializationï¼‰</h3><p>åœ¨ä¸¥è°¨çš„ C++ ç”¨è¯ä¸­ï¼Œâ€œå®šä¹‰â€ æ˜¯æŒ‡ â€œå ç”¨å†…å­˜â€ çš„è¡Œä¸ºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">x1</span><span class="params">( x0 )</span></span>;</span><br><span class="line">X x2 = x0;</span><br><span class="line">X x3 = X( x0 );</span><br></pre></td></tr></table></figure><p>è½¬åŒ–ä¸º -&gt; </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">X x1;</span><br><span class="line">X x2;</span><br><span class="line">X x3;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘å™¨å®‰æ’ X copy construction çš„è°ƒç”¨æ“ä½œ</span></span><br><span class="line">X1.X::X( x0 );</span><br><span class="line">X2.X::X( x0 );</span><br><span class="line">X3.X::X( x0 );</span><br></pre></td></tr></table></figure><h3 id="å‚æ•°çš„åˆå§‹åŒ–ï¼ˆArgument-Initializationï¼‰"><a href="#å‚æ•°çš„åˆå§‹åŒ–ï¼ˆArgument-Initializationï¼‰" class="headerlink" title="å‚æ•°çš„åˆå§‹åŒ–ï¼ˆArgument Initializationï¼‰"></a>å‚æ•°çš„åˆå§‹åŒ–ï¼ˆArgument Initializationï¼‰</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">( X x0 )</span></span>;</span><br><span class="line"></span><br><span class="line">X xx;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">foo( xx );</span><br></pre></td></tr></table></figure><p><strong>ç¬¬ä¸€ç§ç¼–è¯‘å™¨å®ç°çš„è½¬åŒ–ä»£ç </strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X __temp0;</span><br><span class="line"></span><br><span class="line">__temp0.X::X( xx );</span><br><span class="line">foo( __temp0 );</span><br></pre></td></tr></table></figure></p><p>è¦æ±‚å±€éƒ¨å®ä¾‹ï¼ˆlocal instanceï¼‰x0 ä»¥ memberwise çš„æ–¹å¼å°† xx å½“åšåˆå€¼ã€‚å¯¼å…¥ä¸´æ—¶æ€§ objectï¼Œå¹¶è°ƒç”¨ copy constructor å°†å®ƒåˆå§‹åŒ–ï¼Œç„¶åå°†æ­¤ä¸´æ—¶æ€§ object äº¤ç»™å‡½æ•°ã€‚ä½†è¿™é‡Œ <code>foo()</code> å‡½æ•°å£°æ˜å°†æ”¹å˜ä¸º <code>void foo( X&amp; x0 )</code>ã€‚åœ¨å‡½æ•°æ‰§è¡Œå®Œæˆå <code>class X</code> çš„ destrucor å°†ä¼šè¢«è°ƒç”¨ï¼Œå¯¹ä»˜é‚£ä¸ªä¸´æ—¶æ€§çš„ object ã€‚</p><p><strong>ç¬¬äºŒç§ç¼–è¯‘å™¨å®ç°</strong><br>ä»¥ â€œæ‹·è´å»ºæ„â€ï¼ˆcopy constructï¼‰çš„æ–¹å¼æŠŠå®é™…å‚æ•°ç›´æ¥å»ºæ„åœ¨å…¶åº”è¯¥çš„ä½ç½®ä¸Šã€‚</p><h3 id="è¿”å›å€¼çš„åˆå§‹åŒ–ï¼ˆReturn-Value-Initializationï¼‰"><a href="#è¿”å›å€¼çš„åˆå§‹åŒ–ï¼ˆReturn-Value-Initializationï¼‰" class="headerlink" title="è¿”å›å€¼çš„åˆå§‹åŒ–ï¼ˆReturn Value Initializationï¼‰"></a>è¿”å›å€¼çš„åˆå§‹åŒ–ï¼ˆReturn Value Initializationï¼‰</h3><h4 id="cfront-ä¸­çš„åŒé˜¶æ®µè½¬åŒ–"><a href="#cfront-ä¸­çš„åŒé˜¶æ®µè½¬åŒ–" class="headerlink" title="cfront ä¸­çš„åŒé˜¶æ®µè½¬åŒ–"></a>cfront ä¸­çš„åŒé˜¶æ®µè½¬åŒ–</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">X xx;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">return</span> xx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½¬åŒ–ä¸º -&gt;<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">( X&amp; __result )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    X xx;</span><br><span class="line">    </span><br><span class="line">    xx.X::X();</span><br><span class="line">    <span class="comment">// ... </span></span><br><span class="line">    __result.X::X(xx);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>X xx = bar();</code> çš„æ“ä½œå°†è¢«è½¬åŒ–ä¸º <code>X xx; bar( xx );</code>ã€‚</p><p><code>bar().memfunc();</code> å¯èƒ½è¢«è½¬åŒ–ä¸º -&gt;<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X __temp0;</span><br><span class="line">( bar( __temp0 ), __temp0 ).memfunc();</span><br></pre></td></tr></table></figure></p><h3 id="åœ¨ä½¿ç”¨è€…å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization-at-the-User-Levelï¼‰"><a href="#åœ¨ä½¿ç”¨è€…å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization-at-the-User-Levelï¼‰" class="headerlink" title="åœ¨ä½¿ç”¨è€…å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization at the User Levelï¼‰"></a>åœ¨ä½¿ç”¨è€…å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization at the User Levelï¼‰</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">bar</span><span class="params">( <span class="keyword">const</span> T &amp;y, <span class="keyword">const</span> T &amp;z )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    X xx;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span> xx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>bar()</code> å‡½æ•°ä¼šè¦æ±‚ <code>xx</code> è¢« â€œmemberwiseâ€ åœ°æ‹·è´åˆ°ç¼–è¯‘å™¨æ‰€äº§ç”Ÿçš„ <code>__result</code> ä¹‹ä¸­ã€‚<br><em>Jonathan Shopiro</em> æå‡ºå®šä¹‰å¦ä¸€ä¸ª constructorï¼Œå¯ä»¥ç›´æ¥è®¡ç®— <code>xx</code> çš„å€¼ã€‚<br>ä¸Šé¢çš„ä»£ç è½¬åŒ–ä¸º -&gt;<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">bar</span><span class="params">( <span class="keyword">const</span> T &amp;y, <span class="keyword">const</span> T &amp;z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> X( y,z );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¼–è¯‘å™¨ä¼šå°†å…¶è½¬åŒ–ä¸º -&gt;<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">bar</span><span class="params">( X &amp;__result, <span class="keyword">const</span> T &amp;y, <span class="keyword">const</span> T &amp;z)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">__result.X::X( y,z );</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>__result</code> è¢«ç›´æ¥è®¡ç®—å‡ºæ¥ï¼Œè€Œä¸æ˜¯ç»ç”± copy constructor æ‹·è´è€Œå¾—ï¼</p><h3 id="åœ¨ç¼–è¯‘å™¨å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization-at-the-Compiler-Levelï¼‰"><a href="#åœ¨ç¼–è¯‘å™¨å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization-at-the-Compiler-Levelï¼‰" class="headerlink" title="åœ¨ç¼–è¯‘å™¨å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization at the Compiler Levelï¼‰"></a>åœ¨ç¼–è¯‘å™¨å±‚é¢åšä¼˜åŒ–ï¼ˆOptimization at the Compiler Levelï¼‰</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">X <span class="title">bar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">X xx;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">return</span> xx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½¬åŒ–ä¸º -&gt;<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">( X&amp; __result )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    __result.X::X();</span><br><span class="line"><span class="comment">// ... </span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™ç§ä¼˜åŒ–ï¼Œæœ‰æ—¶å€™è¢«ç§°ä¸º Named Return Value ( NRV ) ä¼˜åŒ–ã€‚NRV ä¼˜åŒ–å¦‚ä»Šè¢«è§†ä¸ºæ ‡å‡† C++ ç¼–è¯‘å™¨çš„ä¸€ä¸ªä¹‰ä¸å®¹è¾çš„ä¼˜åŒ–æ“ä½œã€‚</p><p>// æœ¬ä¹¦å¯¹ NRV çš„ä¼˜åŒ–æ€§èƒ½æµ‹è¯•æœ‰ä¸€äº›é”™è¯¯ï¼Œè¿™éƒ¨åˆ†ä¸åšæ‘˜å½•ã€‚</p><p>NRV ä¼˜åŒ–çš„äº‰è®®ï¼š</p><ul><li>ä¼˜åŒ–ç”±ç¼–è¯‘å™¨å®Œæˆï¼Œè€Œå®ƒæ˜¯å¦çœŸçš„è¢«å®Œæˆï¼Œå¹¶ä¸æ˜¯ååˆ†æ¸…æ¥šã€‚</li><li>ä¸€æ—¦å‡½æ•°å˜å¾—æ¯”è¾ƒå¤æ‚ï¼Œä¼˜åŒ–ä¹Ÿä¼šå˜å¾—æ¯”è¾ƒéš¾ä»¥å®æ–½ã€‚</li><li>ç¨‹åºå‘˜ä¸èƒ½å¤Ÿå®‰å…¨åœ°è§„åˆ’è‡ªå·±çš„ copy constructor çš„å‰¯ä½œç”¨ã€‚</li></ul><p>ä¸€èˆ¬è€Œè¨€ï¼Œé¢å¯¹ â€œä»¥ä¸€ä¸ª class object ä½œä¸ºå¦ä¸€ä¸ª class object çš„åˆå€¼â€ çš„æƒ…å½¢ï¼Œè¯­è¨€å…è®¸ç¼–è¯‘å™¨æœ‰å¤§é‡çš„è‡ªç”±å‘æŒ¥ç©ºé—´ã€‚</p><h3 id="Copy-Constructorï¼šè¦è¿˜æ˜¯ä¸è¦ï¼Ÿ"><a href="#Copy-Constructorï¼šè¦è¿˜æ˜¯ä¸è¦ï¼Ÿ" class="headerlink" title="Copy Constructorï¼šè¦è¿˜æ˜¯ä¸è¦ï¼Ÿ"></a>Copy Constructorï¼šè¦è¿˜æ˜¯ä¸è¦ï¼Ÿ</h3><p>class çš„ default copy constructor è¢«è§†ä¸º trivial çš„æƒ…å†µä¸‹ä¸å£°æ˜ explicit copy constructor æ—¢å¿«é€Ÿåˆå®‰å…¨ã€‚åœ¨éœ€è¦ NRV ä¼˜åŒ–æ—¶ï¼Œå¯ä»¥è€ƒè™‘å®ç° copy constructorï¼Œå¯ä»¥ä½¿ç”¨ <code>memcpy()</code> æ¥æ‹·è´æé«˜æ•ˆç‡ã€‚</p><p>ä¸ç®¡ä½¿ç”¨ <code>memcpy()</code> è¿˜æ˜¯ <code>memset()</code>ï¼Œéƒ½åªæœ‰åœ¨â€œclasses ä¸å«ä»»ä½•ç”±ç¼–è¯‘å™¨äº§ç”Ÿçš„é‚£éƒ¨ members â€ æ—¶æ‰èƒ½æœ‰æ•ˆè¿è¡Œã€‚</p><h2 id="æˆå‘˜ä»¬çš„åˆå§‹åŒ–é˜Ÿä¼ï¼ˆMember-Initialization-Listï¼‰"><a href="#æˆå‘˜ä»¬çš„åˆå§‹åŒ–é˜Ÿä¼ï¼ˆMember-Initialization-Listï¼‰" class="headerlink" title="æˆå‘˜ä»¬çš„åˆå§‹åŒ–é˜Ÿä¼ï¼ˆMember Initialization Listï¼‰"></a>æˆå‘˜ä»¬çš„åˆå§‹åŒ–é˜Ÿä¼ï¼ˆMember Initialization Listï¼‰</h2><p>å¿…é¡»ä½¿ç”¨ member initialization list çš„æƒ…å†µ</p><ul><li>å½“åˆå§‹åŒ–ä¸€ä¸ª reference member æ—¶ï¼›</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ª const member æ—¶ï¼›</li><li>å½“è°ƒç”¨ä¸€ä¸ª base class çš„ constructorï¼Œè€Œå®ƒæ‹¥æœ‰ä¸€ç»„å‚æ•°æ—¶ï¼›</li><li>å½“è°ƒç”¨ä¸€ä¸ª member class çš„ constructorï¼Œè€Œå®ƒæ‹¥æœ‰ä¸€ç»„å‚æ•°æ—¶ã€‚</li></ul><p>ç¼–è¯‘å™¨ä¼šä¸€ä¸€æ“ä½œ initialization listï¼Œä»¥é€‚å½“é¡ºåºä¸­ constructor ä¹‹å†…å®‰æ’åˆå§‹åŒ–æ“ä½œï¼Œå¹¶ä¸”<strong>åœ¨ä»»ä½• explicit user code ä¹‹å‰</strong>ã€‚</p><p>åœ¨ initialization list ä¸­ä½¿ç”¨ member function ä½¿ç”¨æ˜¯åˆæ³•çš„ï¼Œè¿™æ˜¯å› ä¸ºå’Œæ­¤ object ç›¸å…³çš„ this æŒ‡é’ˆå·²ç»è¢«å»ºæ„å¦¥å½“ã€‚</p><p>å¦‚æœåœ¨ initialization list ä¸­è°ƒç”¨ derived class member function ï¼Œå…¶è¿”å›å€¼è¢«å½“åš base class constructor çš„ä¸€ä¸ªå‚æ•°ã€‚é‚£ä¸ä¸€å®šæ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸º derived class member function å¯èƒ½è¦ç”¨åˆ°çš„ derived class member åœ¨ base class çš„ constructor ä¹‹åæ‰è¢«åˆå§‹åŒ–ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://www.cnblogs.com/autosar/archive/2011/10/09/2204181.html" target="_blank" rel="noopener">å…³äºNRVä¼˜åŒ–</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ„é€ å‡½æ•°è¯­ä¹‰å­¦&quot;&gt;&lt;a href=&quot;#æ„é€ å‡½æ•°è¯­ä¹‰å­¦&quot; class=&quot;headerlink&quot; title=&quot;æ„é€ å‡½æ•°è¯­ä¹‰å­¦&quot;&gt;&lt;/a&gt;æ„é€ å‡½æ•°è¯­ä¹‰å­¦&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;è‹±æ–‡æœ¯è¯­è¡¨&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;t
      
    
    </summary>
    
      <category term="æ³› - ä¹¦æ‘˜" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E4%B9%A6%E6%91%98/"/>
    
    
      <category term="Cpp" scheme="https://blog.pazyx.xyz/tags/Cpp/"/>
    
      <category term="æ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="ç¼–è¯‘å™¨ä¼˜åŒ–" scheme="https://blog.pazyx.xyz/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/"/>
    
      <category term="æ‹·è´æ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="ç¼ºçœæ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E7%BC%BA%E7%9C%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="Virtual Class" scheme="https://blog.pazyx.xyz/tags/Virtual-Class/"/>
    
      <category term="Virtual Base Class" scheme="https://blog.pazyx.xyz/tags/Virtual-Base-Class/"/>
    
      <category term="NRVä¼˜åŒ–" scheme="https://blog.pazyx.xyz/tags/NRV%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>macOS ç¾éš¾</title>
    <link href="https://blog.pazyx.xyz/2018/07/21/mac_os_disaster/"/>
    <id>https://blog.pazyx.xyz/2018/07/21/mac_os_disaster/</id>
    <published>2018-07-21T10:52:18.000Z</published>
    <updated>2018-07-21T14:19:51.393Z</updated>
    
    <content type="html"><![CDATA[<h1 id="macOS-10-14-beta3"><a href="#macOS-10-14-beta3" class="headerlink" title=" macOS 10.14 beta3 "></a><center> macOS 10.14 beta3 </center></h1><h4 id="ç¾éš¾æ€§çš„æ•°æ®ä¸¢å¤±äº‹æ•…ï¼Œåšå®¢æ•°æ®é™©äº›å…¨éƒ¨ä¸¢å¤±ï¼"><a href="#ç¾éš¾æ€§çš„æ•°æ®ä¸¢å¤±äº‹æ•…ï¼Œåšå®¢æ•°æ®é™©äº›å…¨éƒ¨ä¸¢å¤±ï¼" class="headerlink" title=" ç¾éš¾æ€§çš„æ•°æ®ä¸¢å¤±äº‹æ•…ï¼Œåšå®¢æ•°æ®é™©äº›å…¨éƒ¨ä¸¢å¤±ï¼ "></a><center> ç¾éš¾æ€§çš„æ•°æ®ä¸¢å¤±äº‹æ•…ï¼Œåšå®¢æ•°æ®é™©äº›å…¨éƒ¨ä¸¢å¤±ï¼ </center></h4><h4 id="2018-7-21-å‡Œæ™¨"><a href="#2018-7-21-å‡Œæ™¨" class="headerlink" title=" 2018.7.21 å‡Œæ™¨ "></a><center> 2018.7.21 å‡Œæ™¨ </center></h4><p><img src="/2018/07/21/mac_os_disaster/disaster.png" alt=""></p><p>åšå®¢æ•°æ®åœ¨åºŸçº¸ç¯“é‡Œæ‰¾åˆ°äº†ï¼Œå†åŠ«åº¦äººã€‚ã€‚ã€‚<br>è°ƒæ•´ä¸€ä¸‹<strong>ç»§ç»­ï½</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;macOS-10-14-beta3&quot;&gt;&lt;a href=&quot;#macOS-10-14-beta3&quot; class=&quot;headerlink&quot; title=&quot; macOS 10.14 beta3 &quot;&gt;&lt;/a&gt;&lt;center&gt; macOS 10.14 beta3 &lt;/cent
      
    
    </summary>
    
      <category term="æ³› - çºªå¿µ" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E7%BA%AA%E5%BF%B5/"/>
    
    
      <category term="ç¾éš¾" scheme="https://blog.pazyx.xyz/tags/%E7%81%BE%E9%9A%BE/"/>
    
      <category term="MacOS" scheme="https://blog.pazyx.xyz/tags/MacOS/"/>
    
  </entry>
  
  <entry>
    <title>Markdown æŒ‡å—</title>
    <link href="https://blog.pazyx.xyz/2018/07/15/markdown_guide/"/>
    <id>https://blog.pazyx.xyz/2018/07/15/markdown_guide/</id>
    <published>2018-07-14T16:53:18.000Z</published>
    <updated>2018-07-21T12:03:16.963Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Markdown-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Markdown-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Markdown æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Markdown æ˜¯ä»€ä¹ˆï¼Ÿ</h1><blockquote><p><strong>Markdown</strong> æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œåˆ›å§‹äººä¸ºçº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰ã€‚å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ XHTMLï¼ˆæˆ–è€… HTML ï¼‰æ–‡æ¡£â€ã€‚</p></blockquote><p><strong>æ³¨æ„ï¼</strong>Markdownæ˜¯æ ‡è®°è¯­è¨€ï¼Œè€Œä¸æ˜¯æ ·å¼è¡¨ã€‚<strong>å®ƒåªæ˜¯åœ¨æ ‡æ³¨è¯´æ˜æ–‡æœ¬ä¸­æ¯ä¸€å—æ˜¯ä»€ä¹ˆã€‚</strong>æ¯”å¦‚æ ‡é¢˜ã€å¼•ç”¨ã€ä»£ç ã€‚æœ€ç»ˆå®ƒæ˜¾ç¤ºçš„æ˜¯ä»€ä¹ˆæ ·å­çš„å–å†³äºä½ æµè§ˆå®ƒçš„å·¥å…·ï¼Œå¦‚æœè½¬æˆ HTML é‚£å°±ç”±æµè§ˆå™¨å†³å®šï¼Œä½ æƒ³æ”¹å˜å®ƒçš„æ ·å¼å°±éœ€è¦æ·»åŠ  CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ã€‚</p><h1 id="æˆ‘ä¸ºä»€ä¹ˆå­¦-Markdownï¼Ÿ"><a href="#æˆ‘ä¸ºä»€ä¹ˆå­¦-Markdownï¼Ÿ" class="headerlink" title="æˆ‘ä¸ºä»€ä¹ˆå­¦ Markdownï¼Ÿ"></a>æˆ‘ä¸ºä»€ä¹ˆå­¦ Markdownï¼Ÿ</h1><p>ä¸»è¦æ˜¯åšå®¢å†™ä½œéœ€è¦ç”¨åˆ°ï¼Œç”¨ Markdown å†™ä½œæœ€å¤§çš„å¥½å¤„æ˜¯è‡ªç”±ï¼Œä½ çš„æ–‡æœ¬æ˜¯ç‹¬ç«‹çš„ã€‚å¦‚æœä½ ä½¿ç”¨WordPress è‡ªå¸¦çš„ç¼–è¾‘å™¨å†™ä½œï¼Œå®ƒçš„å¯ç§»æ¤æ€§æ˜¯å¾ˆä½çš„ï¼Œå¯¼å‡º XML æ–‡ä»¶åè½¬æ¢æˆå…¶ä»–æ ¼å¼åå¾ˆå¤šåœ°æ–¹éƒ½éœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚è¿˜æœ‰å°±æ˜¯é¡¹ç›®ä¸­ Readme æ–‡ä»¶ä¸€èˆ¬ç”¨ Markdown å†™ï¼Œä½ å†™ä½œæ—¶ä¸éœ€è¦ä»»ä½•é¼ æ ‡æ“ä½œã€‚</p><h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">#### å››çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">##### äº”çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">###### å…­çº§æ ‡é¢˜</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡æœ¬åŸºç¡€æ ·å¼"><a href="#æ–‡æœ¬åŸºç¡€æ ·å¼" class="headerlink" title="æ–‡æœ¬åŸºç¡€æ ·å¼"></a>æ–‡æœ¬åŸºç¡€æ ·å¼</h2><h3 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**åŠ ç²—**</span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š**</strong>åŠ ç²—**</p><h3 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**æ–œä½“**</span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š*</strong>æ–œä½“*</p><h3 id="æ–œä½“åŠ ç²—"><a href="#æ–œä½“åŠ ç²—" class="headerlink" title="æ–œä½“åŠ ç²—"></a>æ–œä½“åŠ ç²—</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">***æ–œä½“åŠ ç²—**</span>*</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š***</strong>æ–œä½“åŠ ç²—***</p><h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~åˆ é™¤~~</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong><del>åˆ é™¤</del></p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; å¼•ç”¨çš„å†…å®¹</span></span><br><span class="line">&gt;&gt; å¼•ç”¨çš„å†…å®¹</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; å¼•ç”¨çš„å†…å®¹</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><blockquote><p>å¼•ç”¨çš„å†…å®¹</p><blockquote><p>å¼•ç”¨çš„å†…å®¹</p><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><blockquote><p>å¼•ç”¨çš„å†…å®¹</p></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><p>å¯ä»¥å¤šçº§åµŒå¥—å¼•ç”¨</p><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line"><span class="emphasis">***</span></span><br><span class="line"><span class="strong">*****</span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><hr><hr><hr><hr><h2 id="è¶…é“¾æ¥"><a href="#è¶…é“¾æ¥" class="headerlink" title="è¶…é“¾æ¥"></a>è¶…é“¾æ¥</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">è¶…é“¾æ¥å</span>](<span class="link">è¶…é“¾æ¥åœ°å€ "è¶…é“¾æ¥title"</span>)</span><br><span class="line">titleå¯ç¼ºçœ</span><br><span class="line"><span class="strong">**æ•ˆæœï¼š**</span></span><br><span class="line">[<span class="string">Home</span>](<span class="link">https//pazyx.xyz "pazyx"</span>)</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong><br><a href="https//pazyx.xyz" title="pazyx">Home</a></p><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">å›¾ç‰‡alt</span>](<span class="link">å›¾ç‰‡åœ°å€ ''å›¾ç‰‡title''</span>)</span><br><span class="line">titleå¯ç¼ºçœ</span><br><span class="line"><span class="strong">**æ•ˆæœï¼š**</span></span><br><span class="line">![<span class="string">logo</span>](<span class="link">/markdown_basic/logo.png ''blogLogo''</span>)</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong><br><img src="/2018/07/15/markdown_guide/markdown_basic/logo.png" alt="logo" title="&#39;blogLogo&#39;"><br>å›¾ç‰‡åœ°å€å¯ä»¥æ˜¯ç›¸å¯¹åœ°å€ä¹Ÿå¯ä»¥æ˜¯è¶…é“¾æ¥</p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>åˆ—è¡¨å†…å®¹</span><br><span class="line"><span class="bullet">+ </span>åˆ—è¡¨å†…å®¹</span><br><span class="line"><span class="bullet">* </span>åˆ—è¡¨å†…å®¹</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><ul><li>åˆ—è¡¨å†…å®¹</li></ul><ul><li>åˆ—è¡¨å†…å®¹</li></ul><ul><li>åˆ—è¡¨å†…å®¹</li></ul><h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.åˆ—è¡¨å†…å®¹</span><br><span class="line">2.åˆ—è¡¨å†…å®¹</span><br><span class="line">3.åˆ—è¡¨å†…å®¹</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><p>1.åˆ—è¡¨å†…å®¹<br>2.åˆ—è¡¨å†…å®¹<br>3.åˆ—è¡¨å†…å®¹</p><h3 id="åˆ—è¡¨åµŒå¥—"><a href="#åˆ—è¡¨åµŒå¥—" class="headerlink" title="åˆ—è¡¨åµŒå¥—"></a>åˆ—è¡¨åµŒå¥—</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>ä¸€çº§åˆ—è¡¨å†…å®¹</span><br><span class="line">  - äºŒçº§åˆ—è¡¨å†…å®¹</span><br><span class="line"><span class="code">    - ä¸‰çº§åˆ—è¡¨å†…å®¹</span></span><br><span class="line"><span class="code">      - å››çº§åˆ—è¡¨å†…å®¹</span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><ul><li>ä¸€çº§åˆ—è¡¨å†…å®¹<ul><li>äºŒçº§åˆ—è¡¨å†…å®¹<ul><li>ä¸‰çº§åˆ—è¡¨å†…å®¹<ul><li>å››çº§åˆ—è¡¨å†…å®¹</li></ul></li></ul></li></ul></li></ul><p>ä¸¤çº§ä¹‹é—´å·®ä¸¤ä¸ªç©ºæ ¼å³å¯</p><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|è¡¨å¤´|è¡¨å¤´|è¡¨å¤´|</span><br><span class="line">| - | :-: | :- |</span><br><span class="line">|å†…å®¹|å†…å®¹|å†…å®¹|</span><br><span class="line">|å†…å®¹|å†…å®¹|å†…å®¹|</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><table><thead><tr><th>è¡¨å¤´</th><th>è¡¨å¤´</th><th>è¡¨å¤´</th></tr></thead><tbody><tr><td>å†…å®¹</td><td>å†…å®¹</td><td>å†…å®¹</td></tr><tr><td>å†…å®¹</td><td>å†…å®¹</td><td>å†…å®¹</td></tr></tbody></table><p>é»˜è®¤ä¸ºå·¦å¯¹é½ï¼Œåœ¨ â€œ-â€ å³è¾¹åŠ ä¸Š â€œ:â€ ä¸ºå³å¯¹é½ï¼Œåœ¨ â€œ-â€ ä¸¤ä¾§åŒæ—¶åŠ ä¸Š â€œ:â€ ä¸ºå±…ä¸­å¯¹é½ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="è¡Œå†…ä»£ç "><a href="#è¡Œå†…ä»£ç " class="headerlink" title="è¡Œå†…ä»£ç "></a>è¡Œå†…ä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†… `code` è¡Œå†…</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><p>è¡Œå†… <code>code</code> è¡Œå†…</p><h3 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\<span class="code">`\`</span>\`cpp</span><br><span class="line"><span class="section">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"><span class="code">    std::cout &lt;&lt; "Hello World." &lt;&lt; endl;</span></span><br><span class="line"><span class="code">    return 0;</span></span><br><span class="line">&#125;</span><br><span class="line">\<span class="code">`\`</span>\`</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello World."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://www.jianshu.com/p/191d1e21f7ed" target="_blank" rel="noopener">markdownåŸºæœ¬è¯­æ³•</a></li><li><a href="https://www.jianshu.com/p/2df05f279331" target="_blank" rel="noopener">Markdownæ’å…¥è¡¨æ ¼è¯­æ³•</a></li><li><a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener">Markdownç»´åŸºç™¾ç§‘</a></li><li><a href="http://www.markdown.cn" target="_blank" rel="noopener">Markdownä¸­æ–‡å®˜ç½‘</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Markdown-æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#Markdown-æ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;Markdown æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;Markdown æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Markd
      
    
    </summary>
    
      <category term="æ³› - è®¡ç®—æœº" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Markdown" scheme="https://blog.pazyx.xyz/tags/Markdown/"/>
    
      <category term="æ ‡è®°è¯­è¨€" scheme="https://blog.pazyx.xyz/tags/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80/"/>
    
      <category term="å†™ä½œå·¥å…·" scheme="https://blog.pazyx.xyz/tags/%E5%86%99%E4%BD%9C%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>æ•°å­¦å»ºæ¨¡â€”â€”åŠ¨æ€è§„åˆ’</title>
    <link href="https://blog.pazyx.xyz/2018/07/14/mathematical_modeling_dp/"/>
    <id>https://blog.pazyx.xyz/2018/07/14/mathematical_modeling_dp/</id>
    <published>2018-07-14T10:13:18.000Z</published>
    <updated>2018-07-26T11:16:41.074Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä¹‹å‰åœ¨å­¦ç®—æ³•æ—¶æ¥è§¦è¿‡ä¸å°‘åŠ¨æ€è§„åˆ’çš„é¢˜ç›®ï¼Œä½†æœ€è¿‘å®è·µå‘¨åœ¨ä¸Šæ•°å­¦å»ºæ¨¡çš„è¯¾ï¼Œå‘ç°è‡ªå·±åœ¨åŠ¨æ€è§„åˆ’ç®—æ³•ä¸Šæ¬ ç¼ºå¾ˆå¤šã€‚æ­¥éª¤ä¸è§„èŒƒã€æ€è·¯ä¸æ¸…æ™°ã€æ•°å­¦æ¨å¯¼æ¬ ç¼ºï¼Œå¤§å¤šæ•°æ—¶å€™æˆ‘éƒ½æ˜¯é ç›´è§‰æ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„ã€‚è¿™ç¯‡æˆ‘å¸Œæœ›ä»æ•°å­¦å»ºæ¨¡çš„è§’åº¦é‡æ–°æ€»ç»“ä¸€ä¸‹åŠ¨æ€è§„åˆ’ï¼ˆç®—æ³•ä¸­çš„åŠ¨æ€è§„åˆ’ä¹Ÿä¼šç»§ç»­æ›´æ–°ï¼Œæœ€è¿‘å°†æ›´æ–°çŠ¶å‹DPï¼‰ã€‚<br>ç®—æ³•ç«èµ›å’Œæ•°å­¦å»ºæ¨¡ç«èµ›ä¸­åŠ¨æ€è§„åˆ’ï¼Œåœ¨æ•°æ®å’Œæ–¹ç¨‹çš„è¡¨ç¤ºä¸Šæœ‰å¾ˆå¤§ä¸åŒã€‚<br>ç®—æ³•ç«èµ›ä¸­ä¸€èˆ¬ä»¥æ•°ç»„å•å…ƒçš„å½¢å¼è¡¨ç¤ºä¸€ä¸ªçŠ¶æ€å¹¶ç”¨å…¶æ¨å¯¼çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¹¶ä¸”ä¸å¯¹æŒ‡æ ‡å‡½æ•°ä¸æœ€ä¼˜å€¼å‡½æ•°çš„å•ç‹¬æ¨å¯¼ã€‚å…¶å½¢å¼æ›´æ¥è¿‘ä¼ªä»£ç ï¼Œæ–¹ä¾¿å°†æ¨¡å‹å¿«é€Ÿè½¬æ¢ä¸ºä»£ç ã€‚<br>æ•°å­¦å»ºæ¨¡ç«èµ›ä¸­æ­¥éª¤ç›¸å½“ä¸¥è°¨å¾ˆå¤šï¼Œå„ä¸ªæ–¹ç¨‹ç›¸äº’ç‹¬ç«‹ï¼Œå„ä¸ªæ–¹ç¨‹ä¹Ÿæ›´æ³¨é‡æ•°å­¦çš„ä¸¥è°¨æ€§ã€‚</p><hr><h1 id="æ ‡å‡†æ­¥éª¤"><a href="#æ ‡å‡†æ­¥éª¤" class="headerlink" title="æ ‡å‡†æ­¥éª¤"></a>æ ‡å‡†æ­¥éª¤</h1><ul><li>é˜¶æ®µ</li><li>çŠ¶æ€å˜é‡ï¼ˆæ— åæ•ˆæ€§ï¼‰ \(s_k\)</li><li>å†³ç­–å˜é‡  \(x_k\)</li><li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹  \(s_{k+1} = T_k(s_k,x_k)\)</li><li>æŒ‡æ ‡å‡½æ•°  \(V_{k,n} = V_{k,n}(s_k,x_k,s_{k+1},â€¦,s_{n+1},k = 1,2,â€¦,n\)</li><li>æœ€ä¼˜å€¼å‡½æ•°  \[f_k(s_k) = \max_{\{x_k,â€¦,x_n\}} V_{k,n}\]</li><li>è¾¹ç•Œæ¡ä»¶</li></ul><h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p>ä¸€ä¸ªç®€å•çš„å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œå…¶ç®—æ³•æˆ‘åœ¨<a href="/2018/03/01/cp-bp/">åŠ¨æ€è§„åˆ’B2â€”â€”å®Œå…¨èƒŒåŒ…</a>ç»™å‡ºã€‚</p><p>æœ‰ä¸€ä¸ªå®¹é‡ä¸º V çš„èƒŒåŒ…å’Œ N ç§ç‰©å“ã€‚æ¯ç§ç‰©å“çš„ä»·å€¼ä¸º \(W_k\) ä½“ç§¯ä¸º \(C_k\) ï¼Œæ¯ç§ç‰©å“æœ‰æ— é™ä»¶ï¼Œé—®æœ€å¤§èƒŒåŒ…ä»·å€¼ã€‚</p><h3 id="é˜¶æ®µ"><a href="#é˜¶æ®µ" class="headerlink" title="é˜¶æ®µ"></a>é˜¶æ®µ</h3><p>N ç§ç‰©å“æŒ‰ç¼–å·æ’åºï¼Œè§†ä¸º N ä¸ªé˜¶æ®µã€‚</p><h3 id="çŠ¶æ€å˜é‡"><a href="#çŠ¶æ€å˜é‡" class="headerlink" title="çŠ¶æ€å˜é‡"></a>çŠ¶æ€å˜é‡</h3><p>\(s_k\) ç¬¬ k é˜¶æ®µåˆå¯è£…è½½çš„è´¨é‡</p><h3 id="å†³ç­–å˜é‡"><a href="#å†³ç­–å˜é‡" class="headerlink" title="å†³ç­–å˜é‡"></a>å†³ç­–å˜é‡</h3><p>è£…å…¥ç¬¬kç§ç‰©å“çš„æ•°é‡ï¼š\(x_i\)</p><h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><p>\[s_{k+1} = s_k - C_kx_k\] </p><h3 id="æŒ‡æ ‡å‡½æ•°"><a href="#æŒ‡æ ‡å‡½æ•°" class="headerlink" title="æŒ‡æ ‡å‡½æ•°"></a>æŒ‡æ ‡å‡½æ•°</h3><p>è£…å…¥çš„ç¬¬ k ç§ç‰©å“åˆ°ç¬¬ N ç§ç‰©å“æ€»ä»·å€¼ï¼š\(v_k\) </p><h3 id="æœ€ä¼˜å€¼å‡½æ•°"><a href="#æœ€ä¼˜å€¼å‡½æ•°" class="headerlink" title="æœ€ä¼˜å€¼å‡½æ•°"></a>æœ€ä¼˜å€¼å‡½æ•°</h3><p>\[f_k(s_k) = \max_{0â‰¤x_kâ‰¤[s_k/a_k]} \{C_kx_k + f_k(s_{k+1})\ \ (k = 1â€¦n)\]</p><h3 id="è¾¹ç•Œæ¡ä»¶"><a href="#è¾¹ç•Œæ¡ä»¶" class="headerlink" title="è¾¹ç•Œæ¡ä»¶"></a>è¾¹ç•Œæ¡ä»¶</h3><ul><li>\(s_1 = V\)</li><li>\(f_{n+1}(s_{n+1}) = 0\)</li></ul><h3 id="ä¸ç®—æ³•ç«èµ›ä¸­çš„åŠ¨æ€è§„åˆ’å¯¹æ¯”"><a href="#ä¸ç®—æ³•ç«èµ›ä¸­çš„åŠ¨æ€è§„åˆ’å¯¹æ¯”" class="headerlink" title="ä¸ç®—æ³•ç«èµ›ä¸­çš„åŠ¨æ€è§„åˆ’å¯¹æ¯”"></a>ä¸ç®—æ³•ç«èµ›ä¸­çš„åŠ¨æ€è§„åˆ’å¯¹æ¯”</h3><ul><li>ç®—æ³•ç«èµ›<br>\[F[i, v] = max \{ F[i âˆ’ 1, v âˆ’ kC_i] + kW_i \ \  0 â‰¤ kC_i â‰¤ v \} \]</li><li>æ•°å­¦å»ºæ¨¡ç«èµ›<br>$$<br>\begin{cases}<br>f_k(s_k) = \max_{0â‰¤x_kâ‰¤[s_k/a_k]} \{C_kx_k + f_k(s_{k+1})\} &amp;\text{(k = 1â€¦n)} \\<br>f_{n+1}(s_{n+1}) = 0<br>\end{cases}<br>$$</li></ul><hr><h1 id="è¿ç»­å‹åŠ¨æ€è§„åˆ’"><a href="#è¿ç»­å‹åŠ¨æ€è§„åˆ’" class="headerlink" title="è¿ç»­å‹åŠ¨æ€è§„åˆ’"></a>è¿ç»­å‹åŠ¨æ€è§„åˆ’</h1><p>åœ¨å¤§å¤šæ•°ç®—æ³•ç«èµ›çš„é¢˜ç›®ä¸­ï¼Œå†³ç­–ç‚¹éƒ½æ˜¯ç¦»æ•£çš„ã€‚è€Œåœ¨æ•°å­¦å»ºæ¨¡ç«èµ›ä¸­å¯èƒ½å‡ºç°è¿ç»­å‹çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œè¿™ç§é¢˜ç›®å†™å‡ºå…·ä½“ç®—æ³•ç›¸å½“å›°éš¾ï¼Œå¤šå¤§éœ€è¦ç¬”ç®—ã€‚</p><h2 id="ä¾‹é¢˜-1"><a href="#ä¾‹é¢˜-1" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><p>100 å°æŸç§æœºå™¨å¯åœ¨é«˜ä½ä¸¤ç§ä¸åŒçš„è´Ÿè·ä¸‹è¿›è¡Œç”Ÿäº§ï¼Œè®¾æœºå™¨åœ¨é«˜è´Ÿè·ä¸‹ç”Ÿäº§çš„äº§é‡å‡½æ•°ä¸º g = 9x ï¼Œå…¶ä¸­ x ä¸ºæŠ•å…¥ç”Ÿäº§çš„æœºå™¨æ•°é‡ï¼Œå­£åº¦å®Œå¥½ç‡ä¸º a = 0.65 ã€‚åœ¨ä½è´Ÿè·ä¸‹ç”Ÿäº§çš„äº§é‡å‡½æ•°ä¸º h = 4y ï¼Œå…¶ä¸­ y ä¸ºæŠ•å…¥ç”Ÿäº§çš„æœºå™¨æ•°é‡,å­£åº¦å®Œå¥½ç‡ä¸º b = 0.95 ã€‚</p><h3 id="å»ºæ¨¡"><a href="#å»ºæ¨¡" class="headerlink" title="å»ºæ¨¡"></a>å»ºæ¨¡</h3><ul><li>æŠŠ4ä¸ªå­£åº¦çœ‹æˆæ˜¯4ä¸ªé˜¶æ®µï¼Œç”¨kè¡¨ç¤ºã€‚</li><li>çŠ¶æ€å˜é‡\(s_k\)ï¼šè¡¨ç¤ºç¬¬kå­£åº¦åˆæ‹¥æœ‰çš„å®Œå¥½æœºå™¨æ•°é‡ã€‚(\(s_1\) = 100)</li><li>å†³ç­–å˜é‡\(x_k\)ï¼šè¡¨ç¤ºç¬¬kå­£åº¦åˆ†é…é«˜è´Ÿè·ä¸‹ç”Ÿäº§çš„æœºå™¨æ•°é‡ï¼Œäºæ˜¯\(s_k-x_k\)ä¸ºè¯¥å­£åº¦åˆ†é…åœ¨ä½è´Ÿè·ä¸‹ç”Ÿäº§çš„æœºå™¨æ•°é‡ã€‚\(s_k\),\(x_k\)ä¸ºè¿ç»­å˜é‡ï¼Œå…¶å°æ•°éƒ¨åˆ†è¡¨ç¤ºä¸€å°æœºå™¨æ­£å¸¸å·¥ä½œæ—¶é—´æ‰€å çš„æ¯”ä¾‹ã€‚å…è®¸å†³ç­–é›†åˆ:\(D_k(s_k) = \{ x_k \ \ |\ \ 0â‰¤x_kâ‰¤s_k \}\)</li><li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š\[s_{k+1} = ax_k + b( s_k - x_k ) = 0.65x_k + (s_k - x_k ) \ \ (k = 1,2,3,4) \]</li><li>æŒ‡æ ‡å‡½æ•°ï¼š\(v_k\) è¡¨ç¤ºç¬¬ k å­£åº¦çš„äº§é‡ \(v_k = 9x_k + 4(s_k+x_k)\)</li><li>æœ€ä¼˜å€¼å‡½æ•°ï¼š<br>$$<br>\begin{cases}<br>f_k(s_k) = \max_{0â‰¤x_kâ‰¤s_k} \{ v_k + f_{k+1}(s_{k+1}) \} = \max_{0â‰¤x_kâ‰¤s_k} \{ 9x_k + 4(s_k-x_k) + f_{k+1}(s_{k+1}) \}\\<br>f_5(s_5) = 0<br>\end{cases}<br>$$</li></ul><h3 id="è§£"><a href="#è§£" class="headerlink" title="è§£"></a>è§£</h3><p><strong>å½“ k = 4 æ—¶</strong></p><p>$$<br>\begin{align}<br>f_4(s_4)&amp; = \max_{0â‰¤x_4â‰¤s_4} \{ 9x_4 + 4(s_4-x_4) + f_5(s_5) \} \\<br>&amp; = \max_{0â‰¤x_4â‰¤s_4} \{ 9x_4 + 4(s_4-x_4) \} \\<br>&amp; = \max_{0â‰¤x_4â‰¤s_4} \{ 5x_4 + 4s_4 \}<br>\end{align}<br>$$<br>\[x^*_4 = s_4 ,f_4(s_4) = 9s_4\]</p><p><strong>å½“ k = 3 æ—¶</strong></p><p>$$<br>\begin{align}<br>f_3(s_3)&amp; = \max_{0â‰¤x_3â‰¤s_3} \{ 9x_3 + 4(s_3-x_3) + f_4(s_4) \} \\<br>&amp; = \max_{0â‰¤x_3â‰¤s_3} \{ 9x_3 + 4(s_3-x_3)+9[0.65x_3+0.95(s_3-x_3)] \} \\<br>&amp; = \max_{0â‰¤x_3â‰¤s_3} \{ 2.3x_3 + 12.55s_3 \}<br>\end{align}<br>$$<br>\[x^*_3 = s_3 ,f_3(s_3) = 14.85s_3\]</p><p><strong>å½“ k = 2 æ—¶</strong></p><p>$$<br>\begin{align}<br>f_2(s_2)&amp; = \max_{0â‰¤x_2â‰¤s_2} \{ 9x_2 + 4(s_2-x_2) + f_3(s_3) \} \\<br>&amp; = \max_{0â‰¤x_2â‰¤s_2} \{ 9x_2 + 4(s_2-x_2)+14.85[0.65x_2+0.95(s_2-x_2)] \} \\<br>&amp; = \max_{0â‰¤x_2â‰¤s_2} \{ 0.545x_2 + 18.1075s_3 \}<br>\end{align}<br>$$<br>\[x^*_2 = s_2 ,f_2(s_2) = 18.6525s_2\]</p><p><strong>å½“ k = 1 æ—¶</strong></p><p>$$<br>\begin{align}<br>f_1(s_1)&amp; = \max_{0â‰¤x_1â‰¤s_1} \{ 9x_1 + 4(s_1-x_1) + f_2(s_2) \} \\<br>&amp; = \max_{0â‰¤x_1â‰¤s_1} \{ 9x_1 + 4(s_1-x_1)+18.6525[0.65x_1+0.95(s_1-x_1)] \} \\<br>&amp; = \max_{0â‰¤x_1â‰¤s_1} \{ -0.596x_1 + 21.72s_1 \}<br>\end{align}<br>$$</p><p>\[ x^*_1 = 0 , s_1 = 100 , y^*_1 = s_1 - x^*_1 = 100 , f_1(s_1) = 21.72s_1 = 2172 \]</p><p><strong>åæ¨</strong></p><p>$$<br>\begin{cases}<br>s_2 &amp; = 0.65x_1 + 0.95(s_1 - x_1) = 95; x_2^* = s_2 = 95,y_2^* = 0 \\<br>s_3 &amp; = 0.65x_2 + 0.95(s_2 - x_2) = 61.75,å–æ•´å¾—61,x_3^* = s_3 = 61,y_3^* = 0 \\<br>s_4 &amp; = 0.65x_3 + 0.95(s_3 - x_3) = 39.65,å–æ•´å¾—39,x_4^* = s_4 = 39,y_4^* = 0<br>\end{cases}<br>$$</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;ä¹‹å‰åœ¨å­¦ç®—æ³•æ—¶æ¥è§¦è¿‡ä¸å°‘åŠ¨æ€è§„åˆ’çš„é¢˜ç›®ï¼Œä½†æœ€è¿‘å®è·µå‘¨åœ¨ä¸Šæ•°å­¦å»ºæ¨¡çš„è¯¾ï¼Œå‘ç°è‡ªå·±åœ¨åŠ¨æ€è§„åˆ’ç®—æ³•ä¸Šæ¬ ç¼ºå¾ˆå¤šã€‚æ­¥éª¤ä¸è§„èŒƒã€æ€è·¯ä¸æ¸…æ™°ã€æ•°å­¦æ¨å¯¼æ¬ ç¼º
      
    
    </summary>
    
      <category term="æ•°å­¦" scheme="https://blog.pazyx.xyz/categories/%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="https://blog.pazyx.xyz/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
      <category term="å®Œå…¨èƒŒåŒ…" scheme="https://blog.pazyx.xyz/tags/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85/"/>
    
      <category term="æ•°å­¦å»ºæ¨¡" scheme="https://blog.pazyx.xyz/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/"/>
    
      <category term="è¿ç»­å‹åŠ¨æ€è§„åˆ’" scheme="https://blog.pazyx.xyz/tags/%E8%BF%9E%E7%BB%AD%E5%9E%8B%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>POJ 3254 Corn Fieldsï¼ˆçŠ¶å‹DPï¼‰</title>
    <link href="https://blog.pazyx.xyz/2018/07/07/poj-3254-corn-fields/"/>
    <id>https://blog.pazyx.xyz/2018/07/07/poj-3254-corn-fields/</id>
    <published>2018-07-06T19:22:10.000Z</published>
    <updated>2018-07-13T13:55:29.480Z</updated>
    
    <content type="html"><![CDATA[<p><strong>é¢˜ç›®é“¾æ¥ï¼š<a href="http://poj.org/problem?id=3254" target="_blank" rel="noopener">http://poj.org/problem?id=3254</a> </strong></p><h1 id="Corn-Fields"><a href="#Corn-Fields" class="headerlink" title="Corn Fields"></a>Corn Fields</h1><p><strong>Time Limit:</strong> 2000MS     <strong>Memory Limit:</strong> 65536K</p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Farmer John has purchased a lush new rectangular pasture composed of <em>M</em> by <em>N</em> (1 â‰¤ <em>M</em> â‰¤ 12; 1 â‰¤ <em>N</em> â‰¤ 12) square parcels. He wants to grow some yummy corn for the cows on a number of squares. Regrettably, some of the squares are infertile and canâ€™t be planted. Canny FJ knows that the cows dislike eating close to each other, so when choosing which squares to plant, he avoids choosing squares that are adjacent; no two chosen squares share an edge. He has not yet made the final choice as to which squares to plant.</p><p>Being a very open-minded man, Farmer John wants to consider all possible options for how to choose the squares for planting. He is so open-minded that he considers choosing no squares as a valid option! Please help Farmer John determine the number of ways he can choose the squares to plant.</p><h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Line 1: Two space-separated integers: <em>M</em> and <em>N</em><br>Lines 2..<em>M</em>+1: Line <em>i</em>+1 describes row <em>i</em> of the pasture with <em>N</em> space-separated integers indicating whether a square is fertile (1 for fertile, 0 for infertile)</p><h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Line 1: One integer: the number of ways that FJ can choose the squares modulo 100,000,000.</p><h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 3</span><br><span class="line">1 1 1</span><br><span class="line">0 1 0</span><br></pre></td></tr></table></figure><h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">9</span><br></pre></td></tr></table></figure><h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2><p>Number the squares as follows:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 2 3</span><br><span class="line">  4</span><br></pre></td></tr></table></figure><p>There are four ways to plant only on one squares (1, 2, 3, or 4), three ways to plant on two squares (13, 14, or 34), 1 way to plant on three squares (134), and one way to plant on no squares. 4+3+1+1=9.</p><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><h2 id="é¢˜ç›®å¤§æ„"><a href="#é¢˜ç›®å¤§æ„" class="headerlink" title="é¢˜ç›®å¤§æ„"></a>é¢˜ç›®å¤§æ„</h2><p>æœ‰ MÃ—N çš„ç‰ç±³åœ°ï¼Œä½†å…¶ä¸­æœ‰äº›æ˜¯ä¸è‚¥æ²ƒçš„ï¼Œä¸èƒ½ç§æ¤ã€‚ç”¨ 1 æ¥ä»£è¡¨è‚¥æ²ƒï¼Œ0 ä»£è¡¨ä¸è‚¥æ²ƒã€‚å¦å¤–å¥¶ç‰›ä¸å–œæ¬¢æŒ¨ç€åƒç‰ç±³ï¼Œä¹Ÿå°±æ˜¯è¯´è¦é—´éš”ç€ç§æ¤ï¼Œæ±‚æœ‰å‡ ç§ç§æ¤æ–¹å¼ï¼Œå¹¶å°†è®¡ç®—ç»“æœå¯¹ 100000000 å–æ¨¡ã€‚</p><h2 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h2><p>çŠ¶å‹DPå…¥é—¨é¢˜ç›®ã€‚é¢˜ç›®ä¸­è¦æ±‚ä¸èƒ½æŒ¨ç€ç§ï¼Œä¹Ÿå°±æ˜¯è¡Œå†…ä¸å…è®¸æœ‰ç›¸é‚»çš„åœ°ï¼Œè¡Œå†…æ¯”è¾ƒå¥½æ§åˆ¶ï¼Œè€Œè¡Œé—´æ€è€ƒä¸€ä¸‹å…¶å®åªéœ€è¦è€ƒè™‘ç›¸é‚»ä¸¤è¡Œçš„ç‰ç±³åœ°æ˜¯å¦æœ‰å†²çªã€‚<br>ä½¿ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°è¡¨ç¤ºä¸€è¡Œçš„ç‰ç±³ç§æ¤æƒ…å†µ<br>çŠ¶æ€ï¼šæŸè¡Œçš„ç‰ç±³åœ°åˆ†å¸ƒæƒ…å†µ</p><p>è½¬ç§»æ–¹ç¨‹ï¼š<code>dp[i][j] = (dp[i][j] + dp[i - 1][k])%mod</code><br>ç¬¬ i è¡Œç§æ¤æ–¹æ¡ˆä¸º j çš„ç§æ¤æ–¹å¼æ•°ä¸ºç­‰äºå…¶æœ¬èº«åŠ ä¸Šç¬¬ i-1 è¡Œç§æ¤æ–¹æ¡ˆä¸º k çš„ç§æ¤æ–¹å¼æ•°ï¼Œj å’Œ k æ–¹æ¡ˆä¸å†²çªï¼Œä¸” j å’Œ k æ–¹æ¡ˆæœ¬èº«è¡Œå†…ä¸å†²çªï¼Œä¸”ç§æ¤åœŸåœ°éƒ½ä¸ºè‚¥æ²ƒçš„åœŸåœ°ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_M = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> state[MAX_N + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> dp[MAX_N + <span class="number">1</span>][<span class="number">1</span> &lt;&lt; MAX_M];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">100000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">fit</span><span class="params">(<span class="keyword">int</span> now, <span class="keyword">int</span> flag)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (now | flag) == flag;</span><br><span class="line">&#125;<span class="comment">//æ˜¯å¦éƒ½æ˜¯è‚¥æ²ƒçš„åœŸåœ°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ok</span> <span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x &amp; (x / <span class="number">2</span>)) == <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//åˆ¤æ–­è¡Œå†…æ˜¯å¦å†²çª</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">not_intersect</span><span class="params">(<span class="keyword">int</span> now,<span class="keyword">int</span> prev)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (now &amp; prev) == <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//åˆ¤æ–­ä¸¤è¡Œé—´æ˜¯å¦å†²çª</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j)&#123;</span><br><span class="line">            <span class="keyword">int</span> flag;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; flag;</span><br><span class="line">            state[i] |= (<span class="number">1</span> &lt;&lt; j) * flag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">20</span>; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(ok(i))</span><br><span class="line">dp[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span>; j &lt; (<span class="number">1</span> &lt;&lt; m); ++j)&#123;<span class="comment">//æšä¸¾å½“å‰è¡Œ</span></span><br><span class="line">            <span class="keyword">if</span>(!ok(j) || !fit(j,state[i]))&#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">int</span> k = <span class="number">0</span>; k &lt; (<span class="number">1</span> &lt;&lt; m); ++k)&#123;<span class="comment">//æšä¸¾ä¸‹ä¸€è¡Œ</span></span><br><span class="line">                <span class="keyword">if</span>(ok(k) &amp;&amp; fit(k,state[i<span class="number">-1</span>]) &amp;&amp; not_intersect(j,k))&#123;</span><br><span class="line">                    dp[i][j] = (dp[i][j] + dp[i - <span class="number">1</span>][k]) % mod;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; m); ++i)&#123;</span><br><span class="line">        ans = (ans + dp[n][i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;é¢˜ç›®é“¾æ¥ï¼š&lt;a href=&quot;http://poj.org/problem?id=3254&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://poj.org/problem?id=3254&lt;/a&gt; &lt;/strong&gt;&lt;/p&gt;
&lt;h1
      
    
    </summary>
    
      <category term="é¢˜è§£" scheme="https://blog.pazyx.xyz/categories/%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="ç®—æ³•" scheme="https://blog.pazyx.xyz/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="åŠ¨æ€è§„åˆ’" scheme="https://blog.pazyx.xyz/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
      <category term="é¢˜è§£" scheme="https://blog.pazyx.xyz/tags/%E9%A2%98%E8%A7%A3/"/>
    
      <category term="POJ" scheme="https://blog.pazyx.xyz/tags/POJ/"/>
    
      <category term="çŠ¶å‹DP" scheme="https://blog.pazyx.xyz/tags/%E7%8A%B6%E5%8E%8BDP/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œè®°ã€0x01 å¯ä¹</title>
    <link href="https://blog.pazyx.xyz/2018/07/04/weekly_1/"/>
    <id>https://blog.pazyx.xyz/2018/07/04/weekly_1/</id>
    <published>2018-07-04T13:39:47.000Z</published>
    <updated>2018-10-28T16:07:19.889Z</updated>
    
    <content type="html"><![CDATA[<p>è€ƒè¯•å‘¨ç»ˆäºè¿‡å» æˆ‘æƒ³å†™ç‚¹ä»€ä¹ˆ æƒ³å†™ç‚¹è‡ªç”±çš„ä¸œè¥¿ å› ä¸ºè€ƒè¯•å‘¨å®åœ¨å¤ªè¿‡å‹æŠ‘ æˆ‘å·²ç»ä¸€ä¸ªæœˆæ²¡å»å¦é—¨æ”¾çºµäº† èº«ä½“å’Œå¿ƒç†éƒ½å—åˆ°äº†æŠ˜ç£¨<br>åœ¨ä¸ºæ•°ä¸å¤šçš„å‡ é—¨éœ€è¦å¤§é‡å†™å­—çš„è€ƒè¯•ä¸­ æˆ‘å¤šæ¬¡æåˆ°è‡ªç”±å’Œå¯ä¹ å› ä¸ºæˆ‘æ¸´æœ›è‡ªç”± æˆ‘æƒ³åœ¨ä¸€å †ç­”æ¡ˆé‡Œå†™ç‚¹å¿ƒé‡Œè¯è‡ªç”±ä¸€ä¸‹<br>äº‹å®ä¸Šæˆ‘ä»Šå¤©æƒ³å†™ä¸€å†™ <strong>å¯ä¹</strong> æˆ‘æœ¬æƒ³å†™çš„æ­£ç»ä¸€ç‚¹ å› ä¸ºæˆ‘è¦å‘åˆ°æˆ‘çš„åšå®¢ä¸Š ä¸€ç›´ä»¥æ¥æˆ‘å¸Œæœ›æˆ‘çš„åšå®¢èƒ½å¤Ÿä¸¥è°¨è®¤çœŸ å†™å®Œä¸€ç¯‡æ£€æŸ¥å¤šæ¬¡ æœ‰ä»€ä¹ˆé”™è¯¯é©¬ä¸Šæ‰“å¼€ç”µè„‘ä¿®æ”¹æäº¤<br>ä»Šå¤©æˆ‘è§‰å¾—æ—¢ç„¶è¦è°ˆè‡ªç”± æˆ‘å°±è‡ªç”±ä¸€ç‚¹å§ æˆ‘ä¹Ÿä¸æƒ³å†™ä»€ä¹ˆæ ‡ç‚¹ç¬¦å· éšä¾¿å†™å†™ åæ­£è¿™æ˜¯æˆ‘çš„åšå®¢ æˆ‘æ¥å†³å®šå®ƒçš„é£æ ¼ æˆ‘ä¹Ÿä¸åˆ†æ®µè½å’Œä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ markdown è¯­æ³•äº† å°±æŒ‰æˆ‘æƒ³çš„æ¥å§ å…¶ä¸­å¯èƒ½æœ‰é”™åˆ«å­—ï¼ˆæˆ‘å·²ç»çœ‹åˆ°äº†ï¼‰æˆ‘ä¹Ÿä¸æƒ³æ”¹äº† ä¸€åˆ‡éƒ½æ³¢æ™®</p><p>è¯´åˆ°å¯ä¹ æˆ‘å·²ç»åœ¨å¾ˆå¤šåœ°æ–¹å†™è¿‡å¾ˆå¤šç¯‡äº† æˆ‘æƒ³åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ åˆ«å›æ¥éƒ½æ²¡äº†</p><ul><li><p>2017å¹´8æœˆ28æ—¥ 23:23</p><blockquote><p>å»æ¥¼ä¸‹è¶…å¸‚ä¹°ç½è£…å¯ä¹ å‘ç°ç½è£…çš„é›ªç¢§å’ŒèŠ¬è¾¾éƒ½åœ¨å”¯ç‹¬å°‘äº†æˆ‘çš„å¯ä¹ æˆ‘å¾ˆéš¾è¿‡ ä¹‹åæˆ‘åœ¨ç½è£…çš„é›ªç¢§èŠ¬è¾¾é¢å‰çŠ¹è±«äº†ä¸€ä¼šå„¿ åˆçœ‹äº†çœ‹ç“¶è£…çš„å¯ä¹ æˆ‘æ„Ÿè§‰é‚£äº›éƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ ä½ ä»¬çŸ¥é“æˆ‘æ˜¯ä¸ªè´µæ—éå¸¸è®²ç©¶ ç“¶è£…å’Œç½è£…çš„å¯ä¹å®Œå…¨æ˜¯ä¸¤ä¸ªå‘³å„¿ æˆ‘èµ°å‡ºé‚£ä¸ªè¶…å¸‚å†³å®šå»è¿œæ–¹é‚£ä¸ªè¶…å¸‚é—¯è¡ä¸€æ¬¡ ä¹‹åæˆ‘æ¢è®¿äº†ä¸¤å®¶è¶…å¸‚ç»“æœå®ƒä»¬åªæœ‰ç“¶è£…çš„ æœ€åæˆ‘é¼“è¶³å‹‡æ°”èµ°è¿›äº†ä¸€å®¶ç«é”…åº— é—®è€æ¿æœ‰ç½è£…çš„å¯ä¹å— ä»–çŠ¹è±«äº†ä¸€ä¸‹è¯´åªæœ‰â€¦â€¦ è¯´åˆ°è¿™å„¿æˆ‘å¿ƒå‡‰äº† å¿ƒæƒ³è‚¯å®šæ˜¯åªæœ‰ç“¶è£…çš„ äº¤è°ˆé—´è€æ¿å¸¦ç€æˆ‘èµ°åˆ°äº†å†°æŸœå‰ è€æ¿æ„£äº†ä¸€ä¸‹è¯´åªæœ‰ç»¿èŒ¶ ä»–ä¼°è®¡æ˜¯åœ¨æƒ³æ€ä¹ˆç“¶è£…çš„å¯ä¹ä¹Ÿæ²¡äº† çªç„¶ æˆ‘çœ‹åˆ°äº†å†°æŸœä¸Šå±‚çš„åŒ—å†°æ´‹ æˆ‘æƒ³å»ä»–å¦ˆçš„ç½è£…å¯ä¹ çœŸå¤Ÿéº»çƒ¦çš„ ç»™æˆ‘æ¥ç“¶åŒ—å†°æ´‹ æˆ‘å–ç€æˆ‘çš„åŒ—å†°æ´‹èµ°ä¸Šäº†å›å®¶çš„è·¯ æ„Ÿè§‰å‘³é“è¿˜å¯ä»¥ åªæ˜¯æˆ‘æ„Ÿè§‰ä»Šå¤©æˆ‘æœ‰ç‚¹å„¿ä¸è®²ç©¶äº† æ‰€ä»¥è¯´ä»Šå¤©æˆ‘è¿™ä¸ªè´µæ—è½é­„äº† æˆ‘ä»¬ç­‰å¾…æ˜å¤© æ˜å¤©æˆ‘å¸¦ä½ ä»¬çœ‹çœ‹æˆ‘çš„ç½è£…å¯ä¹ å¸¦ä½ ä»¬ä½“éªŒé‚£ç§è‡ªç”±çš„å‘³é“     </p></blockquote></li><li><p>2017å¹´10æœˆ24æ—¥ 11:25</p><blockquote><p>è‡ªç”±çš„é˜³å…‰ è‡ªç”±çš„å¯ä¹ å†›è®­è®©æˆ‘ä½“éªŒäº†è‡ªç”± å”¯ä¸€çš„é—æ†¾å°±æ˜¯ä¸ºä»€ä¹ˆä¸­åŒºé£Ÿå ‚çš„å…šå‘˜ç¤ºèŒƒå²—çª—å£çš„èœæœ€å¥½åƒ æˆ‘æƒ³å¦‚æœæˆ‘å†å¤šåƒå‡ å¤© ä¹Ÿè®¸æˆ‘ä¹Ÿèƒ½å‘ç°å®ƒä¸å¦‚äººæ„çš„ä¸€é¢</p></blockquote></li><li><p>2018å¹´3æœˆ16æ—¥ çŸ¥ä¹é—®é¢˜ï¼šä¸ºä»€ä¹ˆæœ‰äººæ„¿æ„ä¹° 2.5 å…ƒ 330ml çš„æ˜“æ‹‰ç½æ±½æ°´ï¼Œè€Œä¸ä¹° 3 å…ƒ 500ml çš„ç“¶è£…ï¼Ÿå›ç­”</p><blockquote><p>å¤ªå·§äº†ï¼Ÿæˆ‘å°±æ˜¯ä½ è¯´çš„é‚£ç§ä¹°ç½è£…å¯ä¹çš„äººï¼Œè€Œä¸”æˆ‘åªä¹°ç½è£…çš„ï¼Œæ›´å¤¸å¼ çš„æ˜¯æˆ‘ä»¬å­¦æ ¡ç½è£…å’Œç“¶è£…éƒ½æ˜¯3å—ã€‚æ¯æ¬¡æˆ‘ä¹°ç“¶è£…å¯ä¹éƒ½ä¼šå‰©ä¸€åŠä»¥ä¸Šåæ‰”æ‰ã€‚<br>æˆ‘æƒ³è¯´å•Šï¼Œç½è£…çš„å’Œç“¶è£…çš„å¯ä¹å®ƒå®Œå…¨æ˜¯ä¸¤ä¸ªå‘³é“ã€‚ç½è£…çš„ä¸€èˆ¬ä½ éœ€è¦ä¸€æ¬¡å–å®Œï¼Œæ±½å¾ˆè¶³ã€‚è€Œç“¶è£…çš„ï¼Œæ‰“å¼€æ”¾åŠä¸ªå°æ—¶é‚£å£æ„Ÿæ˜¯å®Œå…¨ä¸èƒ½è¢«æ¥å—çš„ï¼Œåªèƒ½æ‰”æ‰ã€‚<br>å¯¹äºæˆ‘æ¯å¤©åœ¨é£Ÿå ‚åƒé¥­çš„æƒ…å†µæ¥è¯´ï¼Œä¸€ç½ç½è£…çš„å¯ä¹åˆšåˆšå¥½ï¼Œè€Œç“¶è£…çš„500mlæ˜¾å¾—ç•¥å¤šï¼Œæˆ‘è¿˜éœ€è¦æŠŠå®ƒå¸¦å›å®¿èˆå¹¶ä¸”ä¸èƒ½é©¬ä¸Šæ‰”æ‰ï¼Œå› ä¸ºé‚£æ˜¾å¾—æˆ‘å¾ˆæµªè´¹ã€‚é‚£æ ·æˆ‘å°±éœ€è¦æŠŠå®ƒæ”¾ä¸Šä¸€æ®µæ—¶é—´ï¼ˆä¸€èˆ¬æ˜¯å‡ ä¸ªå°æ—¶ï¼‰å¾—åˆ°ä¸€ä¸ªè¶³ä»¥å®‰æ…°æˆ‘å†…å¿ƒçš„ç†ç”±ï¼ˆå®ƒçœŸçš„æ²¡æ±½äº†ï¼‰å†æŠŠå®ƒæ‰”æ‰ã€‚æˆ‘è¿™ä¸ªäººå¾ˆæ‡’ï¼Œä¸æƒ³é‚£ä¹ˆéº»çƒ¦ã€‚<br>è¿˜æœ‰å°±æ˜¯åœ¨æˆ‘å–å®Œç½è£…å¯ä¹å¹¶æ‰”æ‰ç½çš„æ—¶å€™ï¼Œæˆ‘ä¼šæœ‰ä¸€ç§å¥‡å¦™çš„æ„Ÿè§‰ï¼Œå°±æ˜¯æˆ‘æ„Ÿè§‰åˆ°äº†è‡ªç”±ã€‚å› ä¸ºå®ƒä¸åƒç“¶è£…å¯ä¹æ¯æ¬¡å‰©ä¸‹çš„é‚£äº›ç»™æˆ‘ä¸€ç§æŸç¼šæ„Ÿï¼Œæˆ‘ä¸éœ€è¦ä¸ºå®ƒæ‰¾ä¸€ä¸ªç†ç”±å†æ‰”æ‰ã€‚è¦çŸ¥é“è‡ªç”±åœ¨æˆ‘ä»¬è¿™ä¸ªç¤¾ä¼šæ˜¯å¾ˆç¨€ç¼ºçš„ï¼Œæˆ‘å¾ˆäº«å—è¿™ç§æ„Ÿè§‰ï¼Œæˆ‘å¾ˆéœ€è¦ç½è£…å¯ä¹ã€‚<br>æ³¨æ„ï¼æˆ‘ä¹‹å‰è¯´çš„ç“¶è£…éƒ½æ˜¯æŒ‡å¡‘æ–™ç“¶è£…çš„ï¼Œç»ç’ƒç“¶è£…çš„é‚£çœŸæ˜¯å¥½å‘³é“ï¼Œæˆ‘å¯ä»¥ä¿è¯å®ƒæ¯”å¡‘æ–™ç“¶è£…çš„å’Œç½è£…çš„éƒ½æ›´å¥½å–å¹¶ä¸”æ›´èƒ½è®©ä½ æ„Ÿè§‰åˆ°é‚£ç§è‡ªç”±çš„çŠ¶æ€ã€‚</p></blockquote></li><li><p>2018å¹´6æœˆ27æ—¥</p><blockquote><p>æˆ‘æƒ³è¿™å¯ä¹å¯èƒ½ä¹Ÿæ²¡å¤šè‡ªç”± æˆ‘ä¸€æƒ³è±¡åˆ°å¯å£å¯ä¹ä¸­å›½å…¬å¸é‡Œçš„å…šæ”¯éƒ¨å¼€ä¼šçš„åœºé¢å°±æµ‘èº«éš¾å— è¿™å¯ä¹ä»£è¡¨ä¸äº†è‡ªç”± è€ƒå®Œè¯•æˆ‘ä¸€å®šå»ä¹°ä¸€ç“¶è¿›å£å¯ä¹æ„Ÿå—ä¸€ä¸‹è‡ªç”± æ­¤åˆ»è¯·è®©æˆ‘åœ¨å¤–é¢æºœè¾¾ä¸€ä¼šå„¿ è®©æˆ‘å¹ä¸€å¹å¤ªå¹³æ´‹çš„é£ ä»Šæ™šå°±æ˜¯æˆ‘çš„æ³¢æ™®æ—¶é—´</p></blockquote></li></ul><p>è¦è¯´æˆ‘æœ€å–œæ¬¢è¿™å…¶ä¸­çš„å“ªç¯‡ æˆ‘è§‰å¾—æ˜¯ç¬¬ä¸€ç¯‡ é‚£ç¯‡å†™çš„å¾ˆè‡ªç”± å¾ˆæœ‰ç°åœºæ„Ÿ ä¹Ÿå¾ˆæœ‰Andy Warholçš„é£æ ¼ è€Œä¸”å®ƒè±¡å¾ç€æˆ‘ä¼šå†™æ•…äº‹äº†<br>å¥½äº† è¨€å½’æ­£ä¼  å¯ä¹ä¸ºä»€ä¹ˆèƒ½ä»£è¡¨è‡ªç”±ï¼Ÿ æˆ‘ä¹Ÿçº³é—· æˆ‘ä»”ç»†å›å¿†äº†ä¸€ä¸‹åº”è¯¥æ˜¯<strong>æˆ‘çç¼–çš„å§</strong> é«˜ä¸­æˆ‘çœ‹äº†ä¸€äº›Andy Warholçš„ä¹¦<br>ä»–è¯´å•Š</p><blockquote><p>Whatâ€™s great about this country is America started the tradition where the richest consumers buy essentially the same things as the poorest. You can be watching TV and see Coca-Cola, and you can know that the President drinks Coke, Liz Taylor drinks Coke, and just think, you can drink Coke, too. A Coke is a Coke and no amount of money can get you a better Coke than the one the bum on the corner is drinking. All the Cokes are the same and all the Cokes are good.<br>ç¿»è¯‘ï¼šè¿™ä¸ªå›½å®¶çš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºï¼Œç¾å›½å¼€å§‹äº†è¿™æ ·çš„ä¼ ç»Ÿ:æœ€å¯Œæœ‰çš„æ¶ˆè´¹è€…ä¹°çš„ä¸œè¥¿åŸºæœ¬ä¸Šå’Œæœ€ç©·çš„äººä¹°çš„ä¸€æ ·ã€‚ä½ å¯ä»¥çœ‹ç”µè§†ï¼Œçœ‹å¯å£å¯ä¹ï¼Œä½ å¯ä»¥çŸ¥é“æ€»ç»Ÿå–å¯ä¹ï¼Œè‰å…¹Â·æ³°å‹’å–å¯ä¹ï¼Œæƒ³æƒ³ï¼Œä½ ä¹Ÿå¯ä»¥å–å¯ä¹ã€‚å¯å£å¯ä¹å°±æ˜¯å¯ä¹ï¼Œå†å¤šçš„é’±ä¹Ÿä¹°ä¸åˆ°æ¯”è¡—è§’çš„æµæµªæ±‰å–çš„æ›´å¥½çš„å¯ä¹ã€‚æ‰€æœ‰çš„å¯ä¹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ‰€æœ‰çš„å¯ä¹éƒ½ä¸€æ ·å¥½ã€‚</p></blockquote><p><strong>ç°å® è¡¨é¢ ç¬é—´ æ„Ÿæ€§ å¿«ä¹ å¹³ç­‰ ç®€å• æœºæ¢° é‡å¤ å¤§ä¼—</strong> è¿™æ˜¯æ³¢æ™®ç²¾ç¥ å¯ä¹å…¨å äº† ä½†å°±æ˜¯æ²¡æœ‰è‡ªç”± æˆ‘ä¹Ÿä¸çŸ¥é“ è¿™ä¸ªç²¾ç¥æ˜¯è°æƒ³çš„ è¦æ˜¯æˆ‘å°±ç»™å®ƒåŠ ä¸Šè‡ªç”±<br>å†™åˆ°è¿™å„¿æˆ‘å¤§æ¦‚æ˜ç™½äº† å¯ä¹ä»£è¡¨è‡ªç”±ä¹Ÿè®¸æ˜¯å› ä¸ºå¿«ä¹ æˆ‘åœ¨è‡ªç”±çš„æ—¶åˆ»æœ€å¿«ä¹ è€Œä¸”å–å¯ä¹ä¹Ÿè®¸è¿™ä¸–ä¸Šæœ€ç®€å•çš„è‡ªç”±æ–¹å¼äº† ç”µå½± è‚–ç”³å…‹çš„æ•‘èµ é‡Œä»–ä»¬åœ¨ç›‘ç‹±æˆ¿é¡¶å–ç€å•¤é…’ æ„Ÿå—åˆ°äº†éš¾å¾—çš„è‡ªç”±<br>æˆ‘æƒ³æˆ‘å–å¯ä¹çš„æ—¶å€™è·Ÿä»–ä»¬ä¸€æ · æˆ‘æ„Ÿè§‰è¿™ä¸ªç¤¾ä¼šç®¡å¾—å®åœ¨æ˜¯å¤ªå¤šäº† å„ç§ç½‘ç»œç¤¾äº¤åª’ä½“ä¸èƒ½è¯„è®º ä¸èƒ½å‘ä¸èƒ½å‘çš„ å„ç§å¥½çš„ç½‘ç«™éƒ½éœ€è¦ç¿»å¢™ åª’ä½“éƒ½åœ¨å®£ä¼ æ­£èƒ½é‡ è¯´ç‚¹å…¶ä»–éƒ½ä¸è¡Œ æˆ‘è®¨åŒæ”¿æ²» ä½†ç°åœ¨å“ªéƒ½æ˜¯æ”¿æ²» å¯èƒ½æˆ‘å†™äº†è¿™ä¸€æ®µæˆ‘çš„ç½‘ç«™å°±è¢«å°ç¦äº† è€Œä¸”å®ƒä»¬æ˜¯åˆæ³•çš„ å› ä¸ºæˆ‘æ²¡å¤‡æ¡ˆ åæ­£å•Š æˆ‘æ˜¯æ‰˜ç®¡åœ¨å›½å¤–æœåŠ¡å™¨ä¸Šçš„ åŸŸåä¹Ÿæ˜¯åœ¨å›½å¤–ä¹°çš„ä¹Ÿæ²¡å¤‡æ¡ˆ æˆ‘ä¹Ÿæœ‰äº†è‡ªå·±çš„æ¢¯å­ å°äº†æˆ‘ä¹Ÿå¯ä»¥è‡ªå·±å†™è‡ªå·±çœ‹<br>æˆ‘è¿˜æ˜¯å¸Œæœ›äººæ°‘ä»¬æ„è¯†åˆ°è‡ªå·±çš„è‡ªç”±åœ¨ä¸€ç‚¹ä¸€ç‚¹è¢«å‰¥å¤º å®é™…ä¸Šæˆ‘ä»¬ä¹Ÿæ— åŠ›åæŠ— å¦‚æœä¸èƒ½åƒå®‰è¿ªä¸€æ ·é€ƒå‡ºè‚–ç”³å…‹çš„è¯ è¿˜æ˜¯ä¸æˆ‘ä¸€èµ·å…±é¥®å¯ä¹å§</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è€ƒè¯•å‘¨ç»ˆäºè¿‡å» æˆ‘æƒ³å†™ç‚¹ä»€ä¹ˆ æƒ³å†™ç‚¹è‡ªç”±çš„ä¸œè¥¿ å› ä¸ºè€ƒè¯•å‘¨å®åœ¨å¤ªè¿‡å‹æŠ‘ æˆ‘å·²ç»ä¸€ä¸ªæœˆæ²¡å»å¦é—¨æ”¾çºµäº† èº«ä½“å’Œå¿ƒç†éƒ½å—åˆ°äº†æŠ˜ç£¨&lt;br&gt;åœ¨ä¸ºæ•°ä¸å¤šçš„å‡ é—¨éœ€è¦å¤§é‡å†™å­—çš„è€ƒè¯•ä¸­ æˆ‘å¤šæ¬¡æåˆ°è‡ªç”±å’Œå¯ä¹ å› ä¸ºæˆ‘æ¸´æœ›è‡ªç”± æˆ‘æƒ³åœ¨ä¸€å †ç­”æ¡ˆé‡Œå†™ç‚¹å¿ƒé‡Œè¯è‡ªç”±ä¸€ä¸‹&lt;br&gt;äº‹å®ä¸Šæˆ‘ä»Šå¤©æƒ³å†™ä¸€å†™ &lt;s
      
    
    </summary>
    
      <category term="æ³› - è®°" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%B0/"/>
    
    
      <category term="å¯ä¹" scheme="https://blog.pazyx.xyz/tags/%E5%8F%AF%E4%B9%90/"/>
    
      <category term="è‡ªç”±" scheme="https://blog.pazyx.xyz/tags/%E8%87%AA%E7%94%B1/"/>
    
      <category term="æ³¢æ™®" scheme="https://blog.pazyx.xyz/tags/%E6%B3%A2%E6%99%AE/"/>
    
      <category term="Andy Warhol" scheme="https://blog.pazyx.xyz/tags/Andy-Warhol/"/>
    
      <category term="è®°" scheme="https://blog.pazyx.xyz/tags/%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ã€Œç¬”è®°ã€Effective C++ è¯»ä¹¦ç¬”è®°ï¼ˆäºŒï¼‰</title>
    <link href="https://blog.pazyx.xyz/2018/07/03/effective-cpp02/"/>
    <id>https://blog.pazyx.xyz/2018/07/03/effective-cpp02/</id>
    <published>2018-07-03T09:42:25.000Z</published>
    <updated>2018-07-20T12:30:47.950Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ³¨æ„ï¼"><a href="#æ³¨æ„ï¼" class="headerlink" title="æ³¨æ„ï¼"></a>æ³¨æ„ï¼</h1><p>è¿™åªæ˜¯æˆ‘çš„è¯»ä¹¦ç¬”è®°ï¼Œå¸®åŠ©æˆ‘è®°å½•ã€‚å…¶ä¸­å¯èƒ½æœ‰ä¸€äº›ä¸ä¸¥è°¨çš„è§£é‡Šæˆ–æ²¡æœ‰åšå¾ˆè¯¦ç»†çš„è§£é‡Šï¼Œå¤§å®¶å­¦ä¹ è¿˜æ˜¯å»ºè®®ç›´æ¥çœ‹ä¹¦ï¼ˆè™½ç„¶ä¹¦ä¸­ä¹Ÿæœ‰ä¸ä¸¥è°¨çš„è§£é‡Šï¼‰ã€‚</p><h1 id="æ„é€ -ææ„-èµ‹å€¼è¿ç®—"><a href="#æ„é€ -ææ„-èµ‹å€¼è¿ç®—" class="headerlink" title="æ„é€  / ææ„ / èµ‹å€¼è¿ç®—"></a>æ„é€  / ææ„ / èµ‹å€¼è¿ç®—</h1><h2 id="æ¡æ¬¾05ï¼šäº†è§£-C-é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°"><a href="#æ¡æ¬¾05ï¼šäº†è§£-C-é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°" class="headerlink" title="æ¡æ¬¾05ï¼šäº†è§£ C++ é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°"></a>æ¡æ¬¾05ï¼šäº†è§£ C++ é»˜é»˜ç¼–å†™å¹¶è°ƒç”¨å“ªäº›å‡½æ•°</h2><p>ä¸€ä¸ª class å¦‚æœæ²¡æœ‰å£°æ˜ä»»ä½•æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šå¸®ä½ å£°æ˜ä»¥ä¸‹çš„å‡½æ•°</p><ul><li>default æ„é€ å‡½æ•°</li><li>copy æ„é€ å‡½æ•°</li><li>copy assignment æ“ä½œç¬¦</li><li>ææ„å‡½æ•°<br>æ‰€æœ‰è¿™äº›ç¼–è¯‘å™¨ä¸ºä½ ç”Ÿæˆçš„å‡½æ•°éƒ½æ˜¯ public çš„ã€<strong>å¤§å¤šæ•°</strong>éƒ½æ˜¯ inline çš„ï¼ˆ Effective C++ å†™çš„æ˜¯éƒ½æ˜¯ inline ï¼‰ï¼Œä¸”åªåœ¨éœ€è¦æ—¶ç”Ÿæˆã€‚</li></ul><p>å½“ä½ å£°æ˜äº†ä»»ä½•ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†ä¸å†ä¸ºä½ å£°æ˜ default æ„é€ å‡½æ•°ã€‚</p><p>å¯¹äºä¸¤ä¸ªè¦åšæ‹·è´çš„å‡½æ•°ï¼Œå®ƒä»¬å¯èƒ½æ˜¯ bitwise æˆ–è€… memberwiseã€‚å…·ä½“çš„ Effective C++ åªåšäº†ç®€ç•¥çš„è§£é‡Šã€‚æƒ³æ·±å…¥äº†è§£çš„å¯ä»¥çœ‹ã€Šæ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ã€‹ï¼Œä¹‹åæˆ‘ä¹Ÿä¼šå†™è¯»ä¹¦ç¬”è®°æˆ–ä¹¦æ‘˜ã€‚</p><p>å¦‚æœç±»ä¸­å­˜åœ¨ä¸å¯é‡æ–°èµ‹å€¼çš„æˆå‘˜å°†æŠ¥é”™ã€‚</p><p>æ¯”å¦‚ä¸‹é¢çš„ç±»</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">NamedObject</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">NamedObject(<span class="built_in">std</span>::<span class="built_in">string</span>&amp; name, <span class="keyword">const</span> T&amp; value):nameValue(name),objectValue(value)&#123;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">string</span>&amp; nameValue;</span><br><span class="line"><span class="keyword">const</span> T objectValue;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¼•ç”¨ç±»å‹å’Œ const ä¿®é¥°çš„æˆå‘˜ä¸å¯è¢«é‡æ–°èµ‹å€¼ï¼Œå¦‚æœå­˜åœ¨ä¸¤ä¸ª <code>NamedObject&lt;int&gt;</code> ç±»çš„å¯¹è±¡ a å’Œ b ï¼Œåš <code>a = b</code> å°†ç›´æ¥æŠ¥é”™ã€‚ç¼–è¯‘å™¨æ— æ³•ä¸ºå®ƒå£°æ˜æ‹·è´å‡½æ•°ã€‚<br>å¦‚æœåŸºç±»çš„ copy assignment æ“ä½œç¬¦è¢«å£°æ˜ä¸º private ä¹Ÿæ˜¯ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚</p><h2 id="æ¡æ¬¾06ï¼šè‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œå°±è¯¥æ˜ç¡®æ‹’ç»"><a href="#æ¡æ¬¾06ï¼šè‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œå°±è¯¥æ˜ç¡®æ‹’ç»" class="headerlink" title="æ¡æ¬¾06ï¼šè‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œå°±è¯¥æ˜ç¡®æ‹’ç»"></a>æ¡æ¬¾06ï¼šè‹¥ä¸æƒ³ä½¿ç”¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„å‡½æ•°ï¼Œå°±è¯¥æ˜ç¡®æ‹’ç»</h2><p>å¯ä»¥å°†æ„é€ å‡½æ•°å£°æ˜ä¸º private ç¦æ­¢è°ƒç”¨ã€‚æ¯”å¦‚æœ‰äº›ç±»ä¸å¸Œæœ›è¢«æ‹·è´ï¼Œå¯ä»¥å°† copy æ„é€ å‡½æ•°å’Œ copy assignment æ“ä½œç¬¦å£°æ˜ä¸º private ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncopyable</span>&#123;</span></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">Uncopyable()&#123;&#125;</span><br><span class="line">~Uncopyable()&#123;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">Uncopyable(<span class="keyword">const</span> Uncopyable&amp;);</span><br><span class="line">Uncopyable&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Uncopyable&amp;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå¯ä»¥è®©ä¸å¸Œæœ›è¢«æ‹·è´çš„ç±»ç›´æ¥ç»§æ‰¿ Uncopyable ç±»ã€‚Boost åº“ä¸­ä¹Ÿæä¾›äº†åä¸º noncopyable çš„class ä¿è¯è¢«ç»§æ‰¿çš„ç±»ä¸è¢«æ‹·è´ã€‚</p><h2 id="æ¡æ¬¾07ï¼šä¸ºå¤šæ€åŸºç±»å£°æ˜-virtual-ææ„å‡½æ•°"><a href="#æ¡æ¬¾07ï¼šä¸ºå¤šæ€åŸºç±»å£°æ˜-virtual-ææ„å‡½æ•°" class="headerlink" title="æ¡æ¬¾07ï¼šä¸ºå¤šæ€åŸºç±»å£°æ˜ virtual ææ„å‡½æ•°"></a>æ¡æ¬¾07ï¼šä¸ºå¤šæ€åŸºç±»å£°æ˜ virtual ææ„å‡½æ•°</h2><p>åŸºç±»æ— è™šææ„å‡½æ•°ï¼Œä¼šå¯¼è‡´å‘ä¸Šé€ å‹åè¢«éƒ¨åˆ†é”€æ¯å¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p><p>è°¨æ…ç»§æ‰¿ä¸å¸¦è™šææ„å‡½æ•°çš„ç±»ï¼Œå¦‚ï¼šstringã€STL åº“ä¸­çš„æ‰€æœ‰å®¹å™¨â€¦</p><p>ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½éœ€è¦è™šææ„å‡½æ•°ï¼Œvptr å’Œ vtbl ä¼šå æœ‰å¤§é‡ç©ºé—´ï¼Œä¸”é™ä½äº†å¯ç§»æ¤æ€§ï¼ˆä¸å¯ä¼ ç»™å…¶ä»–è¯­è¨€ï¼‰ã€‚</p><blockquote><p>è®¸å¤šäººçš„å¿ƒå¾—æ—¶ï¼šåªæœ‰å½“ class å†…å«è‡³å°‘ä¸€ä¸ª virtual å‡½æ•° æ‰ä¸ºå®ƒå£°æ˜ virtual ææ„å‡½æ•°ã€‚</p></blockquote><h2 id="æ¡æ¬¾08ï¼šåˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°"><a href="#æ¡æ¬¾08ï¼šåˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°" class="headerlink" title="æ¡æ¬¾08ï¼šåˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°"></a>æ¡æ¬¾08ï¼šåˆ«è®©å¼‚å¸¸é€ƒç¦»ææ„å‡½æ•°</h2><p>C++ ä¸èƒ½åŒæ—¶å¤„ç†å¤šä¸ªå¼‚å¸¸ï¼Œä¸»è¦åŸå› æ˜¯è¢«æŠ›å‡ºçš„å…ƒç´ çš„å†…å­˜ç©ºé—´æ˜¯åˆ†é…åœ¨æ ˆåŒºçš„ï¼ŒæŠ›å‡ºå¼‚å¸¸åä¼šè·³å‡ºé‚£ä¸€å±‚æ‹¬å·ï¼Œæ ˆåŒºåº”è¯¥è¢«æ¸…ç†ã€‚å¦‚æœä½ åœ¨å­˜åœ¨ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µä¸‹å»å¤„ç†å¦ä¸€ä¸ªå¼‚å¸¸å¾ˆå¯èƒ½ä¼šè¦†ç›–æ‰ä¹‹å‰å¼‚å¸¸æŠ›å‡ºçš„å…ƒç´ ï¼Œ<strong>å¯¼è‡´ç¨‹åºè¿‡æ—©ç»“æŸæˆ–å‡ºç°ä¸æ˜ç¡®è¡Œä¸º</strong>ã€‚<br>å¦‚æœä½ çš„ç±»ä¸­ææ„ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£è¿™ä¸ªç±»çš„å®¹å™¨æˆ–æ•°ç»„åœ¨ææ„æ—¶å¾ˆå¯èƒ½é‡åˆ°å¤šä¸ªå¼‚å¸¸ï¼Œé€ æˆä¸¥é‡çš„åæœã€‚</p><p>æœ‰æ—¶æˆ‘ä»¬ç±»çš„ææ„å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€ä¸ªå¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„è¡Œä¸ºæ—¶æ€ä¹ˆåŠï¼Ÿæ¯”å¦‚å…³é—­å„ç§è¿æ¥ã€‚<br>ä¹¦ä¸­æä¾›äº†ä¸‰ç§æ–¹æ¡ˆ<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123; A.close(); &#125;</span><br><span class="line"><span class="keyword">catch</span>(...)&#123;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">abort</span>();</span><br><span class="line">&#125; <span class="comment">//è°ƒç”¨ abort ç»“æŸç¨‹åº</span></span><br></pre></td></tr></table></figure></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123; A.close(); &#125;</span><br><span class="line"><span class="keyword">catch</span>(...)&#123;</span><br><span class="line"><span class="comment">//è®°ä¸‹è¿è½¬è®°å½•ï¼Œè®°ä¸‹å¯¹ close çš„è°ƒç”¨å¤±è´¥</span></span><br><span class="line">&#125; <span class="comment">//åä¸‹å¼‚å¸¸</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">db.close();</span><br><span class="line">closed = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ææ„</span></span><br><span class="line"><span class="keyword">if</span>(!closed)&#123;</span><br><span class="line"><span class="keyword">try</span>&#123; db.close(); &#125;</span><br><span class="line"><span class="keyword">catch</span>(...)&#123;</span><br><span class="line"><span class="comment">//è®°ä¸‹è¿è½¬è®°å½•ï¼Œè®°ä¸‹å¯¹ close çš„è°ƒç”¨å¤±è´¥</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ç§å°±æ˜¯ç›´æ¥å°† close å‡½æ•°å¼€æ”¾ç»™ä½¿ç”¨è€…ï¼Œè®©ä½¿ç”¨è€…åœ¨ææ„å‰è°ƒç”¨ã€‚</p><h2 id="æ¡æ¬¾09ï¼šç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨-virtual-å‡½æ•°"><a href="#æ¡æ¬¾09ï¼šç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨-virtual-å‡½æ•°" class="headerlink" title="æ¡æ¬¾09ï¼šç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨ virtual å‡½æ•°"></a>æ¡æ¬¾09ï¼šç»ä¸åœ¨æ„é€ å’Œææ„è¿‡ç¨‹ä¸­è°ƒç”¨ virtual å‡½æ•°</h2><p>åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­è°ƒç”¨è™šæˆå‘˜å‡½æ•°ï¼Œå¯èƒ½å¾—ä¸åˆ°ä½ æƒ³è¦çš„ç»“æœï¼Œå®ƒå®é™…ä¸Šä¼šè°ƒç”¨åŸºç±»çš„é‚£ä¸ªå‡½æ•°ã€‚</p><h3 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h3><h4 id="æ„é€ è¿‡ç¨‹"><a href="#æ„é€ è¿‡ç¨‹" class="headerlink" title="æ„é€ è¿‡ç¨‹"></a>æ„é€ è¿‡ç¨‹</h4><p>æ„é€ è¿‡ç¨‹è¿›å…¥åŸºç±»çš„æ„é€ å‡½æ•°æ—¶ï¼Œæ´¾ç”Ÿç±»çš„æˆå‘˜è¿˜æ²¡è¢«åˆå§‹åŒ–ï¼Œå¦‚æœè°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°å¯èƒ½ä¼šç”¨åˆ°æ´¾ç”Ÿç±»éƒ¨åˆ†çš„æˆå‘˜ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å°†æ„é€ è¿‡ç¨‹ä¸­çš„å¯¹è±¡å½“åš å½“å‰è¿›å…¥çš„æ„é€ å‡½æ•°æ‰€å±çš„ç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå½“ç„¶åªèƒ½è°ƒç”¨ä¸å½“å‰æ„é€ å‡½æ•°åŒå±ä¸€ä¸ªç±»çš„å‡½æ•°äº†ã€‚</p><h4 id="ææ„è¿‡ç¨‹"><a href="#ææ„è¿‡ç¨‹" class="headerlink" title="ææ„è¿‡ç¨‹"></a>ææ„è¿‡ç¨‹</h4><p>è¿›å…¥ææ„å‡½æ•°ï¼Œå…ˆé”€æ¯æ‰æ´¾ç”Ÿç±»çš„æˆå‘˜ï¼Œåœ¨åˆšè¿›å…¥ææ„å‡½æ•°æ—¶è¿™ä¸ªå¯¹è±¡å·²ç»ä¸æ˜¯å®Œæ•´çš„ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡äº†ï¼Œç¼–è¯‘å™¨åªèƒ½æŠŠå®ƒå½“åšå®ƒçš„åŸºç±»çš„ä¸€ä¸ªå¯¹è±¡æ¥çœ‹å¾…ã€‚</p><blockquote><p>åœ¨æ„é€ å’Œææ„æœŸé—´ä¸è¦è°ƒç”¨ virtual å‡½æ•°ï¼Œå› ä¸ºè¿™ä¸ªç±»è°ƒç”¨ä»ä¸ä¸‹é™è‡³ drived class (æ¯”èµ·å½“å‰æ‰§è¡Œæ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„é‚£å±‚)ã€‚</p></blockquote><h2 id="æ¡æ¬¾10ï¼šä»¤-operator-è¿”å›ä¸€ä¸ª-reference-to-this"><a href="#æ¡æ¬¾10ï¼šä»¤-operator-è¿”å›ä¸€ä¸ª-reference-to-this" class="headerlink" title="æ¡æ¬¾10ï¼šä»¤ operator= è¿”å›ä¸€ä¸ª reference to *this"></a>æ¡æ¬¾10ï¼šä»¤ operator= è¿”å›ä¸€ä¸ª <code>reference to *this</code></h2><p>è¿”å› <code>*this</code> çš„å¼•ç”¨ï¼Œå¯ä»¥è®©ä½ çš„ç±»çš„å¯¹è±¡å®ç°è¿é”èµ‹å€¼ã€‚<br>å¦‚ï¼š<code>x = y = z = 15;</code></p><h2 id="æ¡æ¬¾11ï¼šåœ¨-operator-ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€"><a href="#æ¡æ¬¾11ï¼šåœ¨-operator-ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€" class="headerlink" title="æ¡æ¬¾11ï¼šåœ¨ operator= ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€"></a>æ¡æ¬¾11ï¼šåœ¨ operator= ä¸­å¤„ç†â€œè‡ªæˆ‘èµ‹å€¼â€</h2><p>å¦‚æœç±»ä¸­å­˜åœ¨ä¸€ä¸ªæŒ‡å‘å †ä¸­å…ƒç´ çš„æˆå‘˜ï¼Œé‚£å°±è¦æ³¨æ„èµ‹å€¼æ—¶çš„è‡ªæˆ‘èµ‹å€¼ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="built_in">string</span> *s;</span><br><span class="line">A():s(<span class="keyword">new</span> <span class="built_in">string</span>())&#123;&#125;</span><br><span class="line">A&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> A rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">delete</span> s;</span><br><span class="line">s = <span class="keyword">new</span> <span class="built_in">string</span>(*rhs.s);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœ <code>this</code> å’Œ <code>&amp;rhs</code> ç›¸ç­‰å°±å°´å°¬äº†ï¼Œå®ƒä¼šå…ˆ delete è‡ªå·±çš„ s ï¼Œå®é™…ä¸Š <code>*this</code> å’Œ <code>rhs</code> é‡Œçš„ s æŒ‡å‘çš„ string å¯¹è±¡éƒ½è¢«é”€æ¯äº†ã€‚æ•°æ®ä¸¢å¤±è€Œå»ä¹‹åä¹Ÿæ²¡åŠæ³•ä½¿ç”¨æˆå‘˜ s äº†ã€‚</p><p>ç›¸å¯¹å®‰å…¨çš„ç‰ˆæœ¬æ˜¯<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line"><span class="built_in">string</span> *s;</span><br><span class="line">A():s(<span class="keyword">new</span> <span class="built_in">string</span>())&#123;&#125;</span><br><span class="line">A&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> A&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span> == &amp;rhs) <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> s;</span><br><span class="line">s = <span class="keyword">new</span> <span class="built_in">string</span>(*rhs.s);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>åŠ å…¥è®¤åŒæµ‹è¯•ï¼Œä¿è¯äº† â€œè‡ªæˆ‘èµ‹å€¼â€ çš„å®‰å…¨æ€§ï¼Œä½†è¿˜ä¸å…·å¤‡ â€œå¼‚å¸¸å®‰å…¨æ€§â€ã€‚<br>å¦‚æœåœ¨ <code>s = new string(*rhs.s);</code> è¿™ä¸€æ­¥å¯¼è‡´å¼‚å¸¸ï¼Œé‚£ s å°†æŒ‡å‘ä¸€å—å·²è¢«åˆ é™¤çš„ string ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> A&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">string</span>* pOrig = pb;</span><br><span class="line">s = <span class="keyword">new</span> <span class="built_in">string</span>(*rhs.s);</span><br><span class="line"><span class="keyword">delete</span> pOrig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·å³ä½¿æŠ›å‡ºå¼‚å¸¸ï¼Œèµ‹å€¼å¤±è´¥ä¹Ÿä¸ä¼šé€ æˆå…¶ä»–å‰¯ä½œç”¨ï¼Œå¯ä»¥å°† s ä¿æŒåŸçŠ¶ã€‚</p><p><strong>copy and swap</strong> æŠ€æœ¯<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(A&amp; rhs)</span></span>; <span class="comment">//äº¤æ¢*this å’Œ rhs çš„æ•°æ® è§æ¡æ¬¾29</span></span><br><span class="line"></span><br><span class="line">A&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> A&amp; rhs)</span><br><span class="line">&#123;</span><br><span class="line">A temp(rhs);</span><br><span class="line">swap(temp);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>by value</strong> ä¼ å€¼æ–¹å¼çš„ <strong>copy and swap</strong> æŠ€æœ¯<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(A&amp; rhs)</span></span>; <span class="comment">//äº¤æ¢*this å’Œ rhs çš„æ•°æ® è§æ¡æ¬¾29</span></span><br><span class="line"></span><br><span class="line">A&amp; <span class="keyword">operator</span>= (<span class="keyword">const</span> A rhs)</span><br><span class="line">&#123;</span><br><span class="line">swap(rhs);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æ¡æ¬¾12ï¼šå¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸ªæˆåˆ†"><a href="#æ¡æ¬¾12ï¼šå¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸ªæˆåˆ†" class="headerlink" title="æ¡æ¬¾12ï¼šå¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸ªæˆåˆ†"></a>æ¡æ¬¾12ï¼šå¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸ªæˆåˆ†</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">A()&#123;&#125;</span><br><span class="line">A(A &amp;rhs):a(rhs.a)&#123;&#125;</span><br><span class="line"></span><br><span class="line">A&amp; <span class="keyword">operator</span>= (A &amp;rhs)&#123;</span><br><span class="line">a = rhs.a;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">B()&#123;&#125;</span><br><span class="line">B(B &amp;rhs):b(rhs.b)&#123;&#125;</span><br><span class="line"></span><br><span class="line">B&amp; <span class="keyword">operator</span>= (B &amp;rhs)&#123;</span><br><span class="line">b = rhs.b;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å°å¿ƒè¿™æ ·çš„ä»£ç ï¼ŒB çš„ä¸¤ä¸ª <strong>Copying</strong> å‡½æ•°ï¼Œéƒ½æ²¡æœ‰æ‹·è´åŸºç±»çš„æ•°æ®( <code>int a</code> )ã€‚</p><blockquote><p><strong>Copying</strong> å‡½æ•°åº”è¯¥ç¡®ä¿èµ‹å€¼â€œå¯¹è±¡å†…çš„æ‰€æœ‰æˆå‘˜å˜é‡â€ åŠ â€œæ‰€æœ‰ base class æˆåˆ†â€ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> :</span> <span class="keyword">public</span> A&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">int</span> b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">B()&#123;&#125;</span><br><span class="line">B(B &amp;rhs):b(rhs.b),A(rhs)&#123;&#125; <span class="comment">// + ! </span></span><br><span class="line"></span><br><span class="line">B&amp; <span class="keyword">operator</span>= (B &amp;rhs)&#123;</span><br><span class="line">A::<span class="keyword">operator</span>=(rhs);<span class="comment">// + !</span></span><br><span class="line">b = rhs.b;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><p>ä¸¤ä¸ª <strong>Copying</strong> å‡½æ•°ä¸€èˆ¬æœ‰ç›¸è¿‘çš„ä»£ç ï¼Œä½†ä¸è¦åœ¨ä¸€ä¸ª <strong>Copying</strong> å‡½æ•°å†…è°ƒç”¨å¦ä¸€ä¸ª <strong>Copying</strong> å‡½æ•°ã€‚</p><blockquote><p>åº”è¯¥å°†å…±åŒæœºèƒ½æ”¾è¿›ç¬¬ä¸‰ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶ç”±ä¸¤ä¸ª <strong>Copying</strong> å‡½æ•°å…±åŒè°ƒç”¨ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ³¨æ„ï¼&quot;&gt;&lt;a href=&quot;#æ³¨æ„ï¼&quot; class=&quot;headerlink&quot; title=&quot;æ³¨æ„ï¼&quot;&gt;&lt;/a&gt;æ³¨æ„ï¼&lt;/h1&gt;&lt;p&gt;è¿™åªæ˜¯æˆ‘çš„è¯»ä¹¦ç¬”è®°ï¼Œå¸®åŠ©æˆ‘è®°å½•ã€‚å…¶ä¸­å¯èƒ½æœ‰ä¸€äº›ä¸ä¸¥è°¨çš„è§£é‡Šæˆ–æ²¡æœ‰åšå¾ˆè¯¦ç»†çš„è§£é‡Šï¼Œå¤§å®¶å­¦ä¹ è¿˜æ˜¯å»ºè®®ç›´æ¥çœ‹ä¹¦ï¼ˆè™½ç„¶ä¹¦ä¸­ä¹Ÿæœ‰ä¸ä¸¥è°¨çš„è§£é‡Šï¼‰
      
    
    </summary>
    
      <category term="æ³› - ç¬”è®°" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Cpp" scheme="https://blog.pazyx.xyz/tags/Cpp/"/>
    
      <category term="è¯»ä¹¦" scheme="https://blog.pazyx.xyz/tags/%E8%AF%BB%E4%B9%A6/"/>
    
      <category term="ç¬”è®°" scheme="https://blog.pazyx.xyz/tags/%E7%AC%94%E8%AE%B0/"/>
    
      <category term="Effective C++" scheme="https://blog.pazyx.xyz/tags/Effective-C/"/>
    
      <category term="æ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="è¿ç®—ç¬¦é‡è½½" scheme="https://blog.pazyx.xyz/tags/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/"/>
    
      <category term="æ‹·è´æ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="ç¼ºçœæ„é€ å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/%E7%BC%BA%E7%9C%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"/>
    
      <category term="virtual å‡½æ•°" scheme="https://blog.pazyx.xyz/tags/virtual-%E5%87%BD%E6%95%B0/"/>
    
      <category term="è‡ªæˆ‘èµ‹å€¼" scheme="https://blog.pazyx.xyz/tags/%E8%87%AA%E6%88%91%E8%B5%8B%E5%80%BC/"/>
    
      <category term="å¼‚å¸¸" scheme="https://blog.pazyx.xyz/tags/%E5%BC%82%E5%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>Java ä¸ C++ ç»†èŠ‚å·®å¼‚ ï¼ˆä¸€ï¼‰</title>
    <link href="https://blog.pazyx.xyz/2018/07/01/cpptojava/"/>
    <id>https://blog.pazyx.xyz/2018/07/01/cpptojava/</id>
    <published>2018-07-01T15:08:37.000Z</published>
    <updated>2018-07-04T17:34:10.250Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><p>ç›¸æ¯” C++ï¼ŒJavaæä¾›äº†ä¸‰ç§æ³¨é‡Šæ–¹å¼åˆ†åˆ«ä¸º</p><ul><li><code>//</code> å•è¡Œæ³¨é‡Š</li><li><code>/* ... */</code> å¤šè¡Œæ³¨é‡Š </li><li><code>/** ... */</code> æ–‡æ¡£æ³¨é‡Š<br>å‰ä¸¤ç§ä¸ C++ ç›¸åŒï¼Œæœ€åä¸€ç§å¯ä»¥è‡ªåŠ¨å°†æ³¨é‡Šå†…å®¹ç”Ÿæˆæ–‡æ¡£ã€‚ä¾›ä½¿ç”¨è€…ç›´æ¥æŸ¥çœ‹ã€‚</li></ul><hr><h1 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h1><h2 id="æ•´æ•°"><a href="#æ•´æ•°" class="headerlink" title="æ•´æ•°"></a>æ•´æ•°</h2><table><thead><tr><th>Java</th><th>å­˜å‚¨ç©ºé—´</th><th>C++</th><th>å­˜å‚¨ç©ºé—´</th></tr></thead><tbody><tr><td>int</td><td>4 å­—èŠ‚</td><td>int</td><td>è‡³å°‘ 4 å­—èŠ‚ï¼Œä¸”å¤§äºç­‰äº short</td></tr><tr><td>short</td><td>2 å­—èŠ‚</td><td>short</td><td>è‡³å°‘ 2 å­—èŠ‚</td></tr><tr><td>long</td><td>8 å­—èŠ‚</td><td>long</td><td>è‡³å°‘ 4 å­—èŠ‚ï¼Œä¸”å¤§äºç­‰äº int</td></tr><tr><td>byte</td><td>1 å­—èŠ‚</td><td></td><td></td></tr><tr><td></td><td></td><td>long long</td><td>è‡³å°‘ 8 å­—èŠ‚ï¼Œä¸”å¤§äºç­‰äº long</td></tr></tbody></table><p>Java æä¾›äº† 4 ç§æ•´æ•°ç±»å‹ï¼Œä¸ C++ ç›¸æ¯” Java çš„è§„èŒƒæ›´ä¸ºä¸¥æ ¼ã€‚å¯ä»¥çœ‹å‡º C++ æ›´åœ¨ä¹æ•ˆç‡ï¼Œè€Œ Java æ›´åœ¨ä¹å¯ç§»æ¤æ€§ã€‚</p><p>åå…­è¿›åˆ¶æ•°å’Œå…«è¿›åˆ¶æ•°ä¸¤ç§è¯­è¨€å‡å¯ä»¥ä½¿ç”¨  0x å’Œ 0 ä¸ºå‰ç¼€æ¥è¡¨ç¤ºï¼Œè€Œ Java è¿˜æä¾›äº†å‰ç¼€ 0b æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°ã€‚</p><h2 id="æµ®ç‚¹æ•°"><a href="#æµ®ç‚¹æ•°" class="headerlink" title="æµ®ç‚¹æ•°"></a>æµ®ç‚¹æ•°</h2><table><thead><tr><th>Java</th><th>å­˜å‚¨ç©ºé—´</th><th>C++</th><th>å­˜å‚¨ç©ºé—´</th></tr></thead><tbody><tr><td>float</td><td>4 å­—èŠ‚</td><td>float</td><td>4 å­—èŠ‚</td></tr><tr><td>double</td><td>8 å­—èŠ‚</td><td>double</td><td>8 å­—èŠ‚</td></tr><tr><td></td><td></td><td>long double ( Intel )</td><td>16 å­—èŠ‚</td></tr></tbody></table><p>ä¸¤è€…éƒ½éµå¾ª  IEEE-754 æ ‡å‡†</p><p>C++ ç›´æ¥æä¾›äº† 80 ä½çš„æ‰©å±•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œè€Œ Java æ²¡æœ‰æä¾›ã€‚<br>Java æ²¡æœ‰æä¾›çš„åŸå› è¿˜æ˜¯å¯¹å¯ç§»æ¤æ€§çš„è€ƒè™‘ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœ JVM è¿è¡Œåœ¨ Intel çš„å¤„ç†å™¨ä¸Šæ—¶ï¼Œæµ®ç‚¹æ•°çš„ä¸­é—´è¿ç®—ç»“æœé»˜è®¤æ˜¯é‡‡ç”¨æ‰©å±•ç²¾åº¦å­˜å‚¨çš„ã€‚è¿™æ˜¯å› ä¸ºæˆªæ–­ä¼šä½¿æ•ˆç‡å¤§å¹…é™ä½ï¼Œä½† Java ä¹Ÿæä¾›äº†æˆªæ–­çš„å¯èƒ½æ€§ï¼Œä½¿ç”¨ <code>strictfp</code> å…³é”®å­—æ ‡è®°çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰å¿…é¡»ä¸¥æ ¼çš„å¯¹ä¸­é—´ç»“æœæˆªæ–­ï¼Œä¿è¯åœ¨ä»»ä½•å¤„ç†å™¨ç¯å¢ƒçš„ç»“æœçš„ä¸€è‡´æ€§ã€‚<br>ä¾‹ï¼š<code>public static strictfp void main(String[] args)</code></p><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><p>Java ç¦æ­¢ä½¿ç”¨æœªåˆå§‹åŒ–çš„<strong>æœ¬åœ°å˜é‡</strong>ï¼ŒC++ å¯ä»¥ã€‚</p><h2 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h2><p>ä¿®é¥°ç¬¦ä¸åŒï¼ŒJava ä½¿ç”¨ final ä¿®é¥°å¸¸é‡ï¼Œä½† const ä¹Ÿæ˜¯ Java çš„ä¿ç•™å­—ã€‚</p><table><thead><tr><th>Java</th><th>C++</th></tr></thead><tbody><tr><td><code>final type</code></td><td><code>const type</code></td></tr></tbody></table><p>å¸¸é‡å¯ä»¥ä¸åœ¨å®šä¹‰å‡ºåˆå§‹åŒ–ï¼Œä½†å¿…é¡»ä¿è¯åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰è¢«åˆå§‹åŒ–ï¼Œä¸”åªåˆå§‹åŒ–ä¸€æ¬¡ã€‚</p><hr><h1 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h1><p>Java æ²¡æœ‰ C++ ä¸­åœ¨æ ˆåŒºåˆ†é…åˆ°æ•°ç»„ï¼Œä½ ä¸å¯ä»¥å†™å‡ºè¿™æ ·çš„ä»£ç <br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br></pre></td></tr></table></figure></p><p>æ‰€æœ‰çš„æ•°ç»„ï¼Œéƒ½éœ€è¦ä½¿ç”¨ <code>new</code> åœ¨å †ä¸Šåˆ†é…ç©ºé—´ã€‚</p><p>Java æä¾›äº†ä¸¤ç§å®šä¹‰æ•°ç»„çš„æ–¹å¼<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] a = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br><span class="line"><span class="keyword">int</span> a[] = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ æ²¡æœ‰åˆå§‹åŒ–æ•°ç»„ï¼ŒJava ä¼šå¸®ä½ åšæ•°ç»„çš„åˆå§‹åŒ–ã€‚æ•°å­—æ•°ç»„å°†æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º 0 ï¼Œboolean æ•°ç»„åˆå§‹åŒ–ä¸º falseï¼Œå¯¹è±¡æ•°ç»„åˆå§‹åŒ–ä¸º null ã€‚</p><p>Java ä¸­ <code>[]</code>è¿ç®—ç¬¦è¢«å®šä¹‰ä¸ºæ£€æŸ¥æ•°ç»„è¾¹ç•Œï¼Œè€Œä¸” Java æ²¡æœ‰æŒ‡é’ˆè¿ç®—ï¼Œä¸å¯ä»¥é€šè¿‡ <code>a + 1</code> å¾—åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p><hr><h1 id="å‘½åè§„åˆ™"><a href="#å‘½åè§„åˆ™" class="headerlink" title="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™</h1><table><thead><tr><th>Java</th><th>C++</th></tr></thead><tbody><tr><td>ä¸€ä¸ªä»¥å­—æ¯å¼€å¤´çš„ç”±å­—æ¯æˆ–æ•°å­—ç»„æˆçš„åºåˆ—ï¼Œå­—æ¯åŒ…æ‹¬{â€˜Aâ€™ ~ â€˜Zâ€™ã€â€™aâ€™ ~ â€˜zâ€™ã€â€™_â€™ã€â€™$â€™ æˆ–åœ¨æŸç§è¯­è¨€ä¸­ä»£è¡¨å­—æ¯çš„ä»»ä½• Unicode å­—ç¬¦ }ã€‚</td><td>ä¸€ä¸ªç”±æ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå°å†™å’Œå¤§å†™æ‹‰ä¸å­—æ¯ï¼Œå’Œå¤§å¤šæ•° Unicode å­—ç¬¦ç»„æˆçš„ä»»æ„é•¿åº¦çš„åºåˆ—ã€‚æœ‰æ•ˆçš„æ ‡è¯†ç¬¦å¿…é¡»ä»¥ä¸€ä¸ªéæ•°å­—å­—ç¬¦ï¼ˆæ‹‰ä¸è¯­å­—æ¯ï¼Œä¸‹åˆ’çº¿æˆ– Unicode éæ•°å­—å­—ç¬¦ï¼‰å¼€å¤´ã€‚</td></tr></tbody></table><p>æ³¨ï¼š<br>Java ä¸­åœ¨æŸç§è¯­è¨€ä¸­ä»£è¡¨å­—æ¯çš„ä»»ä½• Unicode å­—ç¬¦ï¼Œæ¯”å¦‚å¾·å›½ç”¨æˆ·å¯ä»¥ç”¨ Ã¤ ã€‚å¯ä»¥ä½¿ç”¨ Character ç±»çš„ isJavaIdentifierStart å’Œ isJavaIdentifierPart æ–¹æ³•æ£€æµ‹ã€‚</p><p>C++ ä¸­å¤§å¤šæ•° Unicode å­—ç¬¦æ˜¯æŒ‡é™¤ä¸‹è¡¨ä¸­çš„å­—ç¬¦ä»¥å¤–çš„ Unicode å­—ç¬¦ã€‚</p><table><thead><tr><th>ä»£ç ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>U+0300 - U+036F</td><td>ç»„åˆç”¨æŠ‘éŸ³ç¬¦ - ç»„åˆç”¨æ‹‰ä¸æ–‡å°å†™å­—æ¯ X</td></tr><tr><td>U+1DC0 - U+1DFF</td><td>ç»„åˆç”¨å¸¦ç‚¹æŠ‘éŸ³ç¬¦ - ç»„åˆç”¨ä¸‹å³ç®­å¤´å°–å’Œå‘ä¸‹ç®­å¤´å°–</td></tr><tr><td>U+20D0 - U+20FF</td><td>ç»„åˆç”¨ä¸Šå·¦é±¼å‰ - ç»„åˆç”¨ä¸Šæ˜Ÿå·</td></tr><tr><td>U+FE20 - U+FE2F</td><td>ç»„åˆç”¨è¿å­—å·¦åŠ - ç»„åˆç”¨è¥¿é‡Œå°”æ–‡ Titlo å³åŠ</td></tr></tbody></table><hr><h1 id="é‡åé—®é¢˜"><a href="#é‡åé—®é¢˜" class="headerlink" title="é‡åé—®é¢˜"></a>é‡åé—®é¢˜</h1><p>åœ¨ C++ ä¸­ä½ å¯ä»¥å†™å‡ºè¿™æ ·çš„ä»£ç <br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·è¿›å…¥å¤§æ‹¬å·åï¼Œå¤–å±‚çš„æ•´æ•° a å°±è¢«éšè—äº†ï¼Œçœ‹ä¸åˆ°äº†æ— æ³•è®¿é—®äº†ï¼Œå‡ºå¤§æ‹¬å·å°±å¯ä»¥ç»§ç»­è®¿é—®å¤–å±‚çš„æ•´æ•° a äº†ã€‚</p><p>è€Œåœ¨ Java ä¸­ç¼–è¯‘å™¨æ˜¯ä¸å…è®¸ä½ å†™å‡ºè¿™æ ·çš„ä»£ç çš„ã€‚<br>Java å’Œ C++ å¤§ä½“ä¸Šç›¸åŒï¼Œæœ¬åœ°å˜é‡çš„ç”Ÿå­˜æœŸæ˜¯ç”±å…¶æ‰€åœ¨çš„å¤§æ‹¬å·å†³å®šçš„ã€‚å®ƒä»¬ä¸¤è€…çš„ä¸åŒä¹‹å¤„åœ¨äº Java æ˜¯å®Œå…¨ä¸å…è®¸åœ¨ä¸€ä¸ªå˜é‡çš„ç”Ÿå­˜æœŸå†…å‡ºç°å¦ä¸€ä¸ªé‡åçš„å˜é‡ï¼Œè€Œ C++ å…è®¸åœ¨å†…å±‚å®šä¹‰æ–°çš„é‡åå˜é‡éšè—å¤–å±‚å˜é‡ã€‚</p><p>ä¾‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="keyword">int</span> a;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·çš„ä»£ç åœ¨ä¸¤ç§è¯­è¨€ä¸­éƒ½æ˜¯é”™è¯¯çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„ä»£ç åœ¨ä¸¤ç§è¯­è¨€ä¸­éƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p>äºŒè€…å”¯ä¸€çš„å·®åˆ«å°±æ˜¯æˆ‘åœ¨æœ€å¼€å§‹çš„é‚£ä¸ªä¾‹å­ï¼ŒJava åœ¨å¤–å±‚ a çš„ç”Ÿå­˜æœŸè¿˜æ²¡ç»“æŸå‰ä¸å¯ä»¥å®šä¹‰æ–°çš„é‡åå˜é‡ï¼Œè€Œ C++ å¯ä»¥ã€‚</p><hr><h1 id="String-ä¸-string"><a href="#String-ä¸-string" class="headerlink" title="String ä¸ string"></a>String ä¸ string</h1><p>String å’Œ string åˆ†åˆ«ä¸º Java å’Œ C++ åº“é‡Œçš„å­—ç¬¦ä¸²ï¼Œè™½ç„¶åªæ˜¯å·®ä¸€ä¸ªå­—æ¯å¤§å°å†™ï¼Œå®é™…ä¸Šå®ƒä»¬æœ‰ç€å·¨å¤§çš„å·®å¼‚ã€‚<br>string æ›´åƒæ˜¯ char çš„æ•°ç»„ï¼Œå®ƒçš„æ¯ä¸ªå•ä½éƒ½æ˜¯å¯ä»¥ç›´æ¥è¿™æ · <code>s[index]</code> è®¿é—®çš„ï¼Œè€Œä¸”å¯ä»¥è¿›è¡Œä¿®æ”¹ã€‚<br>String å°±æ²¡æœ‰é‚£ä¹ˆæ–¹ä¾¿äº†ï¼ŒJava æ²¡æœ‰è¿ç®—ç¬¦é‡è½½åªèƒ½é€šè¿‡ <code>s.charAt( index )</code> æ¥è½¬æ¢æˆ <code>char</code> å†è¯»ã€‚<strong>æ³¨æ„ï¼String æ²¡æœ‰æä¾›å†™æ“ä½œçš„æ–¹æ³•ã€‚String åœ¨ Java ä¸­æ˜¯ä¸€ç§ä¸å¯ä¿®æ”¹çš„å­—ç¬¦ä¸²ã€‚</strong></p><p>è¿™å®é™…ä¸Šæ˜¯æ•ˆç‡ä¼˜åŒ–ä¸Šçš„ä¸åŒæƒ³æ³•ï¼ŒC++ ä¸­æ¯ä¸ª string çš„å¯¹è±¡éƒ½ç‹¬å ä¸€å—å†…å­˜ç©ºé—´ï¼ŒJava çš„ String ä¸å¯ä¿®æ”¹å°±å¯ä»¥å°†å¤šä¸ªç›¸åŒçš„å­—ç¬¦ä¸²å˜é‡å…±äº«ä¸€å—å†…å­˜ç©ºé—´ï¼Œå¤åˆ¶æ“ä½œæ•ˆç‡ä¹Ÿå˜å¾—å¾ˆé«˜ã€‚ä½†è¿™æ ·å°±è¦åœ¨å­—ç¬¦ä¸²æ¯”è¾ƒæ—¶ç‰¹åˆ«æ³¨æ„ï¼ŒJava çš„å¯¹è±¡å˜é‡éƒ½æ˜¯å¯¹è±¡çš„ç®¡ç†è€…ï¼Œä¸” Java æ²¡æœ‰è¿ç®—ç¬¦é‡è½½ï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ª String çš„å¯¹è±¡ a å’Œ b ï¼Œ<code>a == b</code> åªæ˜¯åœ¨åˆ¤æ–­å®ƒä»¬ç®¡ç†çš„æ˜¯ä¸æ˜¯ä¸€å—å†…å­˜ç©ºé—´ã€‚Java ç›¸åŒå­—ç¬¦ä¸²çš„å…±äº«å†…å­˜ç©ºé—´çš„åˆ†é…æ–¹æ¡ˆä¹Ÿä¸æ˜¯ 100% çš„ï¼Œå®ƒåªæ˜¯åœ¨åˆé€‚çš„æƒ…å†µä¸‹å…±äº«ç©ºé—´ï¼Œæ‰€ä»¥ä¸¤ä¸ªå†…å®¹ç›¸åŒçš„å­—ç¬¦ä¸²ä¹Ÿä¸ä¸€å®šæŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ã€‚å®ƒçš„æ¯”è¾ƒæœ‰æ—¶ç›¸ç­‰æœ‰æ—¶ä¸ç›¸ç­‰éƒ½æ˜¯å¾ˆæœ‰å¯èƒ½çš„ï¼Œæ‰€ä»¥ä¸è¦é‚£ä¹ˆåšï¼<br>æ¯”è¾ƒæ“ä½œ <code>a.equals(b)</code> ä½¿ç”¨ String çš„ equals æ–¹æ³•å³å¯ã€‚</p><p>é‚£åˆ°åº•æ€ä¹ˆä¿®æ”¹å­—ç¬¦ä¸²å‘¢ï¼Ÿä½ å¯ä»¥ä½¿ç”¨ <code>+</code> è¿ç®—ç¬¦å’Œ <code>substring</code> æ–¹æ³•è¿›è¡Œæ‹¼æ¥å’Œåˆ‡å‰²å­—ç¬¦ä¸²æœ€åå†èµ‹å€¼ç»™åŸå­—ç¬¦ä¸²ã€‚ä½†è¿™ä¼šæœ‰å¾ˆå¤§çš„å¼€é”€ï¼Œå› ä¸ºä¸­é—´ç»“æœè¦ç”Ÿæˆå¾ˆå¤šä¸å¯æ”¹å˜çš„ String å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨ StringBuilder æˆ–è€… StringBufferã€‚</p><hr><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://zh.cppreference.com/w/cpp/language/types" target="_blank" rel="noopener">C++ åŸºç¡€ç±»å‹æ ‡å‡†</a><br><a href="https://zh.cppreference.com/w/cpp/language/identifiers" target="_blank" rel="noopener">C++ æ ‡è¯†ç¬¦æ ‡å‡†</a><br><a href="https://docs.oracle.com/javase/specs/" target="_blank" rel="noopener">The JavaÂ® Language Specification</a><br>Java æ ¸å¿ƒæŠ€æœ¯ å·I â€”â€” Cay S. Horstmannã€Gary Cornell<br>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœº â€”â€” å‘¨å¿—æ˜</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ³¨é‡Š&quot;&gt;&lt;a href=&quot;#æ³¨é‡Š&quot; class=&quot;headerlink&quot; title=&quot;æ³¨é‡Š&quot;&gt;&lt;/a&gt;æ³¨é‡Š&lt;/h1&gt;&lt;p&gt;ç›¸æ¯” C++ï¼ŒJavaæä¾›äº†ä¸‰ç§æ³¨é‡Šæ–¹å¼åˆ†åˆ«ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;//&lt;/code&gt; å•è¡Œæ³¨é‡Š&lt;/li&gt;
&lt;li&gt;&lt;co
      
    
    </summary>
    
      <category term="ç¼–ç¨‹è¯­è¨€ - Java" scheme="https://blog.pazyx.xyz/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-Java/"/>
    
    
      <category term="Cpp" scheme="https://blog.pazyx.xyz/tags/Cpp/"/>
    
      <category term="æµ®ç‚¹æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%B5%AE%E7%82%B9%E6%95%B0/"/>
    
      <category term="Java" scheme="https://blog.pazyx.xyz/tags/Java/"/>
    
      <category term="æ•´æ•°" scheme="https://blog.pazyx.xyz/tags/%E6%95%B4%E6%95%B0/"/>
    
      <category term="å‘½åè§„åˆ™" scheme="https://blog.pazyx.xyz/tags/%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/"/>
    
      <category term="String" scheme="https://blog.pazyx.xyz/tags/String/"/>
    
      <category term="string" scheme="https://blog.pazyx.xyz/tags/string/"/>
    
  </entry>
  
  <entry>
    <title>basic_ios å¦‚ä½•ç©¿ä¸Šå®ƒçš„ bool</title>
    <link href="https://blog.pazyx.xyz/2018/06/29/cin-return/"/>
    <id>https://blog.pazyx.xyz/2018/06/29/cin-return/</id>
    <published>2018-06-28T17:19:17.000Z</published>
    <updated>2018-07-04T17:33:36.920Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸ºä»€ä¹ˆå¯ä»¥-while-cin-gt-gt-n-ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå¯ä»¥-while-cin-gt-gt-n-ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå¯ä»¥ while( cin &gt;&gt; n ) ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå¯ä»¥ while( cin &gt;&gt; n ) ï¼Ÿ</h1><p>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆä¹…ã€‚æ¯æ¬¡å†™å‡ºé‚£è¡Œä»£ç éƒ½åœ¨ä¸ºä»€ä¹ˆæ²¡æœ‰è¾“å…¥æ—¶å®ƒä¼šåœï¼Œä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å†™ï¼Œæ¯æ¬¡å†™æ—¶éƒ½æœ‰äº›è™šã€‚<br>ä¸ºäº†ä¿æŒæˆ‘çš„è‡ªä¿¡ï¼Œæˆ‘æƒ³è±¡äº†å¾ˆå¤šæƒ…å†µæ¥å®‰æŠšè‡ªå·±ã€‚<br>èµ·åˆæˆ‘ç±»æ¯” C è¯­è¨€ï¼Œæƒ³ç€åº”è¯¥æ˜¯ <code>cin</code> è¿™ä¸ªé¬¼ä¸œè¥¿è¿”å›äº†ä¸€ä¸ª <code>bool</code> ç±»å‹çš„å€¼ã€‚ä¹‹ååœ¨å­¦ä¹ äº†ç±»ä¸å¯¹è±¡åï¼Œå‘ç° <code>cin</code> ä¸è¿‡æ˜¯ä¸ªå¯¹è±¡ä¸å¯èƒ½è¿”å›ä»€ä¹ˆå€¼ã€‚æˆ‘åˆç»™å‡ºäº†æ–°çš„è§£é‡Šï¼šä¹Ÿè®¸ <code>cin &gt;&gt; n</code> è¿™ä¸ªè¡¨è¾¾å¼æ˜¯ä¸ª <code>bool</code> ç±»å‹çš„å€¼å§ã€‚å†ä¹‹åæˆ‘çœ‹è¿ç®—ç¬¦é‡è½½æ—¶ï¼Œåˆšåˆšçš„è§£é‡Šä¹Ÿå‡‰äº†ã€‚è¡¨è¾¾å¼ <code>cin &gt;&gt; n</code> çš„å€¼æ˜¯ <code>&lt;&lt;</code> çš„è¿ç®—ç¬¦é‡è½½å‡½æ•°è¿”å›çš„ä¸€ä¸ª basic_istream ç±»çš„å¯¹è±¡è€Œå·²ã€‚</p><p><strong>æˆ‘çš„æƒ³è±¡åŠ›æœ‰ä¸€äº›æ¯ç«­äº† â€¦ â€¦</strong></p><p>ç›´åˆ°è¿™å‡ å¤©æˆ‘åœ¨çœ‹ã€Šæ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ã€‹ä¹¦æ—¶ï¼Œä¹¦ä¸­çš„ä¾‹å­ä¸­æåˆ°äº† basic_ios çš„ç±»å‹è½¬æ¢å‡½æ•°ï¼Œåˆè®©æˆ‘æƒ³èµ·äº†ä¹‹å‰çš„é—®é¢˜ã€‚æˆ‘æŸ¥é˜…äº†å¤§é‡èµ„æ–™ï¼Œå¤§è‡´ææ¸…æ¥šäº† ç©¶ç«Ÿä¸ºä»€ä¹ˆå¯ä»¥ï¼Ÿå’Œ è§£å†³æ–¹æ¡ˆçš„æ¼”å˜è¿‡ç¨‹ã€‚</p><h2 id="while-çš„æ‹¬å·é‡Œèƒ½æ”¾ä»€ä¹ˆï¼Ÿ"><a href="#while-çš„æ‹¬å·é‡Œèƒ½æ”¾ä»€ä¹ˆï¼Ÿ" class="headerlink" title="while çš„æ‹¬å·é‡Œèƒ½æ”¾ä»€ä¹ˆï¼Ÿ"></a>while çš„æ‹¬å·é‡Œèƒ½æ”¾ä»€ä¹ˆï¼Ÿ</h2><blockquote><p>ä»»ä½•èƒ½æŒ‰è¯­å¢ƒè½¬æ¢ä¸º bool çš„è¡¨è¾¾å¼ï¼Œæˆ–å¸¦èŠ±æ‹¬å·æˆ–ç­‰å·åˆå§‹åŒ–å™¨çš„å•ä¸ªå˜é‡å£°æ˜ã€‚<br>æ¯æ¬¡è¿­ä»£å‰æ±‚å€¼æ­¤è¡¨è¾¾å¼ï¼Œè€Œè‹¥å®ƒäº§å‡º <code>false</code> ï¼Œåˆ™é€€å‡ºå¾ªç¯ã€‚è‹¥æ­¤ä¸ºå£°æ˜ï¼Œåˆ™æ¯æ¬¡è¿­ä»£å‰æ±‚å€¼åˆå§‹åŒ–å™¨ï¼Œä¸”è‹¥è¢«å£°æ˜å˜é‡çš„å€¼è½¬æ¢ä¸º <code>false</code> ï¼Œåˆ™é€€å‡ºå¾ªç¯ã€‚</p></blockquote><h2 id="ä»€ä¹ˆå¯ä»¥è½¬æ¢ä¸º-boolï¼Ÿ"><a href="#ä»€ä¹ˆå¯ä»¥è½¬æ¢ä¸º-boolï¼Ÿ" class="headerlink" title="ä»€ä¹ˆå¯ä»¥è½¬æ¢ä¸º boolï¼Ÿ"></a>ä»€ä¹ˆå¯ä»¥è½¬æ¢ä¸º boolï¼Ÿ</h2><p>å¯¹äºåŸå§‹æ•°æ®ç±»å‹ï¼Œé€‚ç”¨äºC++ æ ‡å‡†ä¸­çš„<strong>å¸ƒå°”è½¬æ¢</strong>è§„åˆ™<br>è§„åˆ™å¦‚ä¸‹ï¼š</p><blockquote><p><strong>æ•´æ•°</strong>ã€æµ®ç‚¹ã€æ— ä½œç”¨åŸŸæšä¸¾ã€<strong>æŒ‡é’ˆå’ŒæŒ‡å‘æˆå‘˜æŒ‡é’ˆç±»å‹çš„çº¯å³å€¼</strong>èƒ½è½¬æ¢æˆ <code>bool</code> ç±»å‹çº¯å³å€¼ã€‚<br>å€¼é›¶ï¼ˆå¯¹äºæ•´æ•°ã€æµ®ç‚¹å’Œæ— ä½œç”¨åŸŸæšä¸¾ï¼‰ã€<strong>ç©ºæŒ‡é’ˆå€¼å’Œç©ºæˆå‘˜æŒ‡é’ˆå€¼</strong>å˜ä¸º <code>false</code> ã€‚æ‰€æœ‰å…¶ä»–å€¼å˜ä¸º <code>true</code> ã€‚<br><code>std::nullptr_t</code> ç±»å‹çº¯å³å€¼ï¼ŒåŒ…æ‹¬ <code>nullptr</code> ï¼Œèƒ½åœ¨ç›´æ¥åˆå§‹åŒ–çš„è¯­å¢ƒä¸­è½¬æ¢æˆ <code>bool</code> ç±»å‹çº¯å³å€¼ã€‚ç»“æœå€¼ä¸º <code>false</code> ã€‚(C++11 èµ·)</p></blockquote><p>å¯¹äºç”¨æˆ·å®šä¹‰ç±»å‹ï¼Œåˆ™éœ€è¦ç»™å‡º ç±»å‹è½¬æ¢å‡½æ•° æˆ– ä»¥ç›®æ ‡ç±»å‹ä¸ºå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</p><h2 id="ç©¶ç«Ÿä¸ºä»€ä¹ˆå¯ä»¥ï¼Ÿ"><a href="#ç©¶ç«Ÿä¸ºä»€ä¹ˆå¯ä»¥ï¼Ÿ" class="headerlink" title="ç©¶ç«Ÿä¸ºä»€ä¹ˆå¯ä»¥ï¼Ÿ"></a>ç©¶ç«Ÿä¸ºä»€ä¹ˆå¯ä»¥ï¼Ÿ</h2><p>æˆ‘ç›´æ¥ç»™å‡ºç­”æ¡ˆï¼šbasic_istream çš„åŸºç±» basic_ios ç±»æœ‰ä¸€ä¸ª bool( ) çš„è¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ç±»å‹è½¬æ¢å‡½æ•°ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">explicit</span> <span class="keyword">operator</span> <span class="title">bool</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// C++11 </span></span><br><span class="line"><span class="comment">//è‹¥æµæ— é”™è¯¯åˆ™ä¸º true ï¼Œå¦åˆ™ä¸º false ã€‚</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·å°±è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼Œè¡¨è¾¾å¼ <code>cin &gt;&gt; n</code> çš„å€¼è¢«è½¬æ¢ä¸º <code>bool</code> ç±»å‹å½“ç„¶å¯ä»¥æ”¾åœ¨ while çš„æ‹¬å·å†…æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p><hr><h1 id="æ¼”å˜è¿‡ç¨‹"><a href="#æ¼”å˜è¿‡ç¨‹" class="headerlink" title="æ¼”å˜è¿‡ç¨‹"></a>æ¼”å˜è¿‡ç¨‹</h1><p>ä¸Šé¢çš„åªæ˜¯ C++11 æ ‡å‡†åº“çš„è§£å†³æ–¹æ¡ˆã€‚å…¶å®æ›´æœ‰æ„æ€çš„æ˜¯ basic_istream çš„å¯¹è±¡è½¬æ¢åˆ° bool ç±»å‹åœ¨å®ç°ä¸Šçš„ä¸€äº›å†å²æ¼”å˜è¿‡ç¨‹ã€‚</p><h2 id="operator-int-const"><a href="#operator-int-const" class="headerlink" title="operator int() const;"></a>operator int() const;</h2><p>ç”±äº C++ æ—©æœŸæ˜¯æ²¡æœ‰ <code>bool</code> ç±»å‹çš„ï¼Œiostream åº“çš„æ„å»ºè€… Jerry Schwarz å¸Œæœ›é€šè¿‡ä¸º basic_ios ç±»ç¼–å†™ä¸€ä¸ªç±»å‹è½¬æ¢å‡½æ•°ï¼Œæä¾›å°† basic_ios ç±»è½¬æ¢ä¸º <code>int</code> ç±»å‹çš„æ–¹å¼ï¼Œå®ç° <code>while( cin &gt;&gt; n )</code>ã€‚<br>å¯è¿™æ ·å†™åä»–å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœ‰äººå¯èƒ½å†™å‡ºä¸‹é¢è¿™ç§ä»£ç ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &lt;&lt; intValue; <span class="comment">// æ­£ç¡®çš„åº”è¯¥ä¸º cin &gt;&gt; Value;</span></span><br></pre></td></tr></table></figure></p><p>ç”±äº <code>&lt;&lt;</code> å’Œ <code>&gt;&gt;</code> è¿ç®—ç¬¦å¾ˆå®¹æ˜“è®©ç¨‹åºå‘˜ç”¨ä¹±ï¼Œæœ‰çš„äººå¯èƒ½ä¼šå†™å‡ºä¸Šé¢çš„é”™è¯¯ä»£ç ï¼Œä½†å½“æ—¶çš„ç¼–è¯‘å™¨æ²¡æœ‰æŠ¥é”™ã€‚<br>å› ä¸ºç¼–è¯‘å™¨å‘ç° <code>cin</code> æ˜¯æ²¡æœ‰é‡è½½ <code>&lt;&lt;</code> ï¼Œä½† <code>int</code> æ˜¯å¯ä»¥åšå·¦ç§» ( <code>&lt;&lt;</code> ) çš„ï¼Œç¨‹åºå°† basic_ios çš„å¯¹è±¡è½¬æ¢ä¸º <code>int</code> åˆè¿›è¡Œäº†å·¦ç§»æ“ä½œã€‚è¿™ç®—ä¸ä¸Šé”™è¯¯ï¼Œä½†è‡³å°‘å°†å¤§éƒ¨åˆ†ç¨‹åºå‘˜çš„é”™è¯¯éšè—äº†ï¼Œè®©äººéš¾ä»¥å®šä½é”™è¯¯ã€‚<br>è¿™ä¸ªé”™è¯¯ä¹‹åè¢«æˆç§°ä¸ºâ€œSchwarz Errorâ€ï¼Œåœ¨è¿™ä¹‹å Jerry Schwarz ç”¨ä¸‹é¢çš„å‡½æ•°å–ä»£äº† <code>operator int () const;</code></p><h2 id="operator-void-const"><a href="#operator-void-const" class="headerlink" title="operator void*() const;"></a>operator void*() const;</h2><p>C++ çš„æ ‡å‡†ä¸­ <code>void*</code> èƒ½éšå¼è½¬æ¢ä¸º <code>bool</code> ç±»å‹ï¼ŒJerry Schwarz æƒ³åˆ°äº†è¿™ç§æ–¹å¼ï¼Œ<br>å¹¶ä¸”è¿˜ä¸º basic_ios ç±»é‡è½½äº† <code>!</code> è¿ç®—ç¬¦ï¼Œä»¥æ”¯æŒ <code>while( ! ( cin &gt;&gt; n ) )</code>ã€‚<br>è¿™ä¸ªå‡½æ•°ä¸€ç›´ç»´æŒåˆ° C++11 çš„å‡ºç°ã€‚</p><h2 id="explicit-operator-bool-const"><a href="#explicit-operator-bool-const" class="headerlink" title="explicit operator bool() const;"></a>explicit operator bool() const;</h2><p>ä¹‹å‰çš„ <code>operato void*() const;</code> å…¶å®æ˜¯æœ‰å®‰å…¨é£é™©çš„ã€‚<br>ä½ å¯ä»¥ç›´æ¥ç»™ä¸€ä¸ª <code>void*</code> ç±»å‹çš„å˜é‡èµ‹ä¸€ä¸ª basic_ios ç±»çš„å¯¹è±¡ï¼Œå¹¶ä¸”æ²¡æœ‰ä»»ä½•çš„é”™è¯¯æˆ–è­¦å‘Šã€‚è¿™æ˜¯ä¸å®‰å…¨çš„ï¼Œè¿™ç§ç±»å‹è½¬æ¢åº”è¯¥æ˜¯æ˜¾æ€§çš„æ‰å®‰å…¨ã€‚<br>C++11 æ”¹å˜äº†éšå¼è½¬æ¢çš„ä¸€äº›è§„åˆ™ï¼Œè§£å†³äº†å®‰å…¨ bool é—®é¢˜ã€‚<br>C++11 ä¹‹å‰åœ¨ç±»å‹è½¬æ¢è¿ç®—ç¬¦é‡è½½å‡½æ•°å‰åŠ ä¸Š <code>explicit</code> å…³é”®å­—ï¼Œå£°æ˜å®ƒå¿…é¡»æ˜¾å¼ä½¿ç”¨ï¼Œä»¥å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å½¢å¼å»æ“ä½œã€‚æ¯”å¦‚ï¼š<code>bool b = (bool)cin</code> æ‰å¯ä»¥ä½¿ç”¨ç±»å‹è½¬æ¢å‡½æ•°ï¼Œè€Œä¸èƒ½åš <code>bool b = cin</code> è¿™æ ·çš„æ“ä½œã€‚<br>è€Œ C++11 æ ‡å‡†å¯¹ç›®æ ‡ä¸º <code>bool</code> ç±»å‹çš„è½¬æ¢ï¼Œæ”¹å˜äº†æ ‡å‡†ã€‚</p><p><strong>å…·ä½“æ ‡å‡†å¦‚ä¸‹ï¼š</strong></p><blockquote><p>ä¸‹åˆ—è¯­å¢ƒä¸­ï¼ŒæœŸå¾…ç±»å‹ <code>bool</code> ï¼Œè€Œè‹¥å£°æ˜ <code>bool t(e)</code>; ä¸ºè‰¯å¼åˆ™è¿›è¡Œéšå¼è½¬æ¢ï¼ˆå³è€ƒè™‘å¦‚ <code>explicit T::operator bool() const;</code> çš„éšå¼è½¬æ¢å‡½æ•°ï¼‰ã€‚æˆ‘ä»¬è¯´è¿™ç§è¡¨è¾¾å¼ <code>e</code> å¯æŒ‰è¯­å¢ƒè½¬æ¢ä¸º <code>bool</code>ã€‚</p><ul><li><code>if</code> ã€ <code>while</code> ã€ <code>for</code> çš„æ§åˆ¶è¡¨è¾¾å¼ï¼›</li><li>å†…å»ºé€»è¾‘è¿ç®—ç¬¦ <code>!</code> ã€ <code>&amp;&amp;</code> å’Œ <code>||</code> çš„è¿ç®—æ•°ï¼›</li><li>æ¡ä»¶è¿ç®—ç¬¦ <code>?:</code> çš„é¦–ä¸ªè¿ç®—æ•°ï¼›</li><li><code>static_assert</code>  å£°æ˜ä¸­çš„è°“è¯ï¼›(C++11èµ·)</li><li><code>noexcept</code>  æŒ‡å®šç¬¦ä¸­çš„è¡¨è¾¾å¼ï¼›</li><li><code>explicit</code>  æŒ‡å®šç¬¦ä¸­çš„è¡¨è¾¾å¼ï¼›(C++20 èµ·)</li><li>å¥‘çº¦å±æ€§ çš„è°“è¯ã€‚(C++20 èµ·)</li></ul></blockquote><p>è¿™æ ·åœ¨éä¸Šè¿°è¯­å¢ƒä¸‹è½¬æ¢ä¸º <code>bool</code> ç±»å‹å°±éœ€è¦æ˜¾å¼è½¬æ¢ï¼Œè€Œåœ¨æ§åˆ¶è¡¨è¾¾å¼ä¸­å¯ä»¥è‡ªåŠ¨çš„éšå¼è½¬æ¢ã€‚å¢å¼ºå®‰å…¨æ€§çš„åŒæ—¶ä¹Ÿä¿è¯å‘å‰å…¼å®¹ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://zh.cppreference.com/w/cpp/language/implicit_conversion" target="_blank" rel="noopener">éšå¼è½¬æ¢</a></li><li><a href="https://zh.cppreference.com/w/cpp/io/basic_ios" target="_blank" rel="noopener">std::basic_ios</a></li><li><a href="https://zh.cppreference.com/w/cpp/io/basic_ios/operator_bool" target="_blank" rel="noopener">std::basic_ios::operator bool</a></li><li><a href="https://zh.cppreference.com/w/cpp/language/explicit" target="_blank" rel="noopener">explicit æŒ‡å®šç¬¦</a></li><li><a href="https://zh.cppreference.com/w/cpp/language/while" target="_blank" rel="noopener">while å¾ªç¯</a></li><li><a href="https://zh.cppreference.com/w/cpp/language/if" target="_blank" rel="noopener">if è¯­å¥</a></li><li>ã€Šæ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ã€‹â€”â€” Stanley B. Lippman</li><li>ã€ŠC++è¯­è¨€çš„è®¾è®¡ä¸æ¼”åŒ–ã€‹â€”â€” Bjarne Stroustrup</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä¸ºä»€ä¹ˆå¯ä»¥-while-cin-gt-gt-n-ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆå¯ä»¥-while-cin-gt-gt-n-ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆå¯ä»¥ while( cin &amp;gt;&amp;gt; n ) ï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆå¯ä»¥
      
    
    </summary>
    
      <category term="ç¼–ç¨‹è¯­è¨€ - Cpp" scheme="https://blog.pazyx.xyz/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-Cpp/"/>
    
    
      <category term="Cpp" scheme="https://blog.pazyx.xyz/tags/Cpp/"/>
    
      <category term="bool" scheme="https://blog.pazyx.xyz/tags/bool/"/>
    
      <category term="basic_ios" scheme="https://blog.pazyx.xyz/tags/basic-ios/"/>
    
      <category term="è¿ç®—ç¬¦é‡è½½" scheme="https://blog.pazyx.xyz/tags/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD/"/>
    
      <category term="ç±»å‹è½¬æ¢" scheme="https://blog.pazyx.xyz/tags/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"/>
    
      <category term="Cppæ¼”åŒ–" scheme="https://blog.pazyx.xyz/tags/Cpp%E6%BC%94%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>System.in</title>
    <link href="https://blog.pazyx.xyz/2018/06/16/System-in/"/>
    <id>https://blog.pazyx.xyz/2018/06/16/System-in/</id>
    <published>2018-06-16T12:18:32.000Z</published>
    <updated>2018-07-21T14:19:57.067Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Scanner-in-new-Scanner-System-in"><a href="#Scanner-in-new-Scanner-System-in" class="headerlink" title=" Scanner in = new Scanner(System.in) "></a><center> Scanner in = new Scanner(System.in) </center></h1><h4 id="2018-6-10"><a href="#2018-6-10" class="headerlink" title=" 2018.6.10 "></a><center> 2018.6.10 </center></h4><p><img src="/2018/06/16/System-in/1.png" alt=""></p><p><img src="/2018/06/16/System-in/2.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Scanner-in-new-Scanner-System-in&quot;&gt;&lt;a href=&quot;#Scanner-in-new-Scanner-System-in&quot; class=&quot;headerlink&quot; title=&quot; Scanner in = new Scanner(Sy
      
    
    </summary>
    
      <category term="æ³› - çºªå¿µ" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E7%BA%AA%E5%BF%B5/"/>
    
    
      <category term="ACM" scheme="https://blog.pazyx.xyz/tags/ACM/"/>
    
      <category term="çœèµ›" scheme="https://blog.pazyx.xyz/tags/%E7%9C%81%E8%B5%9B/"/>
    
      <category term="ACMé¢˜ç›®" scheme="https://blog.pazyx.xyz/tags/ACM%E9%A2%98%E7%9B%AE/"/>
    
      <category term="çºªå¿µ" scheme="https://blog.pazyx.xyz/tags/%E7%BA%AA%E5%BF%B5/"/>
    
      <category term="Java" scheme="https://blog.pazyx.xyz/tags/Java/"/>
    
      <category term="Scanner" scheme="https://blog.pazyx.xyz/tags/Scanner/"/>
    
      <category term="System.in" scheme="https://blog.pazyx.xyz/tags/System-in/"/>
    
  </entry>
  
  <entry>
    <title>GCC LD DD å‘½ä»¤é€‰é¡¹</title>
    <link href="https://blog.pazyx.xyz/2018/05/11/gcc-ld-dd-cmd/"/>
    <id>https://blog.pazyx.xyz/2018/05/11/gcc-ld-dd-cmd/</id>
    <published>2018-05-11T15:36:31.000Z</published>
    <updated>2018-07-06T20:08:56.120Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æ­¤ç¯‡ä»…ä»‹ç»ä¸€äº›æˆ‘åœ¨ ucore æ“ä½œç³»ç»Ÿçš„ makefile æ–‡ä»¶ä¸­é‡åˆ°çš„å‘½ä»¤é€‰é¡¹ï¼Œä½œä¸º lab_1 å®éªŒæŠ¥å‘Šçš„ä¸€éƒ¨åˆ†ã€‚</p><h1 id="GCC"><a href="#GCC" class="headerlink" title="GCC"></a>GCC</h1><ul><li>-c è¿›è¡Œé¢„å¤„ç†ã€ç¼–è¯‘ã€æ±‡ç¼–ï¼Œç”Ÿæˆç›®æ ‡ä»£ç æ–‡ä»¶ï¼Œä¸è¿›è¡Œé“¾æ¥</li><li>-S ä»…è¿›è¡Œé¢„å¤„ç†ã€ç¼–è¯‘ï¼Œç”Ÿæˆæ±‡ç¼–ä»£ç æ–‡ä»¶</li><li>-E ä»…è¿›è¡Œé¢„å¤„ç†</li><li><p>-o file æŒ‡å®šè¾“å‡ºæ–‡ä»¶å</p><p><a href="https://paste.ubuntu.com/p/yJmG6rPmXN/" target="_blank" rel="noopener">GCC 8.1 manuals æ‘˜å½•</a></p></li><li><p>-I (å¤§å†™ i ) æŒ‡å®šå¤´æ–‡ä»¶ä½ç½®</p></li><li>-L (å¤§å†™ L ) æŒ‡å®šåº“æ–‡ä»¶ä½ç½®</li><li><p>-l (å°å†™ L) æŒ‡å®šåº“åå­—</p><p>-I -L -l é€‰é¡¹çš„è¯¦è§£åˆ†åˆ«åœ¨ <a href="https://gcc.gnu.org/onlinedocs/gcc-8.1.0/gcc/" target="_blank" rel="noopener">GCC 8.1 manuals</a> çš„ç¬¬ 200ã€201ã€195 é¡µ</p></li><li>-Wall å¼€å¯å¤§éƒ¨åˆ†è­¦å‘Šï¼Œåˆ—è¡¨å¦‚ä¸‹ã€‚ä¸€äº›ä¸å¸¸ç”¨çš„è­¦å‘Šå¯åŠ  -Wextra é€‰é¡¹é…åˆ - Wall å…¨éƒ¨æ‰“å¼€</li></ul><table><thead><tr><th>é€‰é¡¹</th></tr></thead><tbody><tr><td><code>-Waddress</code></td></tr><tr><td><code>-Warray-bounds=1 (only with â€˜-O2â€™)</code></td></tr><tr><td><code>-Wbool-compare</code></td></tr><tr><td><code>-Wbool-operation</code></td></tr><tr><td><code>-Wc++11-compat -Wc++14-compat</code></td></tr><tr><td><code>-Wcatch-value (C++ and Objective-C++ only)</code></td></tr><tr><td><code>-Wchar-subscripts</code></td></tr><tr><td><code>-Wcomment</code></td></tr><tr><td><code>-Wduplicate-decl-specifier (C and Objective-C only)</code></td></tr><tr><td><code>-Wenum-compare (in C/ObjC; this is on by default in C++)</code></td></tr><tr><td><code>-Wformat</code></td></tr><tr><td><code>-Wint-in-bool-context</code></td></tr><tr><td><code>-Wimplicit (C and Objective-C only)</code></td></tr><tr><td><code>-Wimplicit-int (C and Objective-C only)</code></td></tr><tr><td><code>-Wimplicit-function-declaration (C and Objective-C only)</code></td></tr><tr><td><code>-Winit-self (only for C++)</code></td></tr><tr><td><code>-Wlogical-not-parentheses</code></td></tr><tr><td><code>-Wmain (only for C/ObjC and unless â€˜-ffreestandingâ€™)</code></td></tr><tr><td><code>-Wmaybe-uninitialized</code></td></tr><tr><td><code>-Wmemset-elt-size</code></td></tr><tr><td><code>-Wmemset-transposed-args</code></td></tr><tr><td><code>-Wmisleading-indentation (only for C/C++)</code></td></tr><tr><td><code>-Wmissing-attributes</code></td></tr><tr><td><code>-Wmissing-braces (only for C/ObjC)</code></td></tr><tr><td><code>-Wmultistatement-macros</code></td></tr><tr><td><code>-Wnarrowing (only for C++)</code></td></tr><tr><td><code>-Wnonnull</code></td></tr><tr><td><code>-Wnonnull-compare</code></td></tr><tr><td><code>-Wopenmp-simd</code></td></tr><tr><td><code>-Wparentheses</code></td></tr><tr><td><code>-Wpointer-sign</code></td></tr><tr><td><code>-Wreorder</code></td></tr><tr><td><code>-Wreorder</code></td></tr><tr><td><code>-Wrestrict</code></td></tr><tr><td><code>-Wreturn-type</code></td></tr><tr><td><code>-Wsequence-point</code></td></tr><tr><td><code>-Wsign-compare (only in C++)</code></td></tr><tr><td><code>-Wsizeof-pointer-div</code></td></tr><tr><td><code>-Wsizeof-pointer-memaccess</code></td></tr><tr><td><code>-Wstrict-aliasing</code></td></tr><tr><td><code>-Wstrict-overflow=1</code></td></tr><tr><td><code>-Wswitch</code></td></tr><tr><td><code>-Wtautological-compare</code></td></tr><tr><td><code>-Wtrigraphs</code></td></tr><tr><td><code>-Wuninitialized</code></td></tr><tr><td><code>-Wunknown-pragmas</code></td></tr><tr><td><code>-Wunused-function</code></td></tr><tr><td><code>-Wunused-label</code></td></tr><tr><td><code>-Wunused-value</code></td></tr><tr><td><code>-Wunused-variable</code></td></tr><tr><td><code>-Wvolatile-register-var</code></td></tr></tbody></table><ul><li>-fno-builtin ä¸æ‰¿è®¤ä¸ä»¥ __builtin_ å¼€å¤´çš„å†…å»º ( built-in ) å‡½æ•°ã€‚</li><li>-ggdb ç”Ÿæˆç”¨äºGDBçš„è°ƒè¯•ä¿¡æ¯</li><li>-gstabs ä½¿ç”¨stabsæ ¼å¼ç”Ÿæˆè°ƒè¯•ä¿¡æ¯ï¼Œ</li><li>-nostdinc ä¸æœç´¢å¤´æ–‡ä»¶çš„æ ‡å‡†ç³»ç»Ÿç›®å½•</li><li>-fno-stack-protector ç¦ç”¨å †æ ˆä¿æŠ¤æœºåˆ¶</li></ul><h1 id="GNU-linker-ld-å‘½ä»¤é€‰é¡¹"><a href="#GNU-linker-ld-å‘½ä»¤é€‰é¡¹" class="headerlink" title="GNU linker ( ld ) å‘½ä»¤é€‰é¡¹"></a>GNU linker ( ld ) å‘½ä»¤é€‰é¡¹</h1><ul><li>-m emulation æ¨¡æ‹Ÿä»¿çœŸé“¾æ¥å™¨ å¦‚ï¼š-m elf_i386</li><li>-nostdlib åªç”¨åœ¨å‘½ä»¤è¡Œä¸­æ˜¾å¼æŒ‡å®šçš„æœç´¢åº“ç›®å½•</li><li>-N è®¾ç½®ä»£ç æ®µå’Œæ•°æ®æ®µå‡å¯è¯»å†™</li><li>-e æŒ‡å®šå…¥å£</li><li>-Ttext è¿æ¥æ—¶é‡å®šå‘åˆå§‹åœ°å€</li></ul><h1 id="dd-å‘½ä»¤å‚æ•°"><a href="#dd-å‘½ä»¤å‚æ•°" class="headerlink" title="dd å‘½ä»¤å‚æ•°"></a>dd å‘½ä»¤å‚æ•°</h1><ul><li><strong>if</strong> ä»£è¡¨è¾“å…¥æ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šifï¼Œé»˜è®¤å°±ä¼šä»stdinä¸­è¯»å–è¾“å…¥ã€‚</li><li><strong>of</strong> ä»£è¡¨è¾“å‡ºæ–‡ä»¶ã€‚å¦‚æœä¸æŒ‡å®šofï¼Œé»˜è®¤å°±ä¼šå°†stdoutä½œä¸ºé»˜è®¤è¾“å‡ºã€‚</li><li><strong>bs</strong> ä»£è¡¨å­—èŠ‚ä¸ºå•ä½çš„å—å¤§å°ã€‚</li><li><strong>count</strong> ä»£è¡¨è¢«å¤åˆ¶çš„å—æ•°ã€‚</li><li><strong>/dev/zero</strong> æ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡ï¼Œä¼šä¸æ–­è¿”å›0å€¼å­—èŠ‚ï¼ˆ\0ï¼‰</li></ul><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://gcc.gnu.org/onlinedocs/gcc-8.1.0/gcc/" target="_blank" rel="noopener">GCC 8.1 manuals</a></li><li>ld GNU Development Tools ( man ld )</li><li><a href="http://man.linuxde.net/dd" target="_blank" rel="noopener">Linux dd å‘½ä»¤è¯¦è§£</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;&lt;a href=&quot;#æ¦‚è¿°&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¿°&quot;&gt;&lt;/a&gt;æ¦‚è¿°&lt;/h1&gt;&lt;p&gt;æ­¤ç¯‡ä»…ä»‹ç»ä¸€äº›æˆ‘åœ¨ ucore æ“ä½œç³»ç»Ÿçš„ makefile æ–‡ä»¶ä¸­é‡åˆ°çš„å‘½ä»¤é€‰é¡¹ï¼Œä½œä¸º lab_1 å®éªŒæŠ¥å‘Šçš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h1 i
      
    
    </summary>
    
      <category term="æ³› - è®¡ç®—æœº" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="Linux" scheme="https://blog.pazyx.xyz/tags/Linux/"/>
    
      <category term="C" scheme="https://blog.pazyx.xyz/tags/C/"/>
    
      <category term="gcc" scheme="https://blog.pazyx.xyz/tags/gcc/"/>
    
      <category term="ld" scheme="https://blog.pazyx.xyz/tags/ld/"/>
    
      <category term="dd" scheme="https://blog.pazyx.xyz/tags/dd/"/>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="https://blog.pazyx.xyz/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="linker" scheme="https://blog.pazyx.xyz/tags/linker/"/>
    
  </entry>
  
  <entry>
    <title>X86 è®¡ç®—æœºå¯åŠ¨æµç¨‹</title>
    <link href="https://blog.pazyx.xyz/2018/05/03/x86-cpu-boot/"/>
    <id>https://blog.pazyx.xyz/2018/05/03/x86-cpu-boot/</id>
    <published>2018-05-03T11:56:37.000Z</published>
    <updated>2018-07-06T20:09:30.560Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼"><a href="#ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼" class="headerlink" title="ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼"></a>ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼</h1><p><img src="/2018/05/03/x86-cpu-boot/ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼.png" alt=""><br>åŠ ç”µå CPU è¿›å…¥å®æ¨¡å¼ï¼ˆä¸ºäº†å…¼å®¹æ—©æœŸçš„8086å¤„ç†å™¨ï¼‰ï¼Œå®æ¨¡å¼ä¸‹ CPU åªæœ‰ 1M çš„å¯»å€ç©ºé—´ï¼Œåœ°å€è®¡ç®—ä¸º: $EA = Base + EIP$</p><p>å³åŠ ç”µåçš„èµ·å§‹åœ°å€ä¸º </p><p>$CS:EIP = FFFF0000H+0000FFF0H = FFFFFFF0H$</p><h1 id="ä»-FFFFFFF0H-åˆ°-00007C00H"><a href="#ä»-FFFFFFF0H-åˆ°-00007C00H" class="headerlink" title="ä» FFFFFFF0H åˆ° 00007C00H"></a>ä» FFFFFFF0H åˆ° 00007C00H</h1><p>FFFFFFF0H ä¸­æœ‰ä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œæ”¾ç€çš„æ˜¯ CPU è¦æ‰§è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼Œé€šå¸¸æ˜¯ä¸€æ¡é•¿è·³è½¬æŒ‡ä»¤ï¼Œå®ƒä¼šè®¾ç½® CS å’Œ EIP å°†æ§åˆ¶æƒäº¤ç»™ BIOS åšåˆå§‹åŒ–å·¥ä½œã€‚ BIOS çš„æ‰§è¡Œè¿‡ç¨‹</p><ul><li>ç¡¬ä»¶è‡ªæ£€</li><li>æ£€æµ‹å…³é”®éƒ¨ä»¶çš„å­˜åœ¨å’Œå·¥ä½œçŠ¶æ€</li><li>æŸ¥æ‰¾å¹¶æ‰§è¡Œæ¥å£å¡çš„ BIOS è¿›è¡Œè®¾å¤‡åˆå§‹åŒ–</li><li>æ‰§è¡Œç³»ç»Ÿ BIOS è¿›è¡Œç³»ç»Ÿæ£€æµ‹ï¼Œæ£€æµ‹å’Œé…ç½®å³æ’å³ç”¨è®¾å¤‡</li><li>æ›´æ–° CMOS çš„æ‰©å±•ç³»ç»Ÿé…ç½®æ•°æ® ESCD (ç³»ç»Ÿé…ç½®è¡¨)</li><li>æŒ‰æŒ‡å®šé¡ºåºä»è½¯ç›˜ã€ç¡¬ç›˜æˆ–å…‰é©±å¯åŠ¨</li><li>è¯»å–ä¸»å¼•å¯¼æ‰‡åŒºä»£ç ï¼Œæ‹¿åˆ°ä¸»å¼•å¯¼è®°å½•</li><li>ä¸»å¼•å¯¼æ‰‡åŒºä»£ç è¯»å–æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºä»£ç </li><li>æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºä»£ç è¯»å–æ–‡ä»¶ç³»ç»Ÿçš„åŠ è½½ç¨‹åºåˆ°å†…å­˜ä¸­çš„ 00007C00H å¤„</li><li>å°† CS:EIP è®¾ç½®ä¸º 00007C00H æ§åˆ¶æƒäº¤ç»™åŠ è½½ç¨‹åº( bootloader )</li></ul><p>è‡³æ­¤è®¡ç®—æœºçš„æ§åˆ¶æƒå·²ç»äº¤ç»™æ“ä½œç³»ç»Ÿçš„ bootloader ç¨‹åºã€‚</p><h1 id="bootloader-å¯åŠ¨è¿‡ç¨‹"><a href="#bootloader-å¯åŠ¨è¿‡ç¨‹" class="headerlink" title="bootloader å¯åŠ¨è¿‡ç¨‹"></a>bootloader å¯åŠ¨è¿‡ç¨‹</h1><ul><li>åˆ‡æ¢åˆ°ä¿æŠ¤æ¨¡å¼ï¼Œå¯ç”¨åˆ†æ®µæœºåˆ¶</li><li>è¯»ç£ç›˜ä¸­ ELF æ‰§è¡Œæ–‡ä»¶æ ¼å¼çš„æ“ä½œç³»ç»Ÿåˆ°å†…å­˜</li><li>æ˜¾ç¤ºå­—ç¬¦ä¸²ä¿¡æ¯</li><li>æŠŠæ§åˆ¶æƒäº¤ç»™æ“ä½œç³»ç»Ÿ</li></ul><h3 id="bootloader-ä»£ç "><a href="#bootloader-ä»£ç " class="headerlink" title="bootloader ä»£ç "></a>bootloader ä»£ç </h3><p><strong>ucore</strong></p><ul><li><a href="https://paste.ubuntu.com/p/qThFWK4m6w/" target="_blank" rel="noopener">asm.h</a></li><li><a href="https://paste.ubuntu.com/p/S8gpwvjC9s/" target="_blank" rel="noopener">bootasm.S</a></li><li><a href="https://paste.ubuntu.com/p/dsShT59wc3/" target="_blank" rel="noopener">bootmain.c</a></li></ul><p><strong>xv6</strong></p><ul><li><a href="https://paste.ubuntu.com/p/tPfkVHS9gq/" target="_blank" rel="noopener">bootasm.S</a></li><li><a href="https://paste.ubuntu.com/p/rbtsqtkzzW/" target="_blank" rel="noopener">bootmain.c</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼&quot;&gt;&lt;a href=&quot;#ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼&quot; class=&quot;headerlink&quot; title=&quot;ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼&quot;&gt;&lt;/a&gt;ç¡¬ä»¶åŠ ç”µåå¯„å­˜å™¨åˆå§‹å€¼&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/2018/05/03/x86-cpu-boot
      
    
    </summary>
    
      <category term="æ³› - è®¡ç®—æœº" scheme="https://blog.pazyx.xyz/categories/%E6%B3%9B-%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="https://blog.pazyx.xyz/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="å¯„å­˜å™¨" scheme="https://blog.pazyx.xyz/tags/%E5%AF%84%E5%AD%98%E5%99%A8/"/>
    
      <category term="CPU" scheme="https://blog.pazyx.xyz/tags/CPU/"/>
    
      <category term="ç¡¬ä»¶" scheme="https://blog.pazyx.xyz/tags/%E7%A1%AC%E4%BB%B6/"/>
    
      <category term="bootloader" scheme="https://blog.pazyx.xyz/tags/bootloader/"/>
    
      <category term="BIOS" scheme="https://blog.pazyx.xyz/tags/BIOS/"/>
    
      <category term="å¯åŠ¨æµç¨‹" scheme="https://blog.pazyx.xyz/tags/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/"/>
    
      <category term="X86" scheme="https://blog.pazyx.xyz/tags/X86/"/>
    
      <category term="Intel" scheme="https://blog.pazyx.xyz/tags/Intel/"/>
    
  </entry>
  
  <entry>
    <title>AT&amp;T ä¸ Intel æ±‡ç¼–ä¸»è¦è¯­æ³•å·®å¼‚</title>
    <link href="https://blog.pazyx.xyz/2018/04/23/att-intel-differents/"/>
    <id>https://blog.pazyx.xyz/2018/04/23/att-intel-differents/</id>
    <published>2018-04-23T13:51:49.000Z</published>
    <updated>2018-08-17T17:49:51.717Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ“ä½œæ•°é¡ºåº"><a href="#æ“ä½œæ•°é¡ºåº" class="headerlink" title="æ“ä½œæ•°é¡ºåº"></a>æ“ä½œæ•°é¡ºåº</h1><p>åœ¨ä¸€èˆ¬çš„äºŒå…ƒæŒ‡ä»¤ï¼ˆå¦‚ movã€add â€¦ï¼‰ä¸­ï¼Œä¸¤ä¸ªæ“ä½œæ•°åˆ†ä¸ºæºæ“ä½œæ•°å’Œç›®çš„æ“ä½œæ•°ã€‚AT&amp;T ä¸ Intelæ“ä½œæ•°çš„é¡ºåºæ­£å¥½ç›¸åã€‚</p><ul><li>â€œOp-code dst srcâ€ in <strong>Intel</strong> syntax.</li><li>â€œOp-code src dstâ€ in <strong>AT&amp;T</strong> syntax.</li></ul><h1 id="å¯„å­˜å™¨åç§°"><a href="#å¯„å­˜å™¨åç§°" class="headerlink" title="å¯„å­˜å™¨åç§°"></a>å¯„å­˜å™¨åç§°</h1><p>AT&amp;T è¯­æ³•ä¸­å¯„å­˜å™¨åç§°éœ€è¦åŠ å‰ç¼€ â€™%â€™ ï¼Œè€Œ Intel ä¸éœ€è¦ã€‚</p><h1 id="ç«‹å³æ•°"><a href="#ç«‹å³æ•°" class="headerlink" title="ç«‹å³æ•°"></a>ç«‹å³æ•°</h1><p>AT&amp;T è¯­æ³•ä¸­ç«‹å³æ•°éœ€è¦åŠ å‰ç¼€ â€™$â€™ ï¼Œå¯¹äºé™æ€ â€˜Câ€™ å˜é‡ä¹Ÿä¸€æ ·ã€‚Intelçš„è¯­æ³•æ ‡å‡†ä¸éœ€è¦ã€‚</p><h1 id="æ“ä½œæ•°å¤§å°"><a href="#æ“ä½œæ•°å¤§å°" class="headerlink" title="æ“ä½œæ•°å¤§å°"></a>æ“ä½œæ•°å¤§å°</h1><p>AT&amp;T è¯­æ³•ä¸­ï¼Œæ“ä½œæ•°å¤§å°ç”±æŒ‡ä»¤çš„æœ€åä¸€ä¸ªå­—ç¬¦å†³å®šï¼Œâ€œbâ€ã€â€œwâ€ å’Œ â€œlâ€ çš„æŒ‡ä»¤åç¼€åˆ†åˆ«è¡¨ç¤ºå­—èŠ‚(8ä½)ã€word(16ä½)å’Œé•¿(32ä½)å†…å­˜å¼•ç”¨ã€‚ Intel è¯­æ³•ä¸­ï¼Œç”±æ“ä½œæ•°çš„å‰ç¼€ â€™byte ptrâ€™, â€™word ptrâ€™, å’Œ â€™dword ptrâ€™ å†³å®šã€‚</p><ul><li>â€œmov al, byte ptr fooâ€ in <strong>Intel</strong> syntax</li><li>â€œmovb foo, %alâ€ in <strong>AT&amp;T</strong> syntax</li></ul><h1 id="å¯»å€æ–¹å¼"><a href="#å¯»å€æ–¹å¼" class="headerlink" title="å¯»å€æ–¹å¼"></a>å¯»å€æ–¹å¼</h1><p>AT&amp;T è¯­æ³•ä¸­åŸºæŒ‡å¯„å­˜å™¨è¢« ( ) æ‹¬èµ·æ¥ï¼Œè€Œ Intel è¯­æ³•ä¸­ä½¿ç”¨ [ ] ã€‚ <strong>åœ°å€è¡¨ç¤ºï¼š</strong></p><ul><li>section:[base + index*scale + disp] in <strong>Intel</strong> syntax</li><li>section:disp(base, index, scale) in <strong>AT&amp;T</strong> syntax</li></ul><ul><li>sectionï¼šæ®µåœ°å€</li><li>dispï¼šåç§»åœ°å€</li><li>indexï¼šå˜å€</li><li>scaleï¼šæ¯”ä¾‹å› å­</li></ul><p><strong>è®¡ç®—å…¬å¼ï¼š[EA = base + ( index * scale ) + disp]</strong></p><h1 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h1><table><thead><tr><th>Intel Code</th><th>AT&amp;T Code</th></tr></thead><tbody><tr><td><code>mov eax,1</code></td><td><code>movl $1,%eax</code></td></tr><tr><td><code>mov ebx,0ffh</code></td><td><code>movl $0xff,%ebx</code></td></tr><tr><td><code>int 80h</code></td><td><code>int $0x80</code></td></tr><tr><td><code>mov ebx,eax</code></td><td><code>movl %eax,%ebx</code></td></tr><tr><td><code>mov eax,[ecx]</code></td><td><code>movl (%ecx),%eax</code></td></tr><tr><td><code>mov eax,[ebx+3]</code></td><td><code>movl 3(%ebx),%eax</code></td></tr><tr><td><code>mov eax,[ebx+20h]</code></td><td><code>movl 0x20(%ebx),%eax</code></td></tr><tr><td><code>add eax,[ebx+ecx*2h]</code></td><td><code>addl (%ebx,%ecx,0x2),%eax</code></td></tr><tr><td><code>lea eax,[ebx+ecx]</code></td><td><code>leal (%ebx,%ecx),%eax</code></td></tr><tr><td><code>sub eax,[ebx+ecx*4h-20h]</code></td><td><code>subl -0x20(%ebx,%ecx,0x4),%eax</code></td></tr></tbody></table><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li>GCC-Inline-Assembly-HOWTO : <a href="http://ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html#s3" target="_blank" rel="noopener">http://ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html#s3</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ“ä½œæ•°é¡ºåº&quot;&gt;&lt;a href=&quot;#æ“ä½œæ•°é¡ºåº&quot; class=&quot;headerlink&quot; title=&quot;æ“ä½œæ•°é¡ºåº&quot;&gt;&lt;/a&gt;æ“ä½œæ•°é¡ºåº&lt;/h1&gt;&lt;p&gt;åœ¨ä¸€èˆ¬çš„äºŒå…ƒæŒ‡ä»¤ï¼ˆå¦‚ movã€add â€¦ï¼‰ä¸­ï¼Œä¸¤ä¸ªæ“ä½œæ•°åˆ†ä¸ºæºæ“ä½œæ•°å’Œç›®çš„æ“ä½œæ•°ã€‚AT&amp;amp;T ä¸ Intelæ“
      
    
    </summary>
    
      <category term="ç¼–ç¨‹è¯­è¨€ - Assembly" scheme="https://blog.pazyx.xyz/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80-Assembly/"/>
    
    
      <category term="æ±‡ç¼–è¯­è¨€" scheme="https://blog.pazyx.xyz/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/"/>
    
      <category term="ç¼–ç¨‹è¯­è¨€" scheme="https://blog.pazyx.xyz/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
</feed>
